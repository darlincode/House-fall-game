{"map":"{\"version\":3,\"sources\":[\"/home/darlington-chuks/Documents/game-engine/src/game/utils/perlin.js\",\"/home/darlington-chuks/Documents/game-engine/node_modules/file-loader/dist/cjs.js??ref--6-oneOf-7!/home/darlington-chuks/Documents/game-engine/src/assets/audio/crash-01.wav\",\"/home/darlington-chuks/Documents/game-engine/node_modules/url-loader/dist/cjs.js??ref--6-oneOf-0!/home/darlington-chuks/Documents/game-engine/src/assets/sprite-sheets/cuphead.png\",\"/home/darlington-chuks/Documents/game-engine/src/game/utils/three/fbx-loader.js\",\"/home/darlington-chuks/Documents/game-engine/node_modules/file-loader/dist/cjs.js??ref--6-oneOf-7!/home/darlington-chuks/Documents/game-engine/src/assets/models/droid.fbx\",\"/home/darlington-chuks/Documents/game-engine/node_modules/url-loader/dist/cjs.js??ref--6-oneOf-0!/home/darlington-chuks/Documents/game-engine/src/assets/textures/perlin.png\",\"/home/darlington-chuks/Documents/game-engine/node_modules/url-loader/dist/cjs.js??ref--6-oneOf-0!/home/darlington-chuks/Documents/game-engine/src/assets/textures/particle.png\",\"/home/darlington-chuks/Documents/game-engine/node_modules/file-loader/dist/cjs.js??ref--6-oneOf-7!/home/darlington-chuks/Documents/game-engine/src/assets/models/jet.glb\",\"/home/darlington-chuks/Documents/game-engine/src/game/graphics/shaders/copy-shader.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/graphics/passes/pass.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/graphics/passes/shader-pass.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/graphics/passes/mask-pass.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/graphics/passes/clear-mask-pass.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/graphics/effect-composer.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/graphics/passes/render-pass.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/graphics/renderer.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/utils/three/skeleton-utils.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/utils/three/index.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/systems/camera.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/utils/index.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/systems/particles.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/systems/removal.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/systems/rotation.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/systems/timeline.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/systems/hud.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/systems/gamepad-controller.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/systems/keyboard-controller.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/systems/mouse-controller.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/systems/physics.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/systems/spawn.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/components/box.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/components/cylinder.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/systems/index.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/components/sprite.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/components/cuphead.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/components/hud.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/components/turntable.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/components/animated-model.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/components/droid.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/graphics/gpu-particle-system.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/components/particles.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/components/portal.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/utils/three/dds-loader.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/utils/three/gltf-loader.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/components/jet.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/entities.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/components/camera.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/graphics/shaders/pixel-shader.js\",\"/home/darlington-chuks/Documents/game-engine/src/game/index.js\",\"/home/darlington-chuks/Documents/game-engine/src/service-worker.js\",\"/home/darlington-chuks/Documents/game-engine/src/index.js\"],\"names\":[\"perlin\",\"perlin_octaves\",\"perlin_amp_falloff\",\"scaled_cosine\",\"i\",\"Math\",\"cos\",\"PI\",\"module\",\"exports\",\"noise\",\"x\",\"y\",\"z\",\"Array\",\"PERLIN_SIZE\",\"random\",\"rxf\",\"ryf\",\"n1\",\"n2\",\"n3\",\"xi\",\"floor\",\"yi\",\"zi\",\"xf\",\"yf\",\"zf\",\"r\",\"ampl\",\"o\",\"of\",\"noiseDetail\",\"lod\",\"falloff\",\"noiseSeed\",\"seed\",\"lcg\",\"m\",\"setSeed\",\"val\",\"getSeed\",\"rand\",\"__webpack_require__\",\"p\",\"global\",\"three_examples_js_libs_inflate_min__WEBPACK_IMPORTED_MODULE_0__\",\"three_examples_js_libs_inflate_min__WEBPACK_IMPORTED_MODULE_0___default\",\"n\",\"three_examples_jsm_loaders_FBXLoader__WEBPACK_IMPORTED_MODULE_1__\",\"Zlib\",\"FBXLoader\",\"CopyShader\",\"uniforms\",\"tDiffuse\",\"value\",\"opacity\",\"vertexShader\",\"join\",\"fragmentShader\",\"Pass\",\"this\",\"enabled\",\"needsSwap\",\"clear\",\"renderToScreen\",\"Object\",\"assign\",\"prototype\",\"setSize\",\"width\",\"height\",\"render\",\"renderer\",\"writeBuffer\",\"readBuffer\",\"delta\",\"maskActive\",\"console\",\"error\",\"FullScreenQuad\",\"camera\",\"OrthographicCamera\",\"geometry\",\"PlaneBufferGeometry\",\"material\",\"_mesh\",\"Mesh\",\"defineProperty\",\"get\",\"set\",\"ShaderPass\",\"shader\",\"textureID\",\"call\",\"undefined\",\"THREE\",\"clone\",\"defines\",\"scene\",\"quad\",\"frustumCulled\",\"add\",\"create\",\"constructor\",\"deltaTime\",\"texture\",\"setRenderTarget\",\"autoClearColor\",\"autoClearDepth\",\"autoClearStencil\",\"MaskPass\",\"inverse\",\"writeValue\",\"clearValue\",\"context\",\"state\",\"buffers\",\"color\",\"setMask\",\"depth\",\"setLocked\",\"stencil\",\"setTest\",\"setOp\",\"REPLACE\",\"setFunc\",\"ALWAYS\",\"setClear\",\"EQUAL\",\"KEEP\",\"ClearMaskPass\",\"EffectComposer\",\"renderTarget\",\"parameters\",\"minFilter\",\"magFilter\",\"format\",\"stencilBuffer\",\"size\",\"getDrawingBufferSize\",\"name\",\"renderTarget1\",\"renderTarget2\",\"passes\",\"copyPass\",\"swapBuffers\",\"tmp\",\"addPass\",\"pass\",\"push\",\"insertPass\",\"index\",\"splice\",\"il\",\"length\",\"stencilFunc\",\"NOTEQUAL\",\"reset\",\"dispose\",\"RenderPass\",\"overrideMaterial\",\"clearColor\",\"clearAlpha\",\"clearDepth\",\"oldClearColor\",\"oldClearAlpha\",\"oldAutoClear\",\"autoClear\",\"getClearColor\",\"getHex\",\"getClearAlpha\",\"setClearColor\",\"ThreeView\",\"onResize\",\"container\",\"_this\",\"refs\",\"clientWidth\",\"clientHeight\",\"dpr\",\"window\",\"devicePixelRatio\",\"props\",\"resize\",\"setPixelRatio\",\"_this2\",\"composer\",\"concat\",\"toConsumableArray\",\"forEach\",\"addEventListener\",\"appendChild\",\"domElement\",\"removeEventListener\",\"removeChild\",\"react_default\",\"a\",\"createElement\",\"ref\",\"style\",\"css\",\"PureComponent\",\"overflow\",\"renderHUD\",\"entities\",\"hud\",\"type\",\"key\",\"ThreeJSRenderer\",\"_len2\",\"arguments\",\"_key2\",\"renderer_ThreeView\",\"_\",\"flatten\",\"SkeletonUtils\",\"retarget\",\"pos\",\"quat\",\"scale\",\"bindBoneMatrix\",\"relativeMatrix\",\"globalMatrix\",\"target\",\"source\",\"options\",\"preserveMatrix\",\"preservePosition\",\"preserveHipPosition\",\"useTargetMatrix\",\"hip\",\"names\",\"bindBones\",\"bone\",\"boneTo\",\"bonesPosition\",\"sourceBones\",\"isObject3D\",\"skeleton\",\"bones\",\"getBones\",\"pose\",\"position\",\"updateMatrixWorld\",\"matrixWorld\",\"identity\",\"children\",\"offsets\",\"matrix\",\"multiply\",\"decompose\",\"quaternion\",\"getBoneByName\",\"copy\",\"getInverse\",\"setFromMatrixScale\",\"makeRotationFromQuaternion\",\"setFromRotationMatrix\",\"boneIndex\",\"indexOf\",\"wBindMatrix\",\"boneInverses\",\"copyPosition\",\"parent\",\"isBone\",\"setPosition\",\"retargetClip\",\"clip\",\"useFirstFramePosition\",\"fps\",\"getHelperFromSkeleton\",\"positionOffset\",\"boneData\",\"j\",\"numFrames\",\"round\",\"duration\",\"convertedTracks\",\"mixer\",\"boneDatas\",\"clipAction\",\"play\",\"update\",\"time\",\"times\",\"Float32Array\",\"values\",\"sub\",\"toArray\",\"uncacheAction\",\"getSkeletonOffsets\",\"targetParentPos\",\"targetPos\",\"sourceParentPos\",\"sourcePos\",\"targetDir\",\"sourceDir\",\"nameKeys\",\"keys\",\"nameValues\",\"boneParent\",\"getNearestBone\",\"boneToParent\",\"setFromMatrixPosition\",\"subVectors\",\"normalize\",\"laterialAngle\",\"angle\",\"offset\",\"makeRotationFromEuler\",\"renameBones\",\"isArray\",\"findBoneTrackData\",\"tracks\",\"regexp\",\"result\",\"trackData\",\"exec\",\"getEqualsBonesNames\",\"targetSkeleton\",\"targetBones\",\"search\",\"boneName\",\"sourceLookup\",\"Map\",\"cloneLookup\",\"parallelTraverse\",\"b\",\"callback\",\"sourceNode\",\"clonedNode\",\"traverse\",\"node\",\"isSkinnedMesh\",\"clonedMesh\",\"sourceMesh\",\"bindMatrix\",\"map\",\"bind\",\"clean\",\"obj\",\"remove\",\"child\",\"rotateAroundPoint\",\"point\",\"_ref\",\"_ref$x\",\"_ref$y\",\"_ref$z\",\"original\",\"pivot\",\"diff\",\"rotation\",\"applyAxisAngle\",\"model\",\"c\",\"cloneTexture\",\"cloneMesh\",\"promisifyLoader\",\"loader\",\"onProgress\",\"originalLoader\",\"load\",\"url\",\"Promise\",\"resolve\",\"reject\",\"Camera\",\"_ref$yawSpeed\",\"yawSpeed\",\"_ref$pitchSpeed\",\"pitchSpeed\",\"_ref$zoomSpeed\",\"zoomSpeed\",\"_ref2\",\"keyboardController\",\"w\",\"s\",\"d\",\"space\",\"control\",\"lookAt\",\"zoomFactor\",\"zoom\",\"updateProjectionMatrix\",\"all\",\"_len3\",\"predicates\",\"_key3\",\"filter\",\"e\",\"every\",\"remap\",\"start1\",\"stop1\",\"start2\",\"stop2\",\"between\",\"low\",\"high\",\"id\",\"prefix\",\"clamp\",\"screen\",\"find\",\"max\",\"min\",\"sound\",\"once\",\"memoize\",\"asset\",\"throttleInterval\",\"audio\",\"Audio\",\"func\",\"interval\",\"defaultValue\",\"last\",\"current\",\"performance\",\"now\",\"apply\",\"isFunction\",\"throttle\",\"Particles\",\"args\",\"entitiesWithParticles\",\"particles\",\"entity\",\"ps\",\"spawnOptions\",\"beforeSpawn\",\"timeScale\",\"tick\",\"spawnRate\",\"emitter\",\"spawnParticle\",\"frustum\",\"cameraViewProjectionMatrix\",\"Removal\",\"removeableKeys\",\"removable\",\"matrixWorldInverse\",\"multiplyMatrices\",\"projectionMatrix\",\"setFromMatrix\",\"test\",\"ThreeUtils\",\"light\",\"k\",\"bodies\",\"Rotation\",\"rotatables\",\"cellIndex\",\"start\",\"timeline\",\"percent\",\"complete\",\"timelines\",\"while\",\"Timeline\",\"entitiesWithTimelines\",\"HUD\",\"gamepadController\",\"mouseController\",\"stick\",\"xIdx\",\"yIdx\",\"reader\",\"axisIndices\",\"threshold\",\"gp\",\"idx\",\"axes\",\"abs\",\"createGamepadAxesReader\",\"slicedToArray\",\"heading\",\"atan2\",\"button\",\"buttonIndices\",\"buttons\",\"pressed\",\"createGamepadButtonReader\",\"_ref3\",\"buttonValue\",\"createGamepadButtonValueReader\",\"_ref5\",\"leftStick\",\"rightStick\",\"button0\",\"button1\",\"leftTrigger\",\"rightTrigger\",\"previous\",\"GamepadController\",\"Wrapped\",\"gamepad\",\"navigator\",\"getGamepads\",\"vibrate\",\"effect\",\"vibrationActuator\",\"playEffect\",\"readKey\",\"input\",\"payload\",\"createKeyReader\",\"down\",\"KeyboardController\",\"readButton\",\"createButtonReader\",\"left\",\"middle\",\"right\",\"move\",\"pageX\",\"pageY\",\"createPositionReader\",\"wheel\",\"deltaY\",\"createWheelReader\",\"MouseController\",\"Physics\",\"world\",\"entitiesWithBodies\",\"step\",\"body\",\"collision\",\"sleeping\",\"getPosition\",\"getQuaternion\",\"otherEntity\",\"otherBody\",\"contact\",\"getContact\",\"boxId\",\"cylinderId\",\"Spawn\",\"_ref$dynamic\",\"dynamic\",\"_ref$width\",\"_ref$breadth\",\"breadth\",\"_ref$height\",\"_ref$scale\",\"_ref$color\",\"box\",\"crash\",\"CrashFile\",\"rot\",\"density\",\"friction\",\"restitution\",\"belongsTo\",\"collidesWith\",\"self\",\"other\",\"close\",\"shake\",\"strongMagnitude\",\"intersectsObject\",\"Box\",\"_ref$radius\",\"radius\",\"_ref$segments\",\"segments\",\"_ref$opacity\",\"transparent\",\"flatShading\",\"cylinder\",\"Cylinder\",\"systems\",\"components_sprite\",\"asyncToGenerator\",\"regenerator_default\",\"mark\",\"_callee\",\"spriteSheet\",\"rows\",\"columns\",\"_ref$actions\",\"mappings\",\"spriteMaterial\",\"sprite\",\"actions\",\"wrap\",\"_context\",\"prev\",\"next\",\"t0\",\"t1\",\"sent\",\"needsUpdate\",\"repeat\",\"action\",\"_mappings$key\",\"end\",\"_mappings$key$loop\",\"loop\",\"_mappings$key$speed\",\"speed\",\"_mappings$key$scaleX\",\"scaleX\",\"_mappings$key$scaleY\",\"scaleY\",\"_mappings$key$flipX\",\"flipX\",\"_mappings$key$flipY\",\"flipY\",\"startColumn\",\"column\",\"startRow\",\"row\",\"endColumn\",\"endRow\",\"increment\",\"counter\",\"percentage\",\"trunc\",\"abrupt\",\"stop\",\"_x\",\"CupheadFile\",\"components_cuphead\",\"Sprite\",\"idle\",\"jump\",\"se\",\"ne\",\"nw\",\"sw\",\"controls\",\"directions\",\"_ref4\",\"degrees\",\"radToDeg\",\"direction\",\"HUDRenderer\",\"nextProps\",\"k1\",\"k2\",\"g1\",\"g2\",\"m1\",\"m2\",\"_ref2$leftTrigger\",\"_ref2$rightTrigger\",\"_ref2$leftStick\",\"_ref2$rightStick\",\"_ref3$position\",\"onColor\",\"toFixed\",\"React\",\"Component\",\"fontSize\",\"zIndex\",\"marginTop\",\"components_turntable\",\"_ref$items\",\"items\",\"item\",\"primary\",\"base\",\"hinge\",\"body1\",\"body2\",\"axe1\",\"axe2\",\"pos1\",\"pos2\",\"swipe\",\"angularVelocity\",\"animated_model\",\"mesh\",\"_ref$morphTargets\",\"morphTargets\",\"poses\",\"weight\",\"morphTargetInfluences\",\"DroidFile\",\"components_droid\",\"animated\",\"AnimatedModel\",\"GPUParticleSystem\",\"PARTICLE_COUNT\",\"maxParticles\",\"PARTICLE_CONTAINERS\",\"containerCount\",\"PARTICLE_NOISE_TEXTURE\",\"particleNoiseTex\",\"PARTICLE_SPRITE_TEXTURE\",\"particleSpriteTex\",\"PARTICLES_PER_CONTAINER\",\"ceil\",\"PARTICLE_CURSOR\",\"particleContainers\",\"GPUParticleShader\",\"textureLoader\",\"wrapS\",\"wrapT\",\"particleShaderMat\",\"depthWrite\",\"uTime\",\"uScale\",\"tNoise\",\"tSprite\",\"blending\",\"defaultAttributeValues\",\"particlePositionsStartTime\",\"particleVelColSizeLife\",\"init\",\"GPUParticleContainer\",\"particleSystem\",\"count\",\"DPR\",\"particleUpdate\",\"particleShaderGeo\",\"addAttribute\",\"setDynamic\",\"velocity\",\"positionStartAttribute\",\"getAttribute\",\"startTimeAttribute\",\"velocityAttribute\",\"turbulenceAttribute\",\"colorAttribute\",\"sizeAttribute\",\"lifeTimeAttribute\",\"positionRandomness\",\"velocityRandomness\",\"colorRandomness\",\"turbulence\",\"lifetime\",\"sizeRandomness\",\"smoothPosition\",\"array\",\"velX\",\"velY\",\"velZ\",\"g\",\"geometryUpdate\",\"updateRange\",\"itemSize\",\"_noiseTexture\",\"NoiseFile\",\"components_particles\",\"_ref$maxParticles\",\"noiseTexture\",\"particleTexture\",\"_ref$options\",\"_ref$spawnOptions\",\"_ref$beforeSpawn\",\"t2\",\"t3\",\"t4\",\"ParticleFile\",\"components_portal\",\"_ref$verticalSpeed\",\"verticalSpeed\",\"_ref$horizontalSpeed\",\"horizontalSpeed\",\"swirl\",\"theta\",\"sin\",\"DDSLoader\",\"_parser\",\"parse\",\"buffer\",\"loadMipmaps\",\"dds\",\"mipmaps\",\"mipmapCount\",\"fourCCToInt32\",\"charCodeAt\",\"loadARGBMip\",\"dataOffset\",\"dataLength\",\"srcBuffer\",\"Uint8Array\",\"byteArray\",\"dst\",\"src\",\"blockBytes\",\"FOURCC_DXT1\",\"FOURCC_DXT3\",\"FOURCC_DXT5\",\"FOURCC_ETC1\",\"header\",\"Int32Array\",\"fourCC\",\"isRGBAUncompressed\",\"String\",\"fromCharCode\",\"caps2\",\"isCubemap\",\"faces\",\"face\",\"mipmap\",\"data\",\"GLTFLoader\",\"manager\",\"dracoLoader\",\"GLTFRegistry\",\"objects\",\"object\",\"removeAll\",\"crossOrigin\",\"onLoad\",\"onError\",\"scope\",\"path\",\"extractUrlBase\",\"setResponseType\",\"setCrossOrigin\",\"setPath\",\"setDRACOLoader\",\"content\",\"extensions\",\"decodeText\",\"BINARY_EXTENSION_HEADER_MAGIC\",\"EXTENSIONS\",\"KHR_BINARY_GLTF\",\"GLTFBinaryExtension\",\"json\",\"JSON\",\"version\",\"Error\",\"extensionsUsed\",\"KHR_LIGHTS\",\"GLTFLightsExtension\",\"KHR_MATERIALS_UNLIT\",\"GLTFMaterialsUnlitExtension\",\"KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS\",\"GLTFMaterialsPbrSpecularGlossinessExtension\",\"KHR_DRACO_MESH_COMPRESSION\",\"GLTFDracoMeshCompressionExtension\",\"MSFT_TEXTURE_DDS\",\"GLTFTextureDDSExtension\",\"GLTFParser\",\"scenes\",\"cameras\",\"animations\",\"ddsLoader\",\"lights\",\"lightId\",\"lightNode\",\"fromArray\",\"spot\",\"innerConeAngle\",\"outerConeAngle\",\"penumbra\",\"decay\",\"intensity\",\"getMaterialType\",\"extendParams\",\"materialParams\",\"parser\",\"pending\",\"metallicRoughness\",\"pbrMetallicRoughness\",\"baseColorFactor\",\"baseColorTexture\",\"assignTexture\",\"BINARY_EXTENSION_HEADER_LENGTH\",\"BINARY_EXTENSION_CHUNK_TYPES\",\"BIN\",\"headerView\",\"DataView\",\"magic\",\"slice\",\"getUint32\",\"chunkView\",\"chunkIndex\",\"byteLength\",\"chunkLength\",\"chunkType\",\"contentArray\",\"byteOffset\",\"specularGlossinessParams\",\"params\",\"pbrSpecularGlossiness\",\"specularMapParsFragmentChunk\",\"glossinessMapParsFragmentChunk\",\"specularMapFragmentChunk\",\"glossinessMapFragmentChunk\",\"lightPhysicalFragmentChunk\",\"replace\",\"roughness\",\"metalness\",\"roughnessMap\",\"metalnessMap\",\"specular\",\"setHex\",\"glossiness\",\"specularMap\",\"glossinessMap\",\"STANDARD\",\"diffuseFactor\",\"diffuseTexture\",\"emissive\",\"glossinessFactor\",\"specularFactor\",\"specularGlossinessTexture\",\"specGlossIndex\",\"createMaterial\",\"fog\",\"isGLTFSpecularGlossinessMaterial\",\"lightMap\",\"lightMapIntensity\",\"aoMap\",\"aoMapIntensity\",\"emissiveIntensity\",\"emissiveMap\",\"bumpMap\",\"bumpScale\",\"normalMap\",\"normalScale\",\"displacementMap\",\"displacementScale\",\"displacementBias\",\"alphaMap\",\"envMap\",\"envMapIntensity\",\"refractionRatio\",\"derivatives\",\"cloneMaterial\",\"refreshUniforms\",\"group\",\"uvScaleMap\",\"diffuse\",\"multiplyScalar\",\"isWebGLRenderTarget\",\"matrixAutoUpdate\",\"center\",\"setUvTransform\",\"uvTransform\",\"offsetRepeat\",\"flipEnvMap\",\"isCubeTexture\",\"USE_GLOSSINESSMAP\",\"USE_ROUGHNESSMAP\",\"GLTFCubicSplineInterpolant\",\"parameterPositions\",\"sampleValues\",\"sampleSize\",\"resultBuffer\",\"decodePrimitive\",\"primitive\",\"bufferViewIndex\",\"bufferView\",\"gltfAttributeMap\",\"attributes\",\"threeAttributeMap\",\"attributeName\",\"ATTRIBUTES\",\"getDependency\",\"then\",\"decodeDracoFile\",\"interpolate_\",\"i1\",\"t\",\"stride\",\"valueSize\",\"stride2\",\"stride3\",\"td\",\"pp\",\"ppp\",\"offset1\",\"offset0\",\"s0\",\"s1\",\"s2\",\"s3\",\"p0\",\"m0\",\"p1\",\"WEBGL_CONSTANTS\",\"WEBGL_COMPONENT_TYPES\",\"5120\",\"Int8Array\",\"5121\",\"5122\",\"Int16Array\",\"5123\",\"Uint16Array\",\"5125\",\"Uint32Array\",\"5126\",\"WEBGL_FILTERS\",\"9728\",\"9729\",\"9984\",\"9985\",\"9986\",\"9987\",\"WEBGL_WRAPPINGS\",\"33071\",\"33648\",\"10497\",\"WEBGL_TEXTURE_FORMATS\",\"6406\",\"6407\",\"6408\",\"6409\",\"6410\",\"WEBGL_TEXTURE_DATATYPES\",\"32819\",\"32820\",\"33635\",\"WEBGL_TYPE_SIZES\",\"SCALAR\",\"VEC2\",\"VEC3\",\"VEC4\",\"MAT2\",\"MAT3\",\"MAT4\",\"POSITION\",\"NORMAL\",\"TEXCOORD_0\",\"TEXCOORD0\",\"TEXCOORD\",\"TEXCOORD_1\",\"COLOR_0\",\"COLOR0\",\"COLOR\",\"WEIGHTS_0\",\"WEIGHT\",\"JOINTS_0\",\"JOINT\",\"PATH_PROPERTIES\",\"translation\",\"weights\",\"INTERPOLATION\",\"CUBICSPLINE\",\"LINEAR\",\"STEP\",\"ALPHA_MODES\",\"resolveURL\",\"addMorphTargets\",\"meshDef\",\"primitiveDef\",\"accessors\",\"targets\",\"hasMorphPosition\",\"hasMorphNormal\",\"morphPositions\",\"morphNormals\",\"positionAttribute\",\"cloneBufferAttribute\",\"jl\",\"setXYZ\",\"getX\",\"getY\",\"getZ\",\"normalAttribute\",\"normal\",\"morphAttributes\",\"updateMorphTargets\",\"extras\",\"targetNames\",\"morphTargetDictionary\",\"warn\",\"isPrimitiveEqual\",\"indices\",\"attribA\",\"attribB\",\"keysA\",\"keysB\",\"getCachedGeometry\",\"cache\",\"newPrimitive\",\"cached\",\"promise\",\"attribute\",\"isInterleavedBufferAttribute\",\"getW\",\"normalized\",\"primitiveCache\",\"fileLoader\",\"addPrimitiveAttributes\",\"gltfAttributeName\",\"threeAttributeName\",\"bufferAttribute\",\"setIndex\",\"markDefs\",\"getMultiDependencies\",\"dependencies\",\"catch\",\"nodeDefs\",\"nodes\",\"skinDefs\",\"skins\",\"meshDefs\",\"meshes\",\"meshReferences\",\"meshUses\",\"skinIndex\",\"skinLength\",\"joints\",\"nodeIndex\",\"nodeLength\",\"nodeDef\",\"skin\",\"cacheKey\",\"dependency\",\"loadScene\",\"loadNode\",\"loadMesh\",\"loadAccessor\",\"loadBufferView\",\"loadBuffer\",\"loadMaterial\",\"loadTexture\",\"loadSkin\",\"loadAnimation\",\"loadCamera\",\"getDependencies\",\"defs\",\"def\",\"types\",\"results\",\"pendings\",\"bufferIndex\",\"bufferDef\",\"uri\",\"bufferViewDef\",\"bufferViews\",\"accessorIndex\",\"accessorDef\",\"sparse\",\"pendingBufferViews\",\"TypedArray\",\"componentType\",\"elementBytes\",\"BYTES_PER_ELEMENT\",\"itemBytes\",\"byteStride\",\"ibCacheKey\",\"ib\",\"itemSizeIndices\",\"TypedArrayIndices\",\"byteOffsetIndices\",\"byteOffsetValues\",\"sparseIndices\",\"sparseValues\",\"setArray\",\"setX\",\"setY\",\"setZ\",\"setW\",\"textureIndex\",\"URL\",\"webkitURL\",\"textureDef\",\"textures\",\"textureExtensions\",\"sourceURI\",\"images\",\"isObjectURL\",\"blob\",\"Blob\",\"mimeType\",\"createObjectURL\",\"Handlers\",\"revokeObjectURL\",\"internalFormat\",\"sampler\",\"samplers\",\"textureName\",\"materialIndex\",\"materialType\",\"materialDef\",\"materials\",\"materialExtensions\",\"sgExtension\",\"kmuExtension\",\"metallicFactor\",\"roughnessFactor\",\"metallicRoughnessTexture\",\"doubleSided\",\"side\",\"alphaMode\",\"alphaTest\",\"alphaCutoff\",\"normalTexture\",\"occlusionTexture\",\"strength\",\"emissiveFactor\",\"emissiveTexture\",\"encoding\",\"userData\",\"loadGeometries\",\"primitives\",\"addPrimitives\",\"geometryPromise\",\"meshIndex\",\"geometries\",\"depthTest\",\"uv2\",\"uv\",\"log\",\"useVertexColors\",\"useFlatShading\",\"useSkinning\",\"useMorphTargets\",\"vertexColors\",\"mode\",\"skinning\",\"drawMode\",\"uuid\",\"lineMaterial\",\"pointsMaterial\",\"onBeforeRender\",\"cameraIndex\",\"cameraDef\",\"yfov\",\"aspectRatio\",\"znear\",\"zfar\",\"xmag\",\"ymag\",\"skinDef\",\"skinEntry\",\"inverseBindMatrices\",\"accessor\",\"animationIndex\",\"animationDef\",\"pushToTargetNames\",\"isMesh\",\"channels\",\"channel\",\"output\",\"inputAccessor\",\"outputAccessor\",\"TypedKeyframeTrack\",\"updateMatrix\",\"targetName\",\"interpolation\",\"track\",\"arraySlice\",\"createInterpolant\",\"getValueSize\",\"isInterpolantFactoryMethodGLTFCubicSpline\",\"isGroup\",\"sanitizeNodeName\",\"applyMatrix\",\"buildNodeHierachy\",\"nodeId\",\"parentObject\",\"allNodes\",\"jointId\",\"jointNode\",\"mat\",\"sceneIndex\",\"sceneDef\",\"nodeIds\",\"JetFile\",\"gltf\",\"firstMesh\",\"components_jet\",\"rudderLeft\",\"rudderRight\",\"leftFlapUp\",\"leftFlapDown\",\"rightFlapUp\",\"rightFlapDown\",\"objectSpread\",\"innerWidth\",\"innerHeight\",\"vec\",\"startPos\",\"Date\",\"aspect\",\"OIMO\",\"timestep\",\"iterations\",\"broadphase\",\"worldscale\",\"info\",\"gravity\",\"game_entities\",\"ambient\",\"sunlight\",\"cuphead\",\"droid\",\"portal\",\"jet\",\"turntable\",\"Cuphead\",\"Droid\",\"Portal\",\"Jet\",\"Turntable\",\"hud_HUDRenderer\",\"pixel_shader\",\"_ref$pixelSize\",\"pixelSize\",\"_ref$borderSize\",\"borderSize\",\"_ref$lightenFactor\",\"lightenFactor\",\"_ref$softenFactor\",\"softenFactor\",\"_ref$darkenFactor\",\"darkenFactor\",\"_ref$resolution\",\"resolution\",\"borderFraction\",\"Game\",\"build\",\"className\",\"Systems\",\"Entities\",\"Renderer\",\"PixelShader\",\"isLocalhost\",\"Boolean\",\"location\",\"hostname\",\"match\",\"registerValidSW\",\"swUrl\",\"config\",\"serviceWorker\",\"register\",\"registration\",\"onupdatefound\",\"installingWorker\",\"installing\",\"onstatechange\",\"controller\",\"onUpdate\",\"onSuccess\",\"ReactDOM\",\"game\",\"document\",\"getElementById\",\"process\",\"href\",\"origin\",\"fetch\",\"response\",\"contentType\",\"headers\",\"status\",\"ready\",\"unregister\",\"reload\",\"checkValidServiceWorker\",\"ServiceWorker\"],\"mappings\":\"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\",\"sourcesContent\":[\"//////////////////////////////////////////////////////////////\\n\\n// http://mrl.nyu.edu/~perlin/noise/\\n// Adapting from PApplet.java\\n// which was adapted from toxi\\n// which was adapted from the german demo group farbrausch\\n// as used in their demo \\\"art\\\": http://www.farb-rausch.de/fr010src.zip\\n\\n// someday we might consider using \\\"improved noise\\\"\\n// http://mrl.nyu.edu/~perlin/paper445.pdf\\n// See: https://github.com/shiffman/The-Nature-of-Code-Examples-p5.js/\\n//      blob/master/introduction/Noise1D/noise.js\\n\\n/**\\n * @module Math\\n * @submodule Noise\\n * @for p5\\n * @requires core\\n */\\n\\nvar PERLIN_YWRAPB = 4;\\nvar PERLIN_YWRAP = 1 << PERLIN_YWRAPB;\\nvar PERLIN_ZWRAPB = 8;\\nvar PERLIN_ZWRAP = 1 << PERLIN_ZWRAPB;\\nvar PERLIN_SIZE = 4095;\\n\\nvar perlin_octaves = 4; // default to medium smooth\\nvar perlin_amp_falloff = 0.5; // 50% reduction/octave\\n\\nvar scaled_cosine = function(i) {\\n  return 0.5 * (1.0 - Math.cos(i * Math.PI));\\n};\\n\\nvar perlin; // will be initialized lazily by noise() or noiseSeed()\\n\\n/**\\n * Returns the Perlin noise value at specified coordinates. Perlin noise is\\n * a random sequence generator producing a more natural ordered, harmonic\\n * succession of numbers compared to the standard <b>random()</b> function.\\n * It was invented by Ken Perlin in the 1980s and been used since in\\n * graphical applications to produce procedural textures, natural motion,\\n * shapes, terrains etc.<br /><br /> The main difference to the\\n * <b>random()</b> function is that Perlin noise is defined in an infinite\\n * n-dimensional space where each pair of coordinates corresponds to a\\n * fixed semi-random value (fixed only for the lifespan of the program; see\\n * the <a href=\\\"#/p5/noiseSeed\\\">noiseSeed()</a> function). p5.js can compute 1D, 2D and 3D noise,\\n * depending on the number of coordinates given. The resulting value will\\n * always be between 0.0 and 1.0. The noise value can be animated by moving\\n * through the noise space as demonstrated in the example above. The 2nd\\n * and 3rd dimension can also be interpreted as time.<br /><br />The actual\\n * noise is structured similar to an audio signal, in respect to the\\n * function's use of frequencies. Similar to the concept of harmonics in\\n * physics, perlin noise is computed over several octaves which are added\\n * together for the final result. <br /><br />Another way to adjust the\\n * character of the resulting sequence is the scale of the input\\n * coordinates. As the function works within an infinite space the value of\\n * the coordinates doesn't matter as such, only the distance between\\n * successive coordinates does (eg. when using <b>noise()</b> within a\\n * loop). As a general rule the smaller the difference between coordinates,\\n * the smoother the resulting noise sequence will be. Steps of 0.005-0.03\\n * work best for most applications, but this will differ depending on use.\\n *\\n *\\n * @method noise\\n * @param  {Number} x   x-coordinate in noise space\\n * @param  {Number} [y] y-coordinate in noise space\\n * @param  {Number} [z] z-coordinate in noise space\\n * @return {Number}     Perlin noise value (between 0 and 1) at specified\\n *                      coordinates\\n * @example\\n * <div>\\n * <code>\\n * var xoff = 0.0;\\n *\\n * function draw() {\\n *   background(204);\\n *   xoff = xoff + 0.01;\\n *   var n = noise(xoff) * width;\\n *   line(n, 0, n, height);\\n * }\\n * </code>\\n * </div>\\n * <div>\\n * <code>var noiseScale=0.02;\\n *\\n * function draw() {\\n *   background(0);\\n *   for (var x=0; x < width; x++) {\\n *     var noiseVal = noise((mouseX+x)*noiseScale, mouseY*noiseScale);\\n *     stroke(noiseVal*255);\\n *     line(x, mouseY+noiseVal*80, x, height);\\n *   }\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * vertical line moves left to right with updating noise values.\\n * horizontal wave pattern effected by mouse x-position & updating noise values.\\n *\\n */\\n\\nconst noise = function(x, y, z) {\\n  y = y || 0;\\n  z = z || 0;\\n\\n  if (perlin == null) {\\n    perlin = new Array(PERLIN_SIZE + 1);\\n    for (var i = 0; i < PERLIN_SIZE + 1; i++) {\\n      perlin[i] = Math.random();\\n    }\\n  }\\n\\n  if (x < 0) {\\n    x = -x;\\n  }\\n  if (y < 0) {\\n    y = -y;\\n  }\\n  if (z < 0) {\\n    z = -z;\\n  }\\n\\n  var xi = Math.floor(x),\\n    yi = Math.floor(y),\\n    zi = Math.floor(z);\\n  var xf = x - xi;\\n  var yf = y - yi;\\n  var zf = z - zi;\\n  var rxf, ryf;\\n\\n  var r = 0;\\n  var ampl = 0.5;\\n\\n  var n1, n2, n3;\\n\\n  for (var o = 0; o < perlin_octaves; o++) {\\n    var of = xi + (yi << PERLIN_YWRAPB) + (zi << PERLIN_ZWRAPB);\\n\\n    rxf = scaled_cosine(xf);\\n    ryf = scaled_cosine(yf);\\n\\n    n1 = perlin[of & PERLIN_SIZE];\\n    n1 += rxf * (perlin[(of + 1) & PERLIN_SIZE] - n1);\\n    n2 = perlin[(of + PERLIN_YWRAP) & PERLIN_SIZE];\\n    n2 += rxf * (perlin[(of + PERLIN_YWRAP + 1) & PERLIN_SIZE] - n2);\\n    n1 += ryf * (n2 - n1);\\n\\n    of += PERLIN_ZWRAP;\\n    n2 = perlin[of & PERLIN_SIZE];\\n    n2 += rxf * (perlin[(of + 1) & PERLIN_SIZE] - n2);\\n    n3 = perlin[(of + PERLIN_YWRAP) & PERLIN_SIZE];\\n    n3 += rxf * (perlin[(of + PERLIN_YWRAP + 1) & PERLIN_SIZE] - n3);\\n    n2 += ryf * (n3 - n2);\\n\\n    n1 += scaled_cosine(zf) * (n2 - n1);\\n\\n    r += n1 * ampl;\\n    ampl *= perlin_amp_falloff;\\n    xi <<= 1;\\n    xf *= 2;\\n    yi <<= 1;\\n    yf *= 2;\\n    zi <<= 1;\\n    zf *= 2;\\n\\n    if (xf >= 1.0) {\\n      xi++;\\n      xf--;\\n    }\\n    if (yf >= 1.0) {\\n      yi++;\\n      yf--;\\n    }\\n    if (zf >= 1.0) {\\n      zi++;\\n      zf--;\\n    }\\n  }\\n  return r;\\n};\\n\\n/**\\n *\\n * Adjusts the character and level of detail produced by the Perlin noise\\n * function. Similar to harmonics in physics, noise is computed over\\n * several octaves. Lower octaves contribute more to the output signal and\\n * as such define the overall intensity of the noise, whereas higher octaves\\n * create finer grained details in the noise sequence.\\n * <br><br>\\n * By default, noise is computed over 4 octaves with each octave contributing\\n * exactly half than its predecessor, starting at 50% strength for the 1st\\n * octave. This falloff amount can be changed by adding an additional function\\n * parameter. Eg. a falloff factor of 0.75 means each octave will now have\\n * 75% impact (25% less) of the previous lower octave. Any value between\\n * 0.0 and 1.0 is valid, however note that values greater than 0.5 might\\n * result in greater than 1.0 values returned by <b>noise()</b>.\\n * <br><br>\\n * By changing these parameters, the signal created by the <b>noise()</b>\\n * function can be adapted to fit very specific needs and characteristics.\\n *\\n * @method noiseDetail\\n * @param {Number} lod number of octaves to be used by the noise\\n * @param {Number} falloff falloff factor for each octave\\n * @example\\n * <div>\\n * <code>\\n * var noiseVal;\\n * var noiseScale = 0.02;\\n *\\n * function setup() {\\n *   createCanvas(100, 100);\\n * }\\n *\\n * function draw() {\\n *   background(0);\\n *   for (var y = 0; y < height; y++) {\\n *     for (var x = 0; x < width / 2; x++) {\\n *       noiseDetail(2, 0.2);\\n *       noiseVal = noise((mouseX + x) * noiseScale, (mouseY + y) * noiseScale);\\n *       stroke(noiseVal * 255);\\n *       point(x, y);\\n *       noiseDetail(8, 0.65);\\n *       noiseVal = noise(\\n *         (mouseX + x + width / 2) * noiseScale,\\n *         (mouseY + y) * noiseScale\\n *       );\\n *       stroke(noiseVal * 255);\\n *       point(x + width / 2, y);\\n *     }\\n *   }\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * 2 vertical grey smokey patterns affected my mouse x-position and noise.\\n *\\n */\\nconst noiseDetail = function(lod, falloff) {\\n  if (lod > 0) {\\n    perlin_octaves = lod;\\n  }\\n  if (falloff > 0) {\\n    perlin_amp_falloff = falloff;\\n  }\\n};\\n\\n/**\\n * Sets the seed value for <b>noise()</b>. By default, <b>noise()</b>\\n * produces different results each time the program is run. Set the\\n * <b>value</b> parameter to a constant to return the same pseudo-random\\n * numbers each time the software is run.\\n *\\n * @method noiseSeed\\n * @param {Number} seed   the seed value\\n * @example\\n * <div>\\n * <code>var xoff = 0.0;\\n *\\n * function setup() {\\n *   noiseSeed(99);\\n *   stroke(0, 10);\\n * }\\n *\\n * function draw() {\\n *   xoff = xoff + .01;\\n *   var n = noise(xoff) * width;\\n *   line(n, 0, n, height);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * vertical grey lines drawing in pattern affected by noise.\\n *\\n */\\nconst noiseSeed = function(seed) {\\n  // Linear Congruential Generator\\n  // Variant of a Lehman Generator\\n  var lcg = (function() {\\n    // Set to values from http://en.wikipedia.org/wiki/Numerical_Recipes\\n    // m is basically chosen to be large (as it is the max period)\\n    // and for its relationships to a and c\\n    var m = 4294967296;\\n    // a - 1 should be divisible by m's prime factors\\n    var a = 1664525;\\n    // c and m should be co-prime\\n    var c = 1013904223;\\n    var seed, z;\\n    return {\\n      setSeed: function(val) {\\n        // pick a random seed if val is undefined or null\\n        // the >>> 0 casts the seed to an unsigned 32-bit integer\\n        z = seed = (val == null ? Math.random() * m : val) >>> 0;\\n      },\\n      getSeed: function() {\\n        return seed;\\n      },\\n      rand: function() {\\n        // define the recurrence relationship\\n        z = (a * z + c) % m;\\n        // return a float in [0, 1)\\n        // if z = m then z / m = 0 therefore (z % m) / m < 1 always\\n        return z / m;\\n      }\\n    };\\n  })();\\n\\n  lcg.setSeed(seed);\\n  perlin = new Array(PERLIN_SIZE + 1);\\n  for (var i = 0; i < PERLIN_SIZE + 1; i++) {\\n    perlin[i] = lcg.rand();\\n  }\\n};\\n\\nmodule.exports = {\\n  noise,\\n  noiseDetail,\\n  noiseSeed\\n};\",\"module.exports = __webpack_public_path__ + \\\"static/media/crash-01.8bb8f478.wav\\\";\",\"module.exports = __webpack_public_path__ + \\\"static/media/cuphead.de89fa67.png\\\";\",\"import Zlib from \\\"three/examples/js/libs/inflate.min\\\";\\nimport { FBXLoader } from \\\"three/examples/jsm/loaders/FBXLoader\\\";\\n\\nglobal.Zlib = Zlib.Zlib;\\n\\nexport default FBXLoader;\",\"module.exports = __webpack_public_path__ + \\\"static/media/droid.096ec86b.fbx\\\";\",\"module.exports = __webpack_public_path__ + \\\"static/media/perlin.0a023299.png\\\";\",\"module.exports = \\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6REVGODRBRjIyRjU2MTFFNUExM0Y4OUExMTc4QTBCQUMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6REVGODRBRjMyRjU2MTFFNUExM0Y4OUExMTc4QTBCQUMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpERUY4NEFGMDJGNTYxMUU1QTEzRjg5QTExNzhBMEJBQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpERUY4NEFGMTJGNTYxMUU1QTEzRjg5QTExNzhBMEJBQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgDz1z0AAAZeSURBVHja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\\\"\",\"module.exports = __webpack_public_path__ + \\\"static/media/jet.b9ea13bd.glb\\\";\",\"/**\\n * @author alteredq / http://alteredqualia.com/\\n *\\n * Full-screen textured quad shader\\n */\\n\\nconst CopyShader = {\\n\\n\\tuniforms: {\\n\\n\\t\\t\\\"tDiffuse\\\": { value: null },\\n\\t\\t\\\"opacity\\\":  { value: 1.0 }\\n\\n\\t},\\n\\n\\tvertexShader: [\\n\\n\\t\\t\\\"varying vec2 vUv;\\\",\\n\\n\\t\\t\\\"void main() {\\\",\\n\\n\\t\\t\\t\\\"vUv = uv;\\\",\\n\\t\\t\\t\\\"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\\",\\n\\n\\t\\t\\\"}\\\"\\n\\n\\t].join( \\\"\\\\n\\\" ),\\n\\n\\tfragmentShader: [\\n\\n\\t\\t\\\"uniform float opacity;\\\",\\n\\n\\t\\t\\\"uniform sampler2D tDiffuse;\\\",\\n\\n\\t\\t\\\"varying vec2 vUv;\\\",\\n\\n\\t\\t\\\"void main() {\\\",\\n\\n\\t\\t\\t\\\"vec4 texel = texture2D( tDiffuse, vUv );\\\",\\n\\t\\t\\t\\\"gl_FragColor = opacity * texel;\\\",\\n\\n\\t\\t\\\"}\\\"\\n\\n\\t].join( \\\"\\\\n\\\" )\\n\\n};\\n\\nexport default CopyShader;\",\"import { OrthographicCamera, PlaneBufferGeometry, Mesh } from \\\"three\\\";\\n\\nconst Pass = function () {\\n\\n\\t// if set to true, the pass is processed by the composer\\n\\tthis.enabled = true;\\n\\n\\t// if set to true, the pass indicates to swap read and write buffer after rendering\\n\\tthis.needsSwap = true;\\n\\n\\t// if set to true, the pass clears its buffer before rendering\\n\\tthis.clear = false;\\n\\n\\t// if set to true, the result of the pass is rendered to screen\\n\\tthis.renderToScreen = false;\\n\\n};\\n\\nObject.assign( Pass.prototype, {\\n\\n\\tsetSize: function ( width, height ) {},\\n\\n\\trender: function ( renderer, writeBuffer, readBuffer, delta, maskActive ) {\\n\\n\\t\\tconsole.error( 'THREE.Pass: .render() must be implemented in derived pass.' );\\n\\n\\t}\\n\\n} );\\n\\n// Helper for passes that need to fill the viewport with a single quad.\\n\\nPass.FullScreenQuad = ( function () {\\n\\n\\tvar camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\\n\\tvar geometry = new PlaneBufferGeometry( 2, 2 );\\n\\n\\tvar FullScreenQuad = function ( material ) {\\n\\n\\t\\tthis._mesh = new Mesh( geometry, material );\\n\\n\\t};\\n\\n\\tObject.defineProperty( FullScreenQuad.prototype, 'material', {\\n\\n\\t\\tget: function () {\\n\\n\\t\\t\\treturn this._mesh.material;\\n\\n\\t\\t},\\n\\n\\t\\tset: function ( value ) {\\n\\n\\t\\t\\tthis._mesh.material = value;\\n\\n\\t\\t}\\n\\n\\t} );\\n\\n\\tObject.assign( FullScreenQuad.prototype, {\\n\\n\\t\\trender: function ( renderer ) {\\n\\n\\t\\t\\trenderer.render( this._mesh, camera );\\n\\n\\t\\t}\\n\\n\\t} );\\n\\n\\treturn FullScreenQuad;\\n\\n} )();\\n\\nexport default Pass;\",\"import * as THREE from \\\"three\\\";\\nimport Pass from \\\"./pass\\\";\\n\\n/**\\n * @author alteredq / http://alteredqualia.com/\\n */\\n\\nconst ShaderPass = function ( shader, textureID ) {\\n\\n\\tPass.call( this );\\n\\n\\tthis.textureID = ( textureID !== undefined ) ? textureID : \\\"tDiffuse\\\";\\n\\n\\tif ( shader instanceof THREE.ShaderMaterial ) {\\n\\n\\t\\tthis.uniforms = shader.uniforms;\\n\\n\\t\\tthis.material = shader;\\n\\n\\t} else if ( shader ) {\\n\\n\\t\\tthis.uniforms = THREE.UniformsUtils.clone( shader.uniforms );\\n\\n\\t\\tthis.material = new THREE.ShaderMaterial( {\\n\\n\\t\\t\\tdefines: Object.assign( {}, shader.defines ),\\n\\t\\t\\tuniforms: this.uniforms,\\n\\t\\t\\tvertexShader: shader.vertexShader,\\n\\t\\t\\tfragmentShader: shader.fragmentShader\\n\\n\\t\\t} );\\n\\n\\t}\\n\\n\\tthis.camera = new THREE.OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\\n\\tthis.scene = new THREE.Scene();\\n\\n\\tthis.quad = new THREE.Mesh( new THREE.PlaneBufferGeometry( 2, 2 ), null );\\n\\tthis.quad.frustumCulled = false; // Avoid getting clipped\\n\\tthis.scene.add( this.quad );\\n\\n};\\n\\nShaderPass.prototype = Object.assign( Object.create( Pass.prototype ), {\\n\\n\\tconstructor: ShaderPass,\\n\\n\\trender: function ( renderer, writeBuffer, readBuffer, deltaTime, maskActive ) {\\n\\n\\t\\tif ( this.uniforms[ this.textureID ] ) {\\n\\n\\t\\t\\tthis.uniforms[ this.textureID ].value = readBuffer.texture;\\n\\n\\t\\t}\\n\\n\\t\\tthis.quad.material = this.material;\\n\\n\\t\\tif ( this.renderToScreen ) {\\n\\n\\t\\t\\trenderer.setRenderTarget( null );\\n\\t\\t\\trenderer.render( this.scene, this.camera );\\n\\n\\t\\t} else {\\n\\n\\t\\t\\trenderer.setRenderTarget( writeBuffer );\\n\\t\\t\\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\\n\\t\\t\\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\\n\\t\\t\\trenderer.render( this.scene, this.camera );\\n\\n\\t\\t}\\n\\n\\t}\\n\\n} );\\n\\nexport default ShaderPass;\",\"import Pass from \\\"./pass\\\";\\n\\n/**\\n * @author alteredq / http://alteredqualia.com/\\n */\\n\\nconst MaskPass = function ( scene, camera ) {\\n\\n\\tPass.call( this );\\n\\n\\tthis.scene = scene;\\n\\tthis.camera = camera;\\n\\n\\tthis.clear = true;\\n\\tthis.needsSwap = false;\\n\\n\\tthis.inverse = false;\\n\\n};\\n\\nMaskPass.prototype = Object.assign( Object.create( Pass.prototype ), {\\n\\n\\tconstructor: MaskPass,\\n\\n\\trender: function ( renderer, writeBuffer, readBuffer, delta, maskActive ) {\\n\\n\\t\\tvar context = renderer.context;\\n\\t\\tvar state = renderer.state;\\n\\n\\t\\t// don't update color or depth\\n\\n\\t\\tstate.buffers.color.setMask( false );\\n\\t\\tstate.buffers.depth.setMask( false );\\n\\n\\t\\t// lock buffers\\n\\n\\t\\tstate.buffers.color.setLocked( true );\\n\\t\\tstate.buffers.depth.setLocked( true );\\n\\n\\t\\t// set up stencil\\n\\n\\t\\tvar writeValue, clearValue;\\n\\n\\t\\tif ( this.inverse ) {\\n\\n\\t\\t\\twriteValue = 0;\\n\\t\\t\\tclearValue = 1;\\n\\n\\t\\t} else {\\n\\n\\t\\t\\twriteValue = 1;\\n\\t\\t\\tclearValue = 0;\\n\\n\\t\\t}\\n\\n\\t\\tstate.buffers.stencil.setTest( true );\\n\\t\\tstate.buffers.stencil.setOp( context.REPLACE, context.REPLACE, context.REPLACE );\\n\\t\\tstate.buffers.stencil.setFunc( context.ALWAYS, writeValue, 0xffffffff );\\n\\t\\tstate.buffers.stencil.setClear( clearValue );\\n\\n\\t\\t// draw into the stencil buffer\\n\\n\\t\\trenderer.render( this.scene, this.camera, readBuffer, this.clear );\\n\\t\\trenderer.render( this.scene, this.camera, writeBuffer, this.clear );\\n\\n\\t\\t// unlock color and depth buffer for subsequent rendering\\n\\n\\t\\tstate.buffers.color.setLocked( false );\\n\\t\\tstate.buffers.depth.setLocked( false );\\n\\n\\t\\t// only render where stencil is set to 1\\n\\n\\t\\tstate.buffers.stencil.setFunc( context.EQUAL, 1, 0xffffffff );  // draw if == 1\\n\\t\\tstate.buffers.stencil.setOp( context.KEEP, context.KEEP, context.KEEP );\\n\\n\\t}\\n\\n} );\\n\\nexport default MaskPass;\",\"import Pass from \\\"./pass\\\";\\n\\n/**\\n * @author alteredq / http://alteredqualia.com/\\n */\\n\\nconst ClearMaskPass = function () {\\n\\n\\tPass.call( this );\\n\\n\\tthis.needsSwap = false;\\n\\n};\\n\\nClearMaskPass.prototype = Object.create( Pass.prototype );\\n\\nObject.assign( ClearMaskPass.prototype, {\\n\\n\\trender: function ( renderer, writeBuffer, readBuffer, delta, maskActive ) {\\n\\n\\t\\trenderer.state.buffers.stencil.setTest( false );\\n\\n\\t}\\n\\n} );\\n\\nexport default ClearMaskPass;\",\"import * as THREE from \\\"three\\\";\\nimport CopyShader from \\\"./shaders/copy-shader\\\";\\nimport ShaderPass from \\\"./passes/shader-pass\\\";\\nimport MaskPass from \\\"./passes/mask-pass\\\";\\nimport ClearMaskPass from \\\"./passes/clear-mask-pass\\\";\\n\\n/**\\n * @author alteredq / http://alteredqualia.com/\\n */\\n\\nconst EffectComposer = function ( renderer, renderTarget ) {\\n\\n\\tthis.renderer = renderer;\\n\\n\\tif ( renderTarget === undefined ) {\\n\\n\\t\\tvar parameters = {\\n\\t\\t\\tminFilter: THREE.LinearFilter,\\n\\t\\t\\tmagFilter: THREE.LinearFilter,\\n\\t\\t\\tformat: THREE.RGBAFormat,\\n\\t\\t\\tstencilBuffer: false\\n\\t\\t};\\n\\n\\t\\tvar size = new THREE.Vector2();\\n\\t\\trenderer.getDrawingBufferSize(size);\\n\\t\\trenderTarget = new THREE.WebGLRenderTarget( size.width, size.height, parameters );\\n\\t\\trenderTarget.texture.name = 'EffectComposer.rt1';\\n\\n\\t}\\n\\n\\tthis.renderTarget1 = renderTarget;\\n\\tthis.renderTarget2 = renderTarget.clone();\\n\\tthis.renderTarget2.texture.name = 'EffectComposer.rt2';\\n\\n\\tthis.writeBuffer = this.renderTarget1;\\n\\tthis.readBuffer = this.renderTarget2;\\n\\n\\tthis.passes = [];\\n\\n\\t// dependencies\\n\\n\\tif ( CopyShader === undefined ) {\\n\\n\\t\\tconsole.error( 'THREE.EffectComposer relies on THREE.CopyShader' );\\n\\n\\t}\\n\\n\\tif ( ShaderPass === undefined ) {\\n\\n\\t\\tconsole.error( 'THREE.EffectComposer relies on THREE.ShaderPass' );\\n\\n\\t}\\n\\n\\tthis.copyPass = new ShaderPass( CopyShader );\\n\\n};\\n\\nObject.assign( EffectComposer.prototype, {\\n\\n\\tswapBuffers: function () {\\n\\n\\t\\tvar tmp = this.readBuffer;\\n\\t\\tthis.readBuffer = this.writeBuffer;\\n\\t\\tthis.writeBuffer = tmp;\\n\\n\\t},\\n\\n\\taddPass: function ( pass ) {\\n\\n\\t\\tthis.passes.push( pass );\\n\\n\\t\\tvar size = new THREE.Vector2();\\n\\t\\tthis.renderer.getDrawingBufferSize(size);\\n\\t\\tpass.setSize( size.width, size.height );\\n\\n\\t},\\n\\n\\tinsertPass: function ( pass, index ) {\\n\\n\\t\\tthis.passes.splice( index, 0, pass );\\n\\n\\t},\\n\\n\\trender: function ( delta ) {\\n\\n\\t\\tvar maskActive = false;\\n\\n\\t\\tvar pass, i, il = this.passes.length;\\n\\n\\t\\tfor ( i = 0; i < il; i ++ ) {\\n\\n\\t\\t\\tpass = this.passes[ i ];\\n\\n\\t\\t\\tif ( pass.enabled === false ) continue;\\n\\n\\t\\t\\tpass.render( this.renderer, this.writeBuffer, this.readBuffer, delta, maskActive );\\n\\n\\t\\t\\tif ( pass.needsSwap ) {\\n\\n\\t\\t\\t\\tif ( maskActive ) {\\n\\n\\t\\t\\t\\t\\tvar context = this.renderer.context;\\n\\n\\t\\t\\t\\t\\tcontext.stencilFunc( context.NOTEQUAL, 1, 0xffffffff );\\n\\n\\t\\t\\t\\t\\tthis.copyPass.render( this.renderer, this.writeBuffer, this.readBuffer, delta );\\n\\n\\t\\t\\t\\t\\tcontext.stencilFunc( context.EQUAL, 1, 0xffffffff );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tthis.swapBuffers();\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tif ( MaskPass !== undefined ) {\\n\\n\\t\\t\\t\\tif ( pass instanceof MaskPass ) {\\n\\n\\t\\t\\t\\t\\tmaskActive = true;\\n\\n\\t\\t\\t\\t} else if ( pass instanceof ClearMaskPass ) {\\n\\n\\t\\t\\t\\t\\tmaskActive = false;\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t},\\n\\n\\treset: function ( renderTarget ) {\\n\\n\\t\\tif ( renderTarget === undefined ) {\\n\\n\\t\\t\\tvar size = new THREE.Vector2();\\n\\t\\t\\tthis.renderer.getDrawingBufferSize(size);\\n\\n\\t\\t\\trenderTarget = this.renderTarget1.clone();\\n\\t\\t\\trenderTarget.setSize( size.width, size.height );\\n\\n\\t\\t}\\n\\n\\t\\tthis.renderTarget1.dispose();\\n\\t\\tthis.renderTarget2.dispose();\\n\\t\\tthis.renderTarget1 = renderTarget;\\n\\t\\tthis.renderTarget2 = renderTarget.clone();\\n\\n\\t\\tthis.writeBuffer = this.renderTarget1;\\n\\t\\tthis.readBuffer = this.renderTarget2;\\n\\n\\t},\\n\\n\\tsetSize: function ( width, height ) {\\n\\n\\t\\tthis.renderTarget1.setSize( width, height );\\n\\t\\tthis.renderTarget2.setSize( width, height );\\n\\n\\t\\tfor ( var i = 0; i < this.passes.length; i ++ ) {\\n\\n\\t\\t\\tthis.passes[ i ].setSize( width, height );\\n\\n\\t\\t}\\n\\n\\t}\\n\\n} );\\n\\nexport default EffectComposer;\",\"import Pass from \\\"./pass\\\";\\n\\n/**\\n * @author alteredq / http://alteredqualia.com/\\n */\\n\\nconst RenderPass = function ( scene, camera, overrideMaterial, clearColor, clearAlpha ) {\\n\\n\\tPass.call( this );\\n\\n\\tthis.scene = scene;\\n\\tthis.camera = camera;\\n\\n\\tthis.overrideMaterial = overrideMaterial;\\n\\n\\tthis.clearColor = clearColor;\\n\\tthis.clearAlpha = ( clearAlpha !== undefined ) ? clearAlpha : 0;\\n\\n\\tthis.clear = true;\\n\\tthis.clearDepth = false;\\n\\tthis.needsSwap = false;\\n\\n};\\n\\nRenderPass.prototype = Object.assign( Object.create( Pass.prototype ), {\\n\\n\\tconstructor: RenderPass,\\n\\n\\trender: function ( renderer, writeBuffer, readBuffer, deltaTime, maskActive ) {\\n\\n\\t\\tvar oldAutoClear = renderer.autoClear;\\n\\t\\trenderer.autoClear = false;\\n\\n\\t\\tthis.scene.overrideMaterial = this.overrideMaterial;\\n\\n\\t\\tvar oldClearColor, oldClearAlpha;\\n\\n\\t\\tif ( this.clearColor ) {\\n\\n\\t\\t\\toldClearColor = renderer.getClearColor().getHex();\\n\\t\\t\\toldClearAlpha = renderer.getClearAlpha();\\n\\n\\t\\t\\trenderer.setClearColor( this.clearColor, this.clearAlpha );\\n\\n\\t\\t}\\n\\n\\t\\tif ( this.clearDepth ) {\\n\\n\\t\\t\\trenderer.clearDepth();\\n\\n\\t\\t}\\n\\n\\t\\trenderer.setRenderTarget( this.renderToScreen ? null : readBuffer );\\n\\n\\t\\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\\n\\t\\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\\n\\t\\trenderer.render( this.scene, this.camera );\\n\\n\\t\\tif ( this.clearColor ) {\\n\\n\\t\\t\\trenderer.setClearColor( oldClearColor, oldClearAlpha );\\n\\n\\t\\t}\\n\\n\\t\\tthis.scene.overrideMaterial = null;\\n\\t\\trenderer.autoClear = oldAutoClear;\\n\\n\\t}\\n\\n} );\\n\\nexport default RenderPass;\",\"import React, { PureComponent } from \\\"react\\\";\\nimport * as THREE from 'three';\\nimport EffectComposer  from \\\"./effect-composer\\\";\\nimport RenderPass from \\\"./passes/render-pass\\\";\\nimport _ from \\\"lodash\\\";\\n\\n//-- https://medium.com/@colesayershapiro/using-three-js-in-react-6cb71e87bdf4\\n//-- https://medium.com/@summerdeehan/a-beginners-guide-to-using-three-js-react-and-webgl-to-build-a-3d-application-with-interaction-5d7b2c7ca89a\\n//-- https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/Tutorial/Getting_started_with_WebGL\\n\\nclass ThreeView extends PureComponent {\\n\\n  componentDidMount() {\\n    const container = this.refs.container;\\n    const width = container.clientWidth;\\n    const height = container.clientHeight;\\n    const dpr = window.devicePixelRatio;\\n\\n    this.props.camera.resize(width, height, dpr);\\n    this.renderer = new THREE.WebGLRenderer({ });\\n    this.renderer.setPixelRatio(dpr);\\n    this.renderer.setSize(width, height);\\n    this.renderer.setClearColor(0x020202, 1.0);\\n    this.composer = new EffectComposer(this.renderer);\\n\\n    const passes = [\\n      new RenderPass(this.props.scene, this.props.camera),\\n      ...this.props.passes\\n    ]\\n\\n    passes.forEach(p => this.composer.addPass(p))\\n    passes[passes.length-1].renderToScreen = true;\\n\\n    window.addEventListener(\\\"resize\\\", this.onResize);\\n\\n    container.appendChild(this.renderer.domElement)\\n  }\\n  \\n  componentWillUnmount() {\\n    window.removeEventListener(\\\"resize\\\", this.onResize);\\n\\n    const container = this.refs.container;\\n    container.removeChild(this.renderer.domElement)\\n  }\\n\\n  onResize = () => {\\n    const container = this.refs.container;\\n    const width = container.clientWidth;\\n    const height = container.clientHeight;\\n    const dpr = window.devicePixelRatio;\\n\\n    this.props.camera.resize(width, height, dpr);\\n    this.renderer.setPixelRatio(dpr);\\n    this.renderer.setSize(width, height);\\n  };\\n\\n  render() {\\n    if (this.composer) {\\n      this.composer.render();\\n    } \\n\\n    return (\\n      <div ref={\\\"container\\\"} style={css.container} />\\n    );\\n  }\\n}\\n\\nconst css = {\\n  container: {\\n    height: \\\"100vh\\\", \\n    width: \\\"100vw\\\",\\n    overflow: \\\"hidden\\\"\\n  }\\n}\\n\\nconst renderHUD = (entities, window) => {\\n  if (!entities.hud) return null;\\n\\n  const hud = entities.hud;\\n\\n  if (typeof hud.renderer === \\\"object\\\")\\n    return <hud.renderer.type key={\\\"hud\\\"} {...hud} window={window} />;\\n  else if (typeof hud.renderer === \\\"function\\\")\\n    return <hud.renderer key={\\\"hud\\\"} {...hud} window={window} />;\\n};\\n\\nconst ThreeJSRenderer = (...passes) => (entities, window) => {\\n  if (!entities) return null;\\n  return [\\n    <ThreeView\\n      passes={_.flatten(passes)}\\n      key={\\\"threeView\\\"}\\n      scene={entities.scene}\\n      camera={entities.camera}\\n    />,\\n    renderHUD(entities, window)\\n  ];\\n};\\n\\nexport default ThreeJSRenderer;\\n\",\"import * as THREE from \\\"three\\\";\\n\\n/**\\n * @author sunag / http://www.sunag.com.br\\n */\\n\\nconst SkeletonUtils = {\\n\\n\\tretarget: function () {\\n\\n\\t\\tvar pos = new THREE.Vector3(),\\n\\t\\t\\tquat = new THREE.Quaternion(),\\n\\t\\t\\tscale = new THREE.Vector3(),\\n\\t\\t\\tbindBoneMatrix = new THREE.Matrix4(),\\n\\t\\t\\trelativeMatrix = new THREE.Matrix4(),\\n\\t\\t\\tglobalMatrix = new THREE.Matrix4();\\n\\n\\t\\treturn function ( target, source, options ) {\\n\\n\\t\\t\\toptions = options || {};\\n\\t\\t\\toptions.preserveMatrix = options.preserveMatrix !== undefined ? options.preserveMatrix : true;\\n\\t\\t\\toptions.preservePosition = options.preservePosition !== undefined ? options.preservePosition : true;\\n\\t\\t\\toptions.preserveHipPosition = options.preserveHipPosition !== undefined ? options.preserveHipPosition : false;\\n\\t\\t\\toptions.useTargetMatrix = options.useTargetMatrix !== undefined ? options.useTargetMatrix : false;\\n\\t\\t\\toptions.hip = options.hip !== undefined ? options.hip : \\\"hip\\\";\\n\\t\\t\\toptions.names = options.names || {};\\n\\n\\t\\t\\tvar sourceBones = source.isObject3D ? source.skeleton.bones : this.getBones( source ),\\n\\t\\t\\t\\tbones = target.isObject3D ? target.skeleton.bones : this.getBones( target ),\\n\\t\\t\\t\\tbindBones,\\n\\t\\t\\t\\tbone, name, boneTo,\\n\\t\\t\\t\\tbonesPosition, i;\\n\\n\\t\\t\\t// reset bones\\n\\n\\t\\t\\tif ( target.isObject3D ) {\\n\\n\\t\\t\\t\\ttarget.skeleton.pose();\\n\\n\\t\\t\\t} else {\\n\\n\\t\\t\\t\\toptions.useTargetMatrix = true;\\n\\t\\t\\t\\toptions.preserveMatrix = false;\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tif ( options.preservePosition ) {\\n\\n\\t\\t\\t\\tbonesPosition = [];\\n\\n\\t\\t\\t\\tfor ( i = 0; i < bones.length; i ++ ) {\\n\\n\\t\\t\\t\\t\\tbonesPosition.push( bones[ i ].position.clone() );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tif ( options.preserveMatrix ) {\\n\\n\\t\\t\\t\\t// reset matrix\\n\\n\\t\\t\\t\\ttarget.updateMatrixWorld();\\n\\n\\t\\t\\t\\ttarget.matrixWorld.identity();\\n\\n\\t\\t\\t\\t// reset children matrix\\n\\n\\t\\t\\t\\tfor ( i = 0; i < target.children.length; ++ i ) {\\n\\n\\t\\t\\t\\t\\ttarget.children[ i ].updateMatrixWorld( true );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tif ( options.offsets ) {\\n\\n\\t\\t\\t\\tbindBones = [];\\n\\n\\t\\t\\t\\tfor ( i = 0; i < bones.length; ++ i ) {\\n\\n\\t\\t\\t\\t\\tbone = bones[ i ];\\n\\t\\t\\t\\t\\tname = options.names[ bone.name ] || bone.name;\\n\\n\\t\\t\\t\\t\\tif ( options.offsets && options.offsets[ name ] ) {\\n\\n\\t\\t\\t\\t\\t\\tbone.matrix.multiply( options.offsets[ name ] );\\n\\n\\t\\t\\t\\t\\t\\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\\n\\n\\t\\t\\t\\t\\t\\tbone.updateMatrixWorld();\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tbindBones.push( bone.matrixWorld.clone() );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tfor ( i = 0; i < bones.length; ++ i ) {\\n\\n\\t\\t\\t\\tbone = bones[ i ];\\n\\t\\t\\t\\tname = options.names[ bone.name ] || bone.name;\\n\\n\\t\\t\\t\\tboneTo = this.getBoneByName( name, sourceBones );\\n\\n\\t\\t\\t\\tglobalMatrix.copy( bone.matrixWorld );\\n\\n\\t\\t\\t\\tif ( boneTo ) {\\n\\n\\t\\t\\t\\t\\tboneTo.updateMatrixWorld();\\n\\n\\t\\t\\t\\t\\tif ( options.useTargetMatrix ) {\\n\\n\\t\\t\\t\\t\\t\\trelativeMatrix.copy( boneTo.matrixWorld );\\n\\n\\t\\t\\t\\t\\t} else {\\n\\n\\t\\t\\t\\t\\t\\trelativeMatrix.getInverse( target.matrixWorld );\\n\\t\\t\\t\\t\\t\\trelativeMatrix.multiply( boneTo.matrixWorld );\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// ignore scale to extract rotation\\n\\n\\t\\t\\t\\t\\tscale.setFromMatrixScale( relativeMatrix );\\n\\t\\t\\t\\t\\trelativeMatrix.scale( scale.set( 1 / scale.x, 1 / scale.y, 1 / scale.z ) );\\n\\n\\t\\t\\t\\t\\t// apply to global matrix\\n\\n\\t\\t\\t\\t\\tglobalMatrix.makeRotationFromQuaternion( quat.setFromRotationMatrix( relativeMatrix ) );\\n\\n\\t\\t\\t\\t\\tif ( target.isObject3D ) {\\n\\n\\t\\t\\t\\t\\t\\tvar boneIndex = bones.indexOf( bone ),\\n\\t\\t\\t\\t\\t\\t\\twBindMatrix = bindBones ? bindBones[ boneIndex ] : bindBoneMatrix.getInverse( target.skeleton.boneInverses[ boneIndex ] );\\n\\n\\t\\t\\t\\t\\t\\tglobalMatrix.multiply( wBindMatrix );\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tglobalMatrix.copyPosition( relativeMatrix );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif ( bone.parent && bone.parent.isBone ) {\\n\\n\\t\\t\\t\\t\\tbone.matrix.getInverse( bone.parent.matrixWorld );\\n\\t\\t\\t\\t\\tbone.matrix.multiply( globalMatrix );\\n\\n\\t\\t\\t\\t} else {\\n\\n\\t\\t\\t\\t\\tbone.matrix.copy( globalMatrix );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif ( options.preserveHipPosition && name === options.hip ) {\\n\\n\\t\\t\\t\\t\\tbone.matrix.setPosition( pos.set( 0, bone.position.y, 0 ) );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\\n\\n\\t\\t\\t\\tbone.updateMatrixWorld();\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tif ( options.preservePosition ) {\\n\\n\\t\\t\\t\\tfor ( i = 0; i < bones.length; ++ i ) {\\n\\n\\t\\t\\t\\t\\tbone = bones[ i ];\\n\\t\\t\\t\\t\\tname = options.names[ bone.name ] || bone.name;\\n\\n\\t\\t\\t\\t\\tif ( name !== options.hip ) {\\n\\n\\t\\t\\t\\t\\t\\tbone.position.copy( bonesPosition[ i ] );\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tif ( options.preserveMatrix ) {\\n\\n\\t\\t\\t\\t// restore matrix\\n\\n\\t\\t\\t\\ttarget.updateMatrixWorld( true );\\n\\n\\t\\t\\t}\\n\\n\\t\\t};\\n\\n\\t}(),\\n\\n\\tretargetClip: function ( target, source, clip, options ) {\\n\\n\\t\\toptions = options || {};\\n\\t\\toptions.useFirstFramePosition = options.useFirstFramePosition !== undefined ? options.useFirstFramePosition : false;\\n\\t\\toptions.fps = options.fps !== undefined ? options.fps : 30;\\n\\t\\toptions.names = options.names || [];\\n\\n\\t\\tif ( ! source.isObject3D ) {\\n\\n\\t\\t\\tsource = this.getHelperFromSkeleton( source );\\n\\n\\t\\t}\\n\\n\\t\\tvar numFrames = Math.round( clip.duration * ( options.fps / 1000 ) * 1000 ),\\n\\t\\t\\tdelta = 1 / options.fps,\\n\\t\\t\\tconvertedTracks = [],\\n\\t\\t\\tmixer = new THREE.AnimationMixer( source ),\\n\\t\\t\\tbones = this.getBones( target.skeleton ),\\n\\t\\t\\tboneDatas = [],\\n\\t\\t\\tpositionOffset,\\n\\t\\t\\tbone, boneTo, boneData,\\n\\t\\t\\tname, i, j;\\n\\n\\t\\tmixer.clipAction( clip ).play();\\n\\t\\tmixer.update( 0 );\\n\\n\\t\\tsource.updateMatrixWorld();\\n\\n\\t\\tfor ( i = 0; i < numFrames; ++ i ) {\\n\\n\\t\\t\\tvar time = i * delta;\\n\\n\\t\\t\\tthis.retarget( target, source, options );\\n\\n\\t\\t\\tfor ( j = 0; j < bones.length; ++ j ) {\\n\\n\\t\\t\\t\\tname = options.names[ bones[ j ].name ] || bones[ j ].name;\\n\\n\\t\\t\\t\\tboneTo = this.getBoneByName( name, source.skeleton );\\n\\n\\t\\t\\t\\tif ( boneTo ) {\\n\\n\\t\\t\\t\\t\\tbone = bones[ j ];\\n\\t\\t\\t\\t\\tboneData = boneDatas[ j ] = boneDatas[ j ] || { bone: bone };\\n\\n\\t\\t\\t\\t\\tif ( options.hip === name ) {\\n\\n\\t\\t\\t\\t\\t\\tif ( ! boneData.pos ) {\\n\\n\\t\\t\\t\\t\\t\\t\\tboneData.pos = {\\n\\t\\t\\t\\t\\t\\t\\t\\ttimes: new Float32Array( numFrames ),\\n\\t\\t\\t\\t\\t\\t\\t\\tvalues: new Float32Array( numFrames * 3 )\\n\\t\\t\\t\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif ( options.useFirstFramePosition ) {\\n\\n\\t\\t\\t\\t\\t\\t\\tif ( i === 0 ) {\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tpositionOffset = bone.position.clone();\\n\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tbone.position.sub( positionOffset );\\n\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tboneData.pos.times[ i ] = time;\\n\\n\\t\\t\\t\\t\\t\\tbone.position.toArray( boneData.pos.values, i * 3 );\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif ( ! boneData.quat ) {\\n\\n\\t\\t\\t\\t\\t\\tboneData.quat = {\\n\\t\\t\\t\\t\\t\\t\\ttimes: new Float32Array( numFrames ),\\n\\t\\t\\t\\t\\t\\t\\tvalues: new Float32Array( numFrames * 4 )\\n\\t\\t\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tboneData.quat.times[ i ] = time;\\n\\n\\t\\t\\t\\t\\tbone.quaternion.toArray( boneData.quat.values, i * 4 );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tmixer.update( delta );\\n\\n\\t\\t\\tsource.updateMatrixWorld();\\n\\n\\t\\t}\\n\\n\\t\\tfor ( i = 0; i < boneDatas.length; ++ i ) {\\n\\n\\t\\t\\tboneData = boneDatas[ i ];\\n\\n\\t\\t\\tif ( boneData ) {\\n\\n\\t\\t\\t\\tif ( boneData.pos ) {\\n\\n\\t\\t\\t\\t\\tconvertedTracks.push( new THREE.VectorKeyframeTrack(\\n\\t\\t\\t\\t\\t\\t\\\".bones[\\\" + boneData.bone.name + \\\"].position\\\",\\n\\t\\t\\t\\t\\t\\tboneData.pos.times,\\n\\t\\t\\t\\t\\t\\tboneData.pos.values\\n\\t\\t\\t\\t\\t) );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tconvertedTracks.push( new THREE.QuaternionKeyframeTrack(\\n\\t\\t\\t\\t\\t\\\".bones[\\\" + boneData.bone.name + \\\"].quaternion\\\",\\n\\t\\t\\t\\t\\tboneData.quat.times,\\n\\t\\t\\t\\t\\tboneData.quat.values\\n\\t\\t\\t\\t) );\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\tmixer.uncacheAction( clip );\\n\\n\\t\\treturn new THREE.AnimationClip( clip.name, - 1, convertedTracks );\\n\\n\\t},\\n\\n\\tgetHelperFromSkeleton: function ( skeleton ) {\\n\\n\\t\\tvar source = new THREE.SkeletonHelper( skeleton.bones[ 0 ] );\\n\\t\\tsource.skeleton = skeleton;\\n\\n\\t\\treturn source;\\n\\n\\t},\\n\\n\\tgetSkeletonOffsets: function () {\\n\\n\\t\\tvar targetParentPos = new THREE.Vector3(),\\n\\t\\t\\ttargetPos = new THREE.Vector3(),\\n\\t\\t\\tsourceParentPos = new THREE.Vector3(),\\n\\t\\t\\tsourcePos = new THREE.Vector3(),\\n\\t\\t\\ttargetDir = new THREE.Vector2(),\\n\\t\\t\\tsourceDir = new THREE.Vector2();\\n\\n\\t\\treturn function ( target, source, options ) {\\n\\n\\t\\t\\toptions = options || {};\\n\\t\\t\\toptions.hip = options.hip !== undefined ? options.hip : \\\"hip\\\";\\n\\t\\t\\toptions.names = options.names || {};\\n\\n\\t\\t\\tif ( ! source.isObject3D ) {\\n\\n\\t\\t\\t\\tsource = this.getHelperFromSkeleton( source );\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar nameKeys = Object.keys( options.names ),\\n\\t\\t\\t\\tnameValues = Object.values( options.names ),\\n\\t\\t\\t\\tsourceBones = source.isObject3D ? source.skeleton.bones : this.getBones( source ),\\n\\t\\t\\t\\tbones = target.isObject3D ? target.skeleton.bones : this.getBones( target ),\\n\\t\\t\\t\\toffsets = [],\\n\\t\\t\\t\\tbone, boneTo,\\n\\t\\t\\t\\tname, i;\\n\\n\\t\\t\\ttarget.skeleton.pose();\\n\\n\\t\\t\\tfor ( i = 0; i < bones.length; ++ i ) {\\n\\n\\t\\t\\t\\tbone = bones[ i ];\\n\\t\\t\\t\\tname = options.names[ bone.name ] || bone.name;\\n\\n\\t\\t\\t\\tboneTo = this.getBoneByName( name, sourceBones );\\n\\n\\t\\t\\t\\tif ( boneTo && name !== options.hip ) {\\n\\n\\t\\t\\t\\t\\tvar boneParent = this.getNearestBone( bone.parent, nameKeys ),\\n\\t\\t\\t\\t\\t\\tboneToParent = this.getNearestBone( boneTo.parent, nameValues );\\n\\n\\t\\t\\t\\t\\tboneParent.updateMatrixWorld();\\n\\t\\t\\t\\t\\tboneToParent.updateMatrixWorld();\\n\\n\\t\\t\\t\\t\\ttargetParentPos.setFromMatrixPosition( boneParent.matrixWorld );\\n\\t\\t\\t\\t\\ttargetPos.setFromMatrixPosition( bone.matrixWorld );\\n\\n\\t\\t\\t\\t\\tsourceParentPos.setFromMatrixPosition( boneToParent.matrixWorld );\\n\\t\\t\\t\\t\\tsourcePos.setFromMatrixPosition( boneTo.matrixWorld );\\n\\n\\t\\t\\t\\t\\ttargetDir.subVectors(\\n\\t\\t\\t\\t\\t\\tnew THREE.Vector2( targetPos.x, targetPos.y ),\\n\\t\\t\\t\\t\\t\\tnew THREE.Vector2( targetParentPos.x, targetParentPos.y )\\n\\t\\t\\t\\t\\t).normalize();\\n\\n\\t\\t\\t\\t\\tsourceDir.subVectors(\\n\\t\\t\\t\\t\\t\\tnew THREE.Vector2( sourcePos.x, sourcePos.y ),\\n\\t\\t\\t\\t\\t\\tnew THREE.Vector2( sourceParentPos.x, sourceParentPos.y )\\n\\t\\t\\t\\t\\t).normalize();\\n\\n\\t\\t\\t\\t\\tvar laterialAngle = targetDir.angle() - sourceDir.angle();\\n\\n\\t\\t\\t\\t\\tvar offset = new THREE.Matrix4().makeRotationFromEuler(\\n\\t\\t\\t\\t\\t\\tnew THREE.Euler(\\n\\t\\t\\t\\t\\t\\t\\t0,\\n\\t\\t\\t\\t\\t\\t\\t0,\\n\\t\\t\\t\\t\\t\\t\\tlaterialAngle\\n\\t\\t\\t\\t\\t\\t)\\n\\t\\t\\t\\t\\t);\\n\\n\\t\\t\\t\\t\\tbone.matrix.multiply( offset );\\n\\n\\t\\t\\t\\t\\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\\n\\n\\t\\t\\t\\t\\tbone.updateMatrixWorld();\\n\\n\\t\\t\\t\\t\\toffsets[ name ] = offset;\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn offsets;\\n\\n\\t\\t};\\n\\n\\t}(),\\n\\n\\trenameBones: function ( skeleton, names ) {\\n\\n\\t\\tvar bones = this.getBones( skeleton );\\n\\n\\t\\tfor ( var i = 0; i < bones.length; ++ i ) {\\n\\n\\t\\t\\tvar bone = bones[ i ];\\n\\n\\t\\t\\tif ( names[ bone.name ] ) {\\n\\n\\t\\t\\t\\tbone.name = names[ bone.name ];\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\treturn this;\\n\\n\\t},\\n\\n\\tgetBones: function ( skeleton ) {\\n\\n\\t\\treturn Array.isArray( skeleton ) ? skeleton : skeleton.bones;\\n\\n\\t},\\n\\n\\tgetBoneByName: function ( name, skeleton ) {\\n\\n\\t\\tfor ( var i = 0, bones = this.getBones( skeleton ); i < bones.length; i ++ ) {\\n\\n\\t\\t\\tif ( name === bones[ i ].name )\\n\\n\\t\\t\\t\\treturn bones[ i ];\\n\\n\\t\\t}\\n\\n\\t},\\n\\n\\tgetNearestBone: function ( bone, names ) {\\n\\n\\t\\twhile ( bone.isBone ) {\\n\\n\\t\\t\\tif ( names.indexOf( bone.name ) !== - 1 ) {\\n\\n\\t\\t\\t\\treturn bone;\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tbone = bone.parent;\\n\\n\\t\\t}\\n\\n\\t},\\n\\n\\tfindBoneTrackData: function ( name, tracks ) {\\n\\n\\t\\tvar regexp = /\\\\[(.*)\\\\]\\\\.(.*)/,\\n\\t\\t\\tresult = { name: name };\\n\\n\\t\\tfor ( var i = 0; i < tracks.length; ++ i ) {\\n\\n\\t\\t\\t// 1 is track name\\n\\t\\t\\t// 2 is track type\\n\\t\\t\\tvar trackData = regexp.exec( tracks[ i ].name );\\n\\n\\t\\t\\tif ( trackData && name === trackData[ 1 ] ) {\\n\\n\\t\\t\\t\\tresult[ trackData[ 2 ] ] = i;\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\treturn result;\\n\\n\\t},\\n\\n\\tgetEqualsBonesNames: function ( skeleton, targetSkeleton ) {\\n\\n\\t\\tvar sourceBones = this.getBones( skeleton ),\\n\\t\\t\\ttargetBones = this.getBones( targetSkeleton ),\\n\\t\\t\\tbones = [];\\n\\n\\t\\tsearch : for ( var i = 0; i < sourceBones.length; i ++ ) {\\n\\n\\t\\t\\tvar boneName = sourceBones[ i ].name;\\n\\n\\t\\t\\tfor ( var j = 0; j < targetBones.length; j ++ ) {\\n\\n\\t\\t\\t\\tif ( boneName === targetBones[ j ].name ) {\\n\\n\\t\\t\\t\\t\\tbones.push( boneName );\\n\\n\\t\\t\\t\\t\\tcontinue search;\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\treturn bones;\\n\\n\\t},\\n\\n\\tclone: function ( source ) {\\n\\n\\t\\tvar sourceLookup = new Map();\\n\\t\\tvar cloneLookup = new Map();\\n\\n\\t\\tvar clone = source.clone();\\n\\n\\t\\tparallelTraverse( source, clone, function ( sourceNode, clonedNode ) {\\n\\n\\t\\t\\tsourceLookup.set( clonedNode, sourceNode );\\n\\t\\t\\tcloneLookup.set( sourceNode, clonedNode );\\n\\n\\t\\t} );\\n\\n\\t\\tclone.traverse( function ( node ) {\\n\\n\\t\\t\\tif ( ! node.isSkinnedMesh ) return;\\n\\n\\t\\t\\tvar clonedMesh = node;\\n\\t\\t\\tvar sourceMesh = sourceLookup.get( node );\\n\\t\\t\\tvar sourceBones = sourceMesh.skeleton.bones;\\n\\n\\t\\t\\tclonedMesh.skeleton = sourceMesh.skeleton.clone();\\n\\t\\t\\tclonedMesh.bindMatrix.copy( sourceMesh.bindMatrix );\\n\\n\\t\\t\\tclonedMesh.skeleton.bones = sourceBones.map( function ( bone ) {\\n\\n\\t\\t\\t\\treturn cloneLookup.get( bone );\\n\\n\\t\\t\\t} );\\n\\n\\t\\t\\tclonedMesh.bind( clonedMesh.skeleton, clonedMesh.bindMatrix );\\n\\n\\t\\t} );\\n\\n\\t\\treturn clone;\\n\\n\\t}\\n\\n};\\n\\n\\nfunction parallelTraverse( a, b, callback ) {\\n\\n\\tcallback( a, b );\\n\\n\\tfor ( var i = 0; i < a.children.length; i ++ ) {\\n\\n\\t\\tparallelTraverse( a.children[ i ], b.children[ i ], callback );\\n\\n\\t}\\n\\n}\\n\\nexport default SkeletonUtils;\",\"import * as THREE from \\\"three\\\";\\nimport SkeletonUtils from \\\"./skeleton-utils\\\";\\n\\nexport const clean = obj => {\\n\\twhile (obj.children.length > 0) {\\n\\t\\tclean(obj.children[0]);\\n\\t\\tobj.remove(obj.children[0]);\\n\\t}\\n\\n\\tif (obj.geometry && obj.geometry.dispose) obj.geometry.dispose();\\n\\tif (obj.material && obj.material.dispose) obj.material.dispose();\\n\\tif (obj.texture && obj.texture.dispose) obj.texture.dispose();\\n};\\n\\nexport const clear = clean;\\n\\nexport const remove = (parent, child) => {\\n\\tif (child)\\n\\t\\tclean(child);\\n\\n\\tif (parent)\\n\\t\\tparent.remove(child);\\n};\\n\\nexport const direction = obj => {\\n\\treturn obj.getWorldDirection(new THREE.Vector3());\\n};\\n\\nexport const rotateAroundPoint = (\\n\\tobj,\\n\\tpoint,\\n\\t{ x = 0, y = 0, z = 0 }\\n) => {\\n\\t//-- https://stackoverflow.com/a/42866733/138392\\n\\t//-- https://stackoverflow.com/a/44288885/138392\\n\\n\\tconst original = obj.position.clone();\\n\\tconst pivot = point.clone();\\n\\tconst diff = new THREE.Vector3().subVectors(original, pivot);\\n\\n\\tobj.position.copy(pivot);\\n\\n\\tobj.rotation.x += x;\\n\\tobj.rotation.y += y;\\n\\tobj.rotation.z += z;\\n\\n\\tdiff.applyAxisAngle(new THREE.Vector3(1, 0, 0), x);\\n\\tdiff.applyAxisAngle(new THREE.Vector3(0, 1, 0), y);\\n\\tdiff.applyAxisAngle(new THREE.Vector3(0, 0, 1), z);\\n\\n\\tobj.position.add(diff);\\n};\\n\\nexport const model = obj => {\\n\\treturn obj.model ? obj.model : obj;\\n};\\n\\nexport const add = (parent, child) => {\\n\\tif (!parent || !child)\\n\\t\\treturn;\\n\\n\\tconst p = parent.model ? parent.model : parent;\\n\\tconst c = child.model ? child.model : child;\\n\\n\\tmodel(p).add(model(c))\\n};\\n\\nexport const reparent = (subject, newParent) => {\\n\\tsubject.matrix.copy(subject.matrixWorld);\\n\\tsubject.applyMatrix(new THREE.Matrix4().getInverse(newParent.matrixWorld));\\n\\tnewParent.add(subject);\\n};\\n\\nexport const size = model => {\\n\\tconst currentSize = new THREE.Vector3();\\n\\tconst currentBox = new THREE.Box3().setFromObject(model);\\n\\n\\tcurrentBox.getSize(currentSize);\\n\\n\\treturn currentSize;\\n};\\n\\nexport const cloneTexture = texture => {\\n\\tconst clone = texture.clone();\\n\\n  \\treturn clone;\\n};\\n\\nexport const cloneMesh = SkeletonUtils.clone;\\n\\nexport const firstMesh = obj => {\\n\\tif (!obj)\\n\\t\\treturn;\\n\\n\\tif (obj.isMesh)\\n\\t\\treturn obj;\\n\\n\\tif (obj.children && obj.children.length){\\n\\t\\tfor (let i = 0; i < obj.children.length; i++) {\\n\\t\\t\\tconst test = firstMesh(obj.children[i]);\\n\\n\\t\\t\\tif (test && test.isMesh)\\n\\t\\t\\t\\treturn test;\\n\\t\\t}\\n\\t}\\n};\\n\\nexport const promisifyLoader = (loader, onProgress) => {\\n\\n  const promiseLoader = url => {\\n    return new Promise( (resolve, reject) => {\\n      loader.load(url, resolve, onProgress, reject);\\n    });\\n  }\\n\\n  return {\\n    originalLoader: loader,\\n    load: promiseLoader,\\n  };\\n};\",\"import { rotateAroundPoint } from \\\"../utils/three\\\";\\n\\nconst Camera = ({\\n  yawSpeed = 0.01,\\n  pitchSpeed = 0.01,\\n  zoomSpeed = 0.02\\n} = {}) => {\\n  return (entities, { keyboardController }) => {\\n    const camera = entities.camera;\\n\\n    if (camera && keyboardController) {\\n      const { w, a, s, d, space, control } = keyboardController;\\n\\n      //-- Yaw and pitch rotation\\n      if (w || a || s || d) {\\n        rotateAroundPoint(camera, camera.target, {\\n          y: (a ? 1 : d ? -1 : 0) * yawSpeed,\\n          x: (w ? 1 : s ? -1 : 0) * pitchSpeed\\n        });\\n        camera.lookAt(camera.target);\\n      }\\n      \\n      //-- Zooming (pinching)\\n      if (space || control) {\\n        const zoomFactor = (space ? 1 : control ? -1 : 0) * zoomSpeed;\\n\\n        camera.zoom += zoomFactor;\\n        camera.updateProjectionMatrix();\\n      }\\n    }\\n\\n    return entities;\\n  };\\n};\\n\\nexport default Camera;\\n\",\"import _ from \\\"lodash\\\";\\nimport { interpolate } from '@popmotion/popcorn';\\nimport * as ThreeUtils from \\\"./three\\\";\\n\\nconst remove = (entities, key) => {\\n\\tconst entity = entities[key];\\n\\n\\tif (!entity) \\n\\t\\treturn;\\n\\n\\tif (entity.model)\\n\\t\\tThreeUtils.remove(entity.model.parent, entity.model);\\n\\n\\tif (entity.light)\\n\\t\\tThreeUtils.remove(entity.light.parent, entity.light);\\n\\n\\tif (entity.particles) {\\n\\t\\tObject.keys(entity.particles).forEach(k => {\\n\\t\\t\\tconst emitter = entity.particles[k].emitter\\n\\t\\t\\tif (emitter)\\n\\t\\t\\t\\tThreeUtils.remove(emitter.parent, emitter);\\n\\t\\t})\\n\\t}\\n\\n\\tif (entity.bodies)\\n\\t\\tentity.bodies.forEach(b => b.remove())\\n\\n\\tdelete entities[key];\\n\\n\\treturn entities;\\n};\\n\\nconst any = (arr = [], b = \\\"\\\", c) => {\\n\\tif (c) {\\n\\t\\tif (Array.isArray(c) === false) c = [c];\\n\\n\\t\\treturn _.isFunction(b)\\n\\t\\t\\t? _.intersection(arr.map(b), c).length > 0\\n\\t\\t\\t: _.intersection(arr.map(x => x[b]), c).length > 0;\\n\\t}\\n\\n\\tif (!b) return arr.length > 0;\\n\\n\\tif (Array.isArray(b)) return _.intersection(arr, b).length > 0;\\n\\n\\tif (_.isFunction(b)) return arr.find(b);\\n\\n\\treturn arr.indexOf(b) > -1;\\n};\\n\\nconst first = (entities, ...predicates) => {\\n\\tif (!entities) return;\\n\\tif (!predicates || predicates.length < 1) return entities[0];\\n\\n\\tif (Array.isArray(entities))\\n\\t\\treturn entities.find(e => _.every(predicates, p => p(e)))\\n\\n\\treturn entities[Object.keys(entities).find(key => _.every(predicates, p => p(entities[key])))]\\n}\\n\\nconst firstKey = (entities, ...predicates) => {\\n\\tif (!entities) return;\\n\\tif (!predicates || predicates.length < 1) return Object.keys(entities)[0];\\n\\n\\treturn Object.keys(entities).find(key => _.every(predicates, p => p(entities[key])))\\n}\\n\\nconst all = (entities, ...predicates) => {\\n\\tif (!entities) return;\\n\\tif (!predicates || predicates.length < 1) return entities;\\n\\n\\tif (Array.isArray(entities))\\n\\t\\treturn entities.filter(e => _.every(predicates, p => p(e)))\\n\\n\\treturn Object.keys(entities).filter(key => _.every(predicates, p => p(entities[key]))).map(key => entities[key])\\n}\\n\\nconst allKeys = (entities, ...predicates) => {\\n\\tif (!entities) return;\\n\\tif (!predicates || predicates.length < 1) return Object.keys(entities);\\n\\n\\treturn Object.keys(entities).filter(key => _.every(predicates, p => p(entities[key])));\\n}\\n\\n//-- https://stackoverflow.com/a/7616484/138392\\nconst getHashCode = str => {\\n  var hash = 0, i, chr;\\n  if (str.length === 0) return hash;\\n  for (i = 0; i < str.length; i++) {\\n    chr   = str.charCodeAt(i);\\n    hash  = ((hash << 5) - hash) + chr;\\n    hash |= 0; // Convert to 32bit integer\\n  }\\n  return hash;\\n};\\n\\nconst positive = val => Math.abs(val)\\n\\nconst negative = val => {\\n\\tif (val > 0) return -val\\n\\treturn val\\n}\\n\\nconst remap = (n, start1, stop1, start2, stop2) => {\\n  return (n - start1) / (stop1 - start1) * (stop2 - start2) + start2;\\n}\\n\\nconst constrain = (n, low, high) => {\\n  return Math.max(Math.min(n, high), low);\\n}\\n\\nconst between = (n, low, high) => {\\n  return n > low && n < high\\n}\\n\\nconst pipe = (...funcs) => _.flow(_.flatten(funcs || []))\\n\\nconst id = (seed = 0) => (prefix = \\\"\\\") => `${prefix}${++seed}`\\n\\nconst cond = (condition, func) => {\\n\\treturn (args) => {\\n\\t\\tconst test = _.isFunction(condition) ? condition(args) : condition\\n\\t\\treturn test ? func(args) : args\\n\\t}\\n}\\n\\nconst log = label => data => {\\n\\tconsole.log(label, data);\\n\\treturn data;\\n}\\n\\nconst randomInt = (min = 0, max = 1) => Math.floor(Math.random() * (max - min + 1) + min);\\n\\nconst throttle = (func, interval, defaultValue) => {\\n\\tlet last = 0;\\n\\treturn (...args) => {\\n\\t\\tconst current = performance.now();\\n\\t\\tif ((current - last) > interval) {\\n\\t\\t\\tlast = current;\\n\\t\\t\\treturn func(...args);\\n\\t\\t} else {\\n\\t\\t\\treturn _.isFunction(defaultValue) ? defaultValue(...args) : defaultValue;\\n\\t\\t}\\n\\t}\\n}\\n\\nconst screen = window.screen;\\n\\nconst createSound = (asset, throttleInterval = 0) => {\\n\\tconst audio = new Audio(asset);\\n\\tconst play = () => audio.play();\\n\\n\\treturn throttleInterval ? throttle(play, throttleInterval) : play;\\n};\\n\\nconst find = _.find;\\nconst filter = _.filter;\\nconst clamp = constrain;\\nconst once = _.once;\\nconst memoize = _.memoize;\\nconst sound = createSound;\\n\\nexport {\\n\\tremove,\\n\\tany,\\n\\tfind,\\n\\tfilter,\\n\\tfirst,\\n\\tfirstKey,\\n\\tall,\\n\\tallKeys,\\n\\tgetHashCode,\\n\\tpositive,\\n\\tnegative,\\n\\tremap,\\n\\tconstrain,\\n\\tclamp,\\n\\tbetween,\\n\\tpipe,\\n\\tid,\\n\\tcond,\\n\\tinterpolate,\\n\\tlog, \\n\\trandomInt,\\n\\tonce,\\n\\tmemoize,\\n\\tthrottle,\\n\\tscreen,\\n\\tcreateSound,\\n\\tsound\\n}\",\"import { all } from \\\"../utils\\\";\\n\\nconst Particles = (entities, args) => {\\n\\tconst { time } = args;\\n\\tconst entitiesWithParticles = all(entities, e => e.particles);\\n\\n\\tfor (let i = 0; i < entitiesWithParticles.length; i++) {\\n\\t\\tconst entity = entitiesWithParticles[i];\\n\\t\\tconst keys = Object.keys(entity.particles);\\n\\n\\t\\tfor (let j = 0; j < keys.length; j++) {\\n\\t\\t\\tconst ps = entity.particles[keys[j]];\\n\\t\\t\\tconst { spawnOptions, options, beforeSpawn } = ps;\\n\\t\\t\\tconst delta = (time.delta / 1000) * spawnOptions.timeScale;\\n\\n\\t\\t\\tps.tick += delta;\\n\\n\\t\\t\\tif (ps.tick < 0) ps.tick = 0;\\n\\n\\t\\t\\tif (delta > 0) {\\n\\t\\t\\t\\tbeforeSpawn(entity, entities, ps, args);\\n\\n\\t\\t\\t\\tfor (let x = 0; x < spawnOptions.spawnRate * delta; x++) {\\n\\t\\t\\t\\t\\tps.emitter.spawnParticle(options);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tps.emitter.update(ps.tick);\\n\\t\\t}\\n\\t}\\n\\n\\treturn entities;\\n};\\n\\nexport default Particles;\\n\",\"import * as THREE from \\\"three\\\";\\nimport { remove } from \\\"../utils\\\";\\nimport _ from \\\"lodash\\\";\\n\\n//-- https://gist.github.com/zentrope/5022d89cfa995ac71978\\n\\nconst frustum = new THREE.Frustum();\\nconst cameraViewProjectionMatrix = new THREE.Matrix4();\\n\\nconst Removal = entities => {\\n  const camera = entities.camera;\\n  const removeableKeys = Object.keys(entities).filter(\\n    x => entities[x].removable\\n  );\\n\\n  camera.updateMatrixWorld();\\n  camera.matrixWorldInverse.getInverse(camera.matrixWorld);\\n  cameraViewProjectionMatrix.multiplyMatrices(\\n    camera.projectionMatrix,\\n    camera.matrixWorldInverse\\n  );\\n  frustum.setFromMatrix(cameraViewProjectionMatrix);\\n\\n  removeableKeys.forEach(key => {\\n    const test = entities[key].removable;\\n\\n    if (_.isFunction(test) ? test(frustum, entities[key], entities) : true)\\n      remove(entities, key);\\n  });\\n\\n  return entities;\\n};\\n\\nexport default Removal;\\n\",\"import { all } from \\\"../utils\\\";\\nimport _ from \\\"lodash\\\";\\n\\nconst Rotation = (entities, args) => {\\n\\tconst rotatables = all(entities, e => e.rotation, e => e.model);\\n\\n\\tfor (let i = 0; i < rotatables.length; i++) {\\n\\t\\tconst r = rotatables[i];\\n\\n\\t\\tif (r.model.cellIndex !== undefined) {\\n\\t\\t\\tr.model.angle = _.isFunction(r.rotation)\\n\\t\\t\\t\\t? r.rotation(r, entities, args)\\n\\t\\t\\t\\t: r.model.angle + r.rotation;\\n\\t\\t} else {\\n\\t\\t\\tr.model.rotation.z = r.rotation.z\\n\\t\\t\\t\\t? _.isFunction(r.rotation.z)\\n\\t\\t\\t\\t\\t? r.rotation.z(r, entities, args)\\n\\t\\t\\t\\t\\t: r.model.rotation.z + r.rotation.z\\n\\t\\t\\t\\t: r.model.rotation.z;\\n\\t\\t\\tr.model.rotation.x = r.rotation.x\\n\\t\\t\\t\\t? _.isFunction(r.rotation.x)\\n\\t\\t\\t\\t\\t? r.rotation.x(r, entities, args)\\n\\t\\t\\t\\t\\t: r.model.rotation.x + r.rotation.x\\n\\t\\t\\t\\t: r.model.rotation.x;\\n\\t\\t\\tr.model.rotation.y = r.rotation.y\\n\\t\\t\\t\\t? _.isFunction(r.rotation.y)\\n\\t\\t\\t\\t\\t? r.rotation.y(r, entities, args)\\n\\t\\t\\t\\t\\t: r.model.rotation.y + r.rotation.y\\n\\t\\t\\t\\t: r.model.rotation.y;\\n\\t\\t}\\n\\t}\\n\\n\\treturn entities;\\n};\\n\\nexport default Rotation;\\n\",\"import { all } from \\\"../utils\\\";\\nimport _ from \\\"lodash\\\";\\n\\nconst start = (timeline, args) => {\\n  if (!timeline.start) timeline.start = args.time.current;\\n};\\n\\nconst update = (entity, entities, key, timeline, args) => {\\n  const time = args.time;\\n\\n  if (timeline.duration) {\\n    let percent = (time.current - timeline.start) / timeline.duration;\\n\\n    if (percent <= 1) {\\n      timeline.update(entity, entities, percent, timeline, args);\\n    } else {\\n      if (timeline.complete)\\n        timeline.complete(entity, entities, timeline, args);\\n\\n      delete entity.timelines[key];\\n    }\\n  }\\n\\n  if (timeline.while) {\\n    if (\\n      _.isFunction(timeline.while)\\n        ? timeline.while(entity, entities, timeline, args)\\n        : true\\n    ) {\\n      timeline.update(entity, entities, timeline, args);\\n    } else {\\n      if (timeline.complete)\\n        timeline.complete(entity, entities, timeline, args);\\n\\n      delete entity.timelines[key];\\n    }\\n  }\\n};\\n\\nconst Timeline = (entities, args) => {\\n  const entitiesWithTimelines = all(entities, e => e.timelines);\\n\\n  for (let i = 0; i < entitiesWithTimelines.length; i++) {\\n    const entity = entitiesWithTimelines[i];\\n    const keys = Object.keys(entity.timelines);\\n\\n    for (let j = 0; j < keys.length; j++) {\\n      const key = keys[j];\\n      const timeline = entity.timelines[key];\\n\\n      if (timeline) {\\n        start(timeline, args);\\n        update(entity, entities, key, timeline, args);\\n      }\\n    }\\n  }\\n\\n  return entities;\\n};\\n\\nexport default Timeline;\\n\",\"const HUD = (entities, args) => {\\n  \\n  const hud = entities.hud;\\n\\n  if (hud) {\\n    hud.gamepadController = args.gamepadController;\\n    hud.keyboardController = args.keyboardController;\\n    hud.mouseController = args.mouseController;\\n  }\\n\\n  return entities;\\n};\\n\\nexport default HUD;\",\"const getGamepad = () => navigator.getGamepads()[0] || navigator.getGamepads()[1] || navigator.getGamepads()[2] || navigator.getGamepads()[3];\\n\\nconst vibrate = gp => {\\n  return effect => {\\n    if (gp && gp.vibrationActuator)\\n      gp.vibrationActuator.playEffect(\\\"dual-rumble\\\", effect);\\n  };\\n};\\n\\nconst createGamepadButtonReader = (buttonIndices = []) => {\\n  return gp => {\\n    if (gp) {\\n      return buttonIndices.map(idx => gp.buttons[idx].pressed);\\n    }\\n  }\\n};\\n\\nconst createGamepadButtonValueReader = (buttonIndices = [], threshold = 0.05) => {\\n  return gp => {\\n    if (gp) {\\n      return buttonIndices.map(idx => {\\n        const button = gp.buttons[idx];\\n\\n        return button.pressed && button.value > threshold ? button.value : 0;\\n      });\\n    }\\n  }\\n};\\n\\nconst createGamepadAxesReader = (axisIndices = [], mapper = x => x, threshold = 0.05) => {\\n  return gp => {\\n    if (gp) {\\n      return axisIndices.map(idx => {\\n        const val = gp.axes[idx];\\n\\n        return Math.abs(val) > threshold ? val : 0;\\n      })\\n    }\\n  }\\n};\\n\\nconst stick = (xIdx, yIdx) => {\\n  const reader = createGamepadAxesReader([xIdx, yIdx]);\\n\\n  return gp => {\\n    const [x, y] = reader(gp) || [0, 0];\\n\\n    return { x, y, heading: (x + y) ? Math.atan2(y, x) : null };\\n  }\\n};\\n\\nconst button = (idx) => {\\n  const reader = createGamepadButtonReader([idx]);\\n\\n  return gp => {\\n    const [val] = reader(gp) || [false];\\n\\n    return val;\\n  }\\n};\\n\\nconst buttonValue = (idx) => {\\n  const reader = createGamepadButtonValueReader([idx]);\\n\\n  return gp => {\\n    const [val] = reader(gp) || [0];\\n\\n    return val;\\n  }\\n};\\n\\nconst leftStick = stick(0, 1);\\nconst rightStick = stick(2, 3);\\nconst button0 = button(0);\\nconst button1 = button(1);\\nconst leftTrigger = buttonValue(6);\\nconst rightTrigger = buttonValue(7);\\n\\nlet previous = { };\\n\\nconst GamepadController = (Wrapped = x => x) => (entities, args) => {\\n\\n  if (!args.gamepadController) {\\n      const gamepad = getGamepad();\\n\\n      const current = {\\n        leftStick: leftStick(gamepad),\\n        rightStick: rightStick(gamepad),\\n        button0: button0(gamepad),\\n        button1: button1(gamepad),\\n        leftTrigger: leftTrigger(gamepad),\\n        rightTrigger: rightTrigger(gamepad),\\n        vibrate: vibrate(gamepad)\\n      };\\n\\n      args.gamepadController = Object.assign({}, current, { previous });\\n\\n      previous = current;\\n  }\\n\\n  return Wrapped(entities, args);\\n};\\n\\nexport default GamepadController;\",\"const readKey = (input, keys, name) => input.find(x => x.name === name && keys.indexOf(x.payload.key) !== -1);\\n\\nconst createKeyReader = keys => {\\n  let down = false;\\n\\n  return input => {\\n    if (readKey(input, keys, \\\"onKeyDown\\\"))\\n      down = true;\\n    \\n    if (readKey(input, keys, \\\"onKeyUp\\\"))\\n      down = false;\\n\\n    return down;\\n  }\\n};\\n\\nconst w = createKeyReader([\\\"w\\\", \\\"W\\\", \\\"ArrowUp\\\"]);\\nconst a = createKeyReader([\\\"a\\\", \\\"A\\\", \\\"ArrowLeft\\\"]);\\nconst s = createKeyReader([\\\"s\\\", \\\"S\\\", \\\"ArrowDown\\\"]);\\nconst d = createKeyReader([\\\"d\\\", \\\"D\\\", \\\"ArrowRight\\\"]);\\nconst space = createKeyReader([\\\" \\\"]);\\nconst control = createKeyReader([\\\"Control\\\"]);\\n\\nlet previous = { };\\n\\nconst KeyboardController = (Wrapped = x => x) => (entities, args) => {\\n\\n  if (!args.keyboardController) {\\n      const input = args.input;\\n\\n      const current = {\\n        w: w(input),\\n        a: a(input),\\n        s: s(input),\\n        d: d(input),\\n        space: space(input),\\n        control: control(input)\\n      };\\n\\n      args.keyboardController = Object.assign({}, current, { previous });\\n\\n      previous = current;\\n  }\\n\\n  return Wrapped(entities, args);\\n};\\n\\nexport default KeyboardController;\",\"const readButton = (input, buttons, name) => input.find(x => x.name === name && buttons.indexOf(x.payload.button) !== -1);\\n\\nconst createButtonReader = buttons => {\\n  let down = false;\\n\\n  return input => {\\n    if (readButton(input, buttons, \\\"onMouseDown\\\"))\\n      down = true;\\n    \\n    if (readButton(input, buttons, \\\"onMouseUp\\\"))\\n      down = false;\\n\\n    return down;\\n  }\\n};\\n\\nconst createPositionReader = () => {\\n  let position = { x: 0, y: 0 };\\n\\n  return input => {\\n    const move = input.find(x => x.name === \\\"onMouseMove\\\");\\n\\n    if (move) {\\n      position = {\\n        x: move.payload.pageX,\\n        y: move.payload.pageY\\n      }\\n    }\\n\\n    return position;\\n  }\\n}\\n\\nconst createWheelReader = () => {\\n  let value = 0;\\n\\n  return input => {\\n    const wheel = input.find(x => x.name === \\\"onWheel\\\");\\n\\n    if (wheel) {\\n      if (wheel.payload.deltaY < 0)\\n        value--;\\n      else \\n        value++;\\n    }\\n\\n    return value;\\n  }\\n}\\n\\nconst left = createButtonReader([0]);\\nconst middle = createButtonReader([1]);\\nconst right = createButtonReader([2]);\\nconst position = createPositionReader();\\nconst wheel = createWheelReader();\\n\\nlet previous = { };\\n\\nconst MouseController = (Wrapped = x => x) => (entities, args) => {\\n\\n  if (!args.mouseController) {\\n      const input = args.input;\\n\\n      const current = {\\n        left: left(input),\\n        middle: middle(input),\\n        right: right(input),\\n        position: position(input),\\n        wheel: wheel(input)\\n      };\\n\\n      args.mouseController = Object.assign({}, current, { previous });\\n\\n      previous = current;\\n  }\\n\\n  return Wrapped(entities, args);\\n};\\n\\nexport default MouseController;\",\"import { all } from \\\"../utils\\\";\\n\\nconst Physics = (entities, args) => {\\n  const world = entities.world;\\n  const entitiesWithBodies = all(entities, e => e.bodies && e.model);\\n\\n  if (world) \\n  \\tworld.step();\\n\\n  for (let x = 0; x < entitiesWithBodies.length; x++) {\\n  \\tconst entity = entitiesWithBodies[x];\\n  \\tconst model = entity.model;\\n  \\tconst body = entity.bodies[0];\\n  \\tconst collision = entity.collision;\\n\\n\\tif (!body.sleeping) {\\n  \\t\\tmodel.position.copy(body.getPosition());\\n    \\tmodel.quaternion.copy(body.getQuaternion());\\n  \\t}\\n\\n  \\tif (collision) {\\n  \\t\\tfor (let y = 0; y < entitiesWithBodies.length; y++) {\\n  \\t\\t\\tif (x === y) \\n  \\t\\t\\t\\tcontinue;\\n\\n  \\t\\t\\tconst otherEntity = entitiesWithBodies[y];\\n  \\t\\t\\tconst otherBody = otherEntity.bodies[0];\\n  \\t\\t\\tconst contact = world.getContact(body, otherBody);\\n\\n  \\t\\t\\tif (contact)\\n  \\t\\t\\t\\tcollision(entity, otherEntity, contact, entities, args);\\n  \\t\\t}\\n  \\t}\\n  }\\n\\n  return entities;\\n};\\n\\nexport default Physics;\\n\",\"import Box from \\\"../components/box\\\"\\nimport Cylinder from \\\"../components/cylinder\\\"\\nimport { id } from \\\"../utils\\\";\\n\\nconst boxId = (id => () => id(\\\"box\\\"))(id(0));\\nconst cylinderId = (id => () => id(\\\"cylinder\\\"))(id(0));\\n\\nconst Spawn = (entities, { gamepadController, mouseController }) => {\\n\\n  const world = entities.world;\\n  const scene = entities.scene;\\n\\n  if ((gamepadController.button0 && !gamepadController.previous.button0) || (mouseController.left && !mouseController.previous.left))\\n  \\tentities[boxId()] = Box({ parent: scene, world, y: 5 });\\n\\n  if ((gamepadController.button1 && !gamepadController.previous.button1) || (mouseController.right && !mouseController.previous.right))\\n  \\tentities[cylinderId()] = Cylinder({ parent: scene, world, y: 5 });\\n\\n  return entities;\\n};\\n\\nexport default Spawn;\\n\",\"import * as THREE from \\\"three\\\";\\nimport { add } from \\\"../utils/three\\\";\\nimport { sound } from \\\"../utils\\\";\\nimport CrashFile from \\\"../../assets/audio/crash-01.wav\\\";\\n\\nexport default ({\\n\\tparent,\\n\\tworld,\\n\\tdynamic = true,\\n\\tx = 0,\\n\\ty = 0,\\n\\tz = 0,\\n\\twidth = 1.1,\\n\\tbreadth = 1.1,\\n\\theight = 1.1,\\n\\tscale = 1,\\n\\tcolor = 0x00e6ff\\n}) => {\\n\\tconst geometry = new THREE.BoxGeometry(width, height, breadth);\\n\\tconst material = new THREE.MeshStandardMaterial({ color });\\n\\tconst box = new THREE.Mesh(geometry, material);\\n\\n\\tbox.position.x = x;\\n\\tbox.position.y = y;\\n\\tbox.position.z = z;\\n\\tbox.scale.x = scale;\\n\\tbox.scale.y = scale;\\n\\tbox.scale.z = scale;\\n\\n\\tadd(parent, box);\\n\\t\\n\\tconst crash = sound(CrashFile, 16 * 40);\\n\\n\\treturn {\\n\\t\\tmodel: box,\\n\\t\\tbodies: [\\n\\t\\t\\tworld.add({\\n\\t\\t\\t\\ttype: \\\"box\\\",\\n\\t\\t\\t\\tsize: [width * scale, height * scale, breadth * scale],\\n\\t\\t\\t\\tpos: [x, y, z],\\n\\t\\t\\t\\trot: [0, 0, 0],\\n\\t\\t\\t\\tmove: dynamic,\\n\\t\\t\\t\\tdensity: 0.1,\\n\\t\\t\\t\\tfriction: 0.9,\\n\\t\\t\\t\\trestitution: 0.2,\\n\\t\\t\\t\\tbelongsTo: 1,\\n\\t\\t\\t\\tcollidesWith: 0xffffffff\\n\\t\\t\\t})\\n\\t\\t],\\n\\t\\tcollision: (self, other, contact, entities, { gamepadController }) => {\\n\\t\\t\\tif (!contact.close) {\\n\\t\\t\\t\\tcrash();\\n\\n\\t\\t\\t\\tconst camera = entities.camera;\\n\\n\\t\\t\\t\\tif (camera)\\n\\t\\t\\t\\t\\tcamera.shake();\\n\\n\\t\\t\\t\\tif (gamepadController)\\n\\t\\t\\t\\t\\tgamepadController.vibrate({ duration: 300, strongMagnitude: 0.3 });\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tremovable: (frustum, self) => !frustum.intersectsObject(self.model)\\n\\t};\\n};\\n\",\"import * as THREE from \\\"three\\\";\\nimport { add } from \\\"../utils/three\\\";\\n\\nexport default ({\\n\\tparent,\\n\\tworld,\\n\\tdynamic = true,\\n\\tx = 0,\\n\\ty = 0,\\n\\tz = 0,\\n\\tradius = 0.5,\\n\\theight = 1.1,\\n\\tsegments = 32,\\n\\tscale = 1,\\n\\tcolor = 0x0fe61f,\\n\\topacity = 1,\\n}) => {\\n\\tconst geometry = new THREE.CylinderGeometry(radius, radius, height, segments);\\n\\tconst material = new THREE.MeshStandardMaterial({ color, transparent: opacity < 1, opacity, flatShading: true });\\n\\tconst cylinder = new THREE.Mesh(geometry, material);\\n\\n\\tcylinder.position.x = x;\\n\\tcylinder.position.y = y;\\n\\tcylinder.position.z = z;\\n\\tcylinder.scale.x = scale;\\n\\tcylinder.scale.y = scale;\\n\\tcylinder.scale.z = scale;\\n\\n\\tadd(parent, cylinder);\\n\\n\\treturn {\\n\\t\\tmodel: cylinder,\\n\\t\\tbodies: [\\n\\t\\t\\tworld.add({\\n\\t\\t\\t\\ttype: \\\"cylinder\\\",\\n\\t\\t\\t\\tsize: [radius * scale, height * scale],\\n\\t\\t\\t\\tpos: [x, y, z],\\n\\t\\t\\t\\trot: [0, 0, 0],\\n\\t\\t\\t\\tmove: dynamic,\\n\\t\\t\\t\\tdensity: 0.1,\\n\\t\\t\\t\\tfriction: 0.9,\\n\\t\\t\\t\\trestitution: 0.2,\\n\\t\\t\\t\\tbelongsTo: 1,\\n\\t\\t\\t\\tcollidesWith: 0xffffffff\\n\\t\\t\\t})\\n\\t\\t],\\n\\t\\tremovable: (frustum, self) => !frustum.intersectsObject(self.model)\\n\\t};\\n};\\n\",\"import Camera from \\\"./camera\\\";\\nimport Particles from \\\"./particles\\\";\\nimport Removal from \\\"./removal\\\";\\nimport Rotation from \\\"./rotation\\\";\\nimport Timeline from \\\"./timeline\\\";\\nimport HUD from \\\"./hud\\\";\\nimport GamepadController from \\\"./gamepad-controller\\\";\\nimport KeyboardController from \\\"./keyboard-controller\\\";\\nimport MouseController from \\\"./mouse-controller\\\";\\nimport Physics from \\\"./physics\\\";\\nimport Spawn from \\\"./spawn\\\";\\n\\nexport default [\\n\\tGamepadController(),\\n\\tKeyboardController(),\\n\\tMouseController(),\\n\\tCamera({ pitchSpeed: -0.02, yawSpeed: 0.02 }),\\n\\tParticles,\\n\\tRemoval,\\n\\tRotation,\\n\\tTimeline,\\n\\tSpawn,\\n\\tPhysics,\\n\\tHUD\\n];\\n\",\"import * as THREE from \\\"three\\\";\\nimport { cloneTexture, add } from \\\"../utils/three\\\";\\nimport { remap, clamp } from \\\"../utils\\\";\\n\\nexport default async ({ parent, x = 0, z = 0, y = 0, spriteSheet, rows, columns, actions: mappings = {} }) => {\\n\\n\\tconst texture = cloneTexture(await Promise.resolve(spriteSheet));\\n\\n\\ttexture.needsUpdate = true;\\n\\ttexture.repeat.set(1 / columns, 1 / rows);\\n\\n\\tconst spriteMaterial = new THREE.SpriteMaterial({ map: texture, color: 0xffffff });\\n\\tconst sprite = new THREE.Sprite(spriteMaterial);\\n\\t\\n\\tsprite.position.x = x;\\n\\tsprite.position.y = y;\\n\\tsprite.position.z = z;\\n\\n\\tadd(parent, sprite);\\n\\n\\tconst actions = {};\\n\\tconst timelines = {};\\n\\n\\tObject.keys(mappings).forEach(key => {\\n\\t\\tactions[key] = () => {\\n\\n\\t\\t\\tif (timelines.action && timelines.action.key === key)\\n\\t\\t\\t\\treturn;\\n\\n\\t\\t\\tlet { start, end, loop = true, speed = 0.25, update, scaleX = 1, scaleY = 1, flipX = false, flipY = false } = mappings[key];\\n\\t\\t\\tend = end || start;\\n\\n\\t\\t\\tsprite.scale.x = scaleX;\\n\\t\\t\\tsprite.scale.y = scaleY;\\n\\n\\t\\t\\ttexture.repeat.x = Math.abs(texture.repeat.x) * (flipX ? -1 : 1);\\n\\t\\t\\ttexture.repeat.y = Math.abs(texture.repeat.y) * (flipY ? -1 : 1);\\n\\n\\t\\t\\tlet startColumn = start.column;\\n\\t\\t\\tlet startRow = start.row;\\n\\t\\t\\tlet endColumn = end.column;\\n\\t\\t\\tlet endRow = end.row;\\n\\n\\t\\t\\tif (flipX) {\\n\\t\\t\\t\\tstartColumn++;\\n\\t\\t\\t\\tendColumn++;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (flipY) {\\n\\t\\t\\t\\tstartRow++;\\n\\t\\t\\t\\tendRow++;\\n\\t\\t\\t}\\n\\n\\t\\t\\tconst increment = speed * 1 / Math.max(Math.abs(endColumn - startColumn), Math.abs(endRow - startRow), 1)\\n\\n\\t\\t\\tif (loop) {\\n\\t\\t\\t\\tendColumn++;\\n\\t\\t\\t\\tendRow++;\\n\\t\\t\\t}\\n\\n\\t\\t\\ttimelines.action = {\\n\\t\\t\\t\\twhile: true,\\n\\t\\t\\t\\tcounter: 0,\\n\\t\\t\\t\\tkey,\\n\\t\\t\\t\\tupdate(entity, entities, timeline, args) {\\n\\t\\t\\t\\t\\tconst percentage = loop ? timeline.counter % 1 : clamp(timeline.counter, 0, 1)\\n\\t\\t\\t\\t\\tconst column = Math.trunc(remap(percentage, 0, 1, startColumn, endColumn))\\n\\t\\t\\t\\t\\tconst row = Math.trunc(remap(percentage, 0, 1, startRow, endRow))\\n\\n\\t\\t\\t\\t\\ttexture.offset.x = column / columns;\\n\\t\\t\\t\\t\\ttexture.offset.y = row / rows;\\n\\t\\t\\t\\t\\ttimeline.counter += increment;\\n\\n\\t\\t\\t\\t\\tif (update)\\n\\t\\t\\t\\t\\t\\tupdate(entity, entities, { column, row }, args)\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t});\\n\\n\\treturn {\\n\\t\\tmodel: sprite,\\n\\t\\tactions,\\n\\t\\ttimelines\\n\\t};\\n};\",\"import * as THREE from \\\"three\\\";\\nimport Sprite from \\\"./sprite\\\";\\nimport { between } from \\\"../utils\\\";\\nimport { promisifyLoader } from \\\"../utils/three\\\";\\nimport CupheadFile from \\\"../../assets/sprite-sheets/cuphead.png\\\";\\n\\nconst loader = promisifyLoader(new THREE.TextureLoader());\\nconst spriteSheet = loader.load(CupheadFile);\\n\\nexport default async ({ parent, x = 0, y = 0, z = 0}) => {\\n\\t\\n\\tconst sprite = await Sprite({\\n\\t\\tparent,\\n\\t\\tx,\\n\\t\\ty,\\n\\t\\tz,\\n\\t\\tspriteSheet,\\n\\t\\tcolumns: 16,\\n\\t\\trows: 8,\\n\\t\\tactions: {\\n\\t\\t\\tidle: {\\n\\t\\t\\t\\tstart: { row: 2, column: 0 }\\n\\t\\t\\t},\\n\\t\\t\\tjump: {\\n\\t\\t\\t\\tstart: { row: 0,  column: 0 },\\n\\t\\t\\t\\tend: { row: 0, column: 9 },\\n\\t\\t\\t\\tloop: false\\n\\t\\t\\t},\\n\\t\\t\\ts: {\\n\\t\\t\\t\\tstart: { row: 1, column: 0 },\\n\\t\\t\\t\\tend: { row: 1, column: 12 }\\n\\t\\t\\t},\\n\\t\\t\\tse: {\\n\\t\\t\\t\\tstart: { row: 3, column: 0 },\\n\\t\\t\\t\\tend: { row: 3, column: 15 }\\n\\t\\t\\t},\\n\\t\\t\\te: {\\n\\t\\t\\t\\tstart: { row: 4, column: 0 },\\n\\t\\t\\t\\tend: { row: 4, column: 13 }\\n\\t\\t\\t},\\n\\t\\t\\tne: {\\n\\t\\t\\t\\tstart: { row: 6, column: 0 },\\n\\t\\t\\t\\tend: { row: 6, column: 14 }\\n\\t\\t\\t},\\n\\t\\t\\tn: {\\n\\t\\t\\t\\tstart: { row: 7, column: 1 },\\n\\t\\t\\t\\tend: { row: 7, column: 15 }\\n\\t\\t\\t},\\n\\t\\t\\tnw: {\\n\\t\\t\\t\\tstart: { row: 6, column: 0 },\\n\\t\\t\\t\\tend: { row: 6, column: 14 },\\n\\t\\t\\t\\tflipX: true\\n\\t\\t\\t},\\n\\t\\t\\tw: {\\n\\t\\t\\t\\tstart: { row: 4, column: 0 },\\n\\t\\t\\t\\tend: { row: 4, column: 13 },\\n\\t\\t\\t\\tflipX: true\\n\\t\\t\\t},\\n\\t\\t\\tsw: {\\n\\t\\t\\t\\tstart: { row: 3, column: 0 },\\n\\t\\t\\t\\tend: { row: 3, column: 15 },\\n\\t\\t\\t\\tflipX: true\\n\\t\\t\\t}\\n\\t\\t}\\n\\t});\\n\\n\\tsprite.timelines.controls = {\\n\\t\\twhile: true,\\n\\t\\tdirections: [\\n\\t\\t\\t{ heading: 0, action: \\\"e\\\" },\\n\\t\\t\\t{ heading: -45, action: \\\"ne\\\" },\\n\\t\\t\\t{ heading: -90, action: \\\"n\\\" },\\n\\t\\t\\t{ heading: -135, action: \\\"nw\\\" },\\n\\t\\t\\t{ heading: -180, action: \\\"w\\\" },\\n\\t\\t\\t{ heading: 45, action: \\\"se\\\" },\\n\\t\\t\\t{ heading: 90, action: \\\"s\\\" },\\n\\t\\t\\t{ heading: 135, action: \\\"sw\\\" },\\n\\t\\t\\t{ heading: 180, action: \\\"w\\\" }\\n\\t\\t],\\n\\t\\tupdate(self, entities, { directions }, { gamepadController }) {\\n\\t\\t\\tif (gamepadController.leftStick.heading !== null ) {\\n\\t\\t\\t\\tconst degrees = THREE.Math.radToDeg(gamepadController.leftStick.heading)\\n\\t\\t\\t\\tconst direction = directions.find(x => between(degrees, x.heading - 25, x.heading + 25))\\n\\n\\t\\t\\t\\tself.actions[direction.action]()\\n\\t\\t\\t} else self.actions.idle();\\n\\t\\t}\\n\\t};\\n\\n\\treturn sprite;\\n};\\n\",\"import React from \\\"react\\\";\\n\\nclass HUDRenderer extends React.Component {\\n  shouldComponentUpdate(nextProps) {\\n    const k1 = this.props.keyboardController || {};\\n    const k2 = nextProps.keyboardController || {};\\n\\n    const g1 = this.props.gamepadController || {};\\n    const g2 = nextProps.gamepadController || {};\\n\\n    const m1 = this.props.mouseController || {};\\n    const m2 = nextProps.mouseController || {};\\n\\n    return (\\n      k1.w !== k2.w ||\\n      k1.a !== k2.a ||\\n      k1.s !== k2.s ||\\n      k1.d !== k2.d ||\\n      k1.space !== k2.space ||\\n      k1.control !== k2.control ||\\n      g1.leftTrigger !== g2.leftTrigger ||\\n      g1.rightTrigger !== g2.rightTrigger ||\\n      g1.leftStick.x !== g2.leftStick.x ||\\n      g1.leftStick.y !== g2.leftStick.y ||\\n      g1.rightStick.x !== g2.rightStick.x ||\\n      g1.rightStick.y !== g2.rightStick.y ||\\n      g1.button0 !== g2.button0 ||\\n      g1.button1 !== g2.button1 ||\\n      m1.wheel !== m2.wheel ||\\n      m1.left !== m2.left ||\\n      m1.right !== m2.right ||\\n      m1.middle !== m2.middle ||\\n      m1.position.x !== m2.position.x ||\\n      m1.position.y !== m2.position.y\\n    );\\n  }\\n\\n  render() {\\n    const { w, a, s, d, space, control } = this.props.keyboardController || {};\\n    const {\\n      button0,\\n      button1,\\n      leftTrigger = 0,\\n      rightTrigger = 0,\\n      leftStick = { x: 0, y: 0 },\\n      rightStick = { x: 0, y: 0 }\\n    } = this.props.gamepadController || {};\\n    const { wheel, left, middle, right, position = { x: 0, y: 0 } } =\\n      this.props.mouseController || {};\\n    const onColor = \\\"cornflowerblue\\\";\\n    const offColor = \\\"white\\\";\\n\\n    return (\\n      <div style={css.hud}>\\n        <h1>\\n          <span style={{ color: button0 ? onColor : offColor }}>B0</span>\\n          &nbsp;&nbsp; \\n          <span style={{ color: button1 ? onColor : offColor }}>B1</span>\\n          &nbsp;&nbsp;\\n          <span style={{ color: leftStick.heading ? onColor : offColor }}>{`LS(${leftStick.x.toFixed(2)}, ${leftStick.y.toFixed(2)})`}</span>\\n          &nbsp;&nbsp;\\n          <span style={{ color: leftTrigger ? onColor : offColor }}>{`LT(${leftTrigger.toFixed(2)})`}</span>\\n          &nbsp;&nbsp;\\n          <span style={{ color: rightStick.heading ? onColor : offColor }}>{`RS(${rightStick.x.toFixed(2)}, ${rightStick.y.toFixed(2)})`}</span>\\n          &nbsp;&nbsp;\\n          <span style={{ color: rightTrigger ? onColor : offColor }}>{`RT(${rightTrigger.toFixed(2)})`}</span>\\n          &nbsp;&nbsp;\\n          <span style={{ color: w ? onColor : offColor }}>W</span>\\n          <span style={{ color: a ? onColor : offColor }}>A</span>\\n          <span style={{ color: s ? onColor : offColor }}>S</span>\\n          <span style={{ color: d ? onColor : offColor }}>D</span>\\n          &nbsp;&nbsp;\\n          <span style={{ color: space ? onColor : offColor }}>SPACE</span>\\n          &nbsp;&nbsp;\\n          <span style={{ color: control ? onColor : offColor }}>CONTROL</span>\\n          &nbsp;&nbsp;\\n          <span>\\n            MOUSE(\\n            <span>{wheel}</span>\\n            &nbsp;&nbsp;\\n            <span style={{ color: left ? onColor : offColor }}>L</span>\\n            <span style={{ color: middle ? onColor : offColor }}>M</span>\\n            <span style={{ color: right ? onColor : offColor }}>R</span>\\n            &nbsp;&nbsp;\\n            <span>{`${position.x}, ${position.y}`}</span>\\n            )\\n          </span>\\n        </h1>\\n      </div>\\n    );\\n  }\\n}\\n\\nconst css = {\\n  hud: {\\n    fontSize: 10,\\n    color: \\\"white\\\",\\n    zIndex: 100,\\n    marginTop: -100\\n  }\\n}\\n\\nexport default () => {\\n  return { renderer: <HUDRenderer /> };\\n};\\n\",\"import * as THREE from \\\"three\\\";\\nimport { add, rotateAroundPoint } from \\\"../utils/three\\\";\\n\\nexport default ({ parent, world, items = [], x = 0, y = 0, z = 0, radius = 4, height = 0.2, color = 0xdddddd, segments = 32, opacity = 1 }) => {\\n\\n\\tconst geometry = new THREE.CylinderGeometry(radius, radius + radius * 0.1, height, segments);\\n\\tconst material = new THREE.MeshStandardMaterial({ color, transparent: opacity < 1, opacity, flatShading: true });\\n\\tconst cylinder = new THREE.Mesh(geometry, material);\\n\\n\\tcylinder.position.x = x;\\n\\tcylinder.position.y = y;\\n\\tcylinder.position.z = z;\\n\\n\\titems.forEach((item, idx) => {\\n\\t\\titem.model.position.z = radius - 1;\\n\\t\\trotateAroundPoint(item.model, cylinder.position, { y: ((Math.PI * 2) / items.length) * idx })\\n\\t\\tadd(cylinder, item);\\n\\n\\t\\tif (item.bodies) \\n\\t\\t\\titem.bodies[0].position.set(item.model.position.x, item.model.position.y, item.model.position.z)\\n\\t})\\n\\t\\n\\tadd(parent, cylinder);\\n\\n\\tconst primary = world.add({ \\n\\t    type: \\\"cylinder\\\",\\n\\t    size: [radius, height],\\n\\t    pos: [x, y, z],\\n\\t    rot: [0, 0, 0],\\n\\t    move: true,\\n\\t    density: 0.9,\\n\\t    friction: 0.9,\\n\\t    restitution: 0.2,\\n\\t    belongsTo: 1,\\n\\t    collidesWith: 0xffffffff\\n\\t});\\n\\n\\tconst base = world.add({ type: \\\"cylinder\\\", size: [radius, height], pos: [x, y, z], move: false });\\n\\n\\tconst hinge = world.add({\\n\\t\\ttype: \\\"jointHinge\\\",\\n\\t\\tbody1: primary, \\n\\t\\tbody2: base,\\n\\t\\taxe1: [0, 1, 0],\\n\\t\\taxe2: [0, 1, 0],\\n\\t\\tpos1: [primary.position.x, primary.position.y, primary.position.z],\\n\\t\\tpos2: [base.position.x, base.position.y, base.position.z]\\n\\t});\\n\\n\\treturn {\\n\\t\\tmodel: cylinder,\\n\\t\\tbodies: [primary, base, hinge],\\n\\t\\ttimelines: {\\n\\t\\t\\tswipe: {\\n\\t\\t\\t\\twhile: true,\\n\\t\\t\\t\\tupdate(self, entities, timeline, { gamepadController }) {\\n\\t\\t\\t\\t\\tif (gamepadController.rightTrigger)\\n\\t\\t\\t\\t\\t\\tself.bodies[0].angularVelocity.set(0, gamepadController.rightTrigger, 0)\\n\\t\\t\\t\\t\\telse if (gamepadController.leftTrigger)\\n\\t\\t\\t\\t\\t\\tself.bodies[0].angularVelocity.set(0, -gamepadController.leftTrigger, 0)\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n};\",\"import { add, cloneMesh } from \\\"../utils/three\\\";\\nimport { clamp } from \\\"../utils\\\";\\n\\nexport default async ({ parent, x = 0, z = 0, y = 0, scale = 1, mesh, morphTargets = {} }) => {\\n\\n\\tconst model = cloneMesh(await Promise.resolve(mesh));\\n\\t\\n\\tmodel.position.x = x;\\n\\tmodel.position.y = y;\\n\\tmodel.position.z = z;\\n\\tmodel.scale.x = scale;\\n\\tmodel.scale.y = scale;\\n\\tmodel.scale.z = scale;\\n\\n\\tadd(parent, model);\\n\\n\\tconst poses = {};\\n\\t\\n\\tObject.keys(morphTargets).forEach(key => {\\n\\t\\tconst index = morphTargets[key];\\n\\n\\t\\tposes[key] = weight => {\\n\\t\\t\\tif (weight === undefined || weight === null)\\n\\t\\t\\t\\treturn model.morphTargetInfluences[index];\\n\\n\\t\\t\\tmodel.morphTargetInfluences[index] = clamp(weight, 0, 1);\\n\\t\\t};\\n\\t})\\n\\n\\treturn {\\n\\t\\tmodel,\\n\\t\\tposes\\n\\t};\\n};\",\"import { promisifyLoader } from \\\"../utils/three\\\";\\nimport FBXLoader from \\\"../utils/three/fbx-loader\\\";\\nimport AnimatedModel from \\\"./animated-model\\\";\\nimport DroidFile from \\\"../../assets/models/droid.fbx\\\";\\n\\nconst loader = promisifyLoader(new FBXLoader());\\nconst mesh = loader.load(DroidFile);\\n\\nexport default async ({ parent, x = 0, y = 0, z = 0}) => {\\n\\n\\tconst animated = await AnimatedModel({ parent, x, y, z, mesh, scale: 0.0035 })\\n\\n\\treturn animated;\\n};\\n\",\"import * as THREE from 'three';\\n\\n/*\\n * GPU Particle System\\n * @author flimshaw - Charlie Hoey - http://charliehoey.com\\n *\\n * A simple to use, general purpose GPU system. Particles are spawn-and-forget with\\n * several options available, and do not require monitoring or cleanup after spawning.\\n * Because the paths of all particles are completely deterministic once spawned, the scale\\n * and direction of time is also variable.\\n *\\n * Currently uses a static wrapping perlin noise texture for turbulence, and a small png texture for\\n * particles, but adding support for a particle texture atlas or changing to a different type of turbulence\\n * would be a fairly light day's work.\\n *\\n * Shader and javascript packing code derrived from several Stack Overflow examples.\\n * \\n * https://github.com/mrdoob/three.js/blob/dev/examples/js/GPUParticleSystem.js\\n * \\n */\\n\\nconst GPUParticleSystem = function ( options ) {\\n\\n\\tTHREE.Object3D.apply( this, arguments );\\n\\n\\toptions = options || {};\\n\\n\\t// parse options and use defaults\\n\\n\\tthis.PARTICLE_COUNT = options.maxParticles || 1000000;\\n\\tthis.PARTICLE_CONTAINERS = options.containerCount || 1;\\n\\n\\tthis.PARTICLE_NOISE_TEXTURE = options.particleNoiseTex || null;\\n\\tthis.PARTICLE_SPRITE_TEXTURE = options.particleSpriteTex || null;\\n\\n\\tthis.PARTICLES_PER_CONTAINER = Math.ceil( this.PARTICLE_COUNT / this.PARTICLE_CONTAINERS );\\n\\tthis.PARTICLE_CURSOR = 0;\\n\\tthis.time = 0;\\n\\tthis.particleContainers = [];\\n\\tthis.rand = [];\\n\\n\\t// custom vertex and fragement shader\\n\\n\\tvar GPUParticleShader = {\\n\\n\\t\\tvertexShader: [\\n\\n\\t\\t\\t'uniform float uTime;',\\n\\t\\t\\t'uniform float uScale;',\\n\\t\\t\\t'uniform sampler2D tNoise;',\\n\\n\\t\\t\\t'attribute vec3 positionStart;',\\n\\t\\t\\t'attribute float startTime;',\\n\\t\\t\\t'attribute vec3 velocity;',\\n\\t\\t\\t'attribute float turbulence;',\\n\\t\\t\\t'attribute vec3 color;',\\n\\t\\t\\t'attribute float size;',\\n\\t\\t\\t'attribute float lifeTime;',\\n\\n\\t\\t\\t'varying vec4 vColor;',\\n\\t\\t\\t'varying float lifeLeft;',\\n\\n\\t\\t\\t'void main() {',\\n\\n\\t\\t\\t// unpack things from our attributes'\\n\\n\\t\\t\\t'\\tvColor = vec4( color, 1.0 );',\\n\\n\\t\\t\\t// convert our velocity back into a value we can use'\\n\\n\\t\\t\\t'\\tvec3 newPosition;',\\n\\t\\t\\t'\\tvec3 v;',\\n\\n\\t\\t\\t'\\tfloat timeElapsed = uTime - startTime;',\\n\\n\\t\\t\\t'\\tlifeLeft = 1.0 - ( timeElapsed / lifeTime );',\\n\\n\\t\\t\\t'\\tgl_PointSize = ( uScale * size ) * lifeLeft;',\\n\\n\\t\\t\\t'\\tv.x = ( velocity.x - 0.5 ) * 3.0;',\\n\\t\\t\\t'\\tv.y = ( velocity.y - 0.5 ) * 3.0;',\\n\\t\\t\\t'\\tv.z = ( velocity.z - 0.5 ) * 3.0;',\\n\\n\\t\\t\\t'\\tnewPosition = positionStart + ( v * 10.0 ) * timeElapsed;',\\n\\n\\t\\t\\t'\\tvec3 noise = texture2D( tNoise, vec2( newPosition.x * 0.015 + ( uTime * 0.05 ), newPosition.y * 0.02 + ( uTime * 0.015 ) ) ).rgb;',\\n\\t\\t\\t'\\tvec3 noiseVel = ( noise.rgb - 0.5 ) * 30.0;',\\n\\n\\t\\t\\t'\\tnewPosition = mix( newPosition, newPosition + vec3( noiseVel * ( turbulence * 5.0 ) ), ( timeElapsed / lifeTime ) );',\\n\\n\\t\\t\\t'\\tif( v.y > 0. && v.y < .05 ) {',\\n\\n\\t\\t\\t'\\t\\tlifeLeft = 0.0;',\\n\\n\\t\\t\\t'\\t}',\\n\\n\\t\\t\\t'\\tif( v.x < - 1.45 ) {',\\n\\n\\t\\t\\t'\\t\\tlifeLeft = 0.0;',\\n\\n\\t\\t\\t'\\t}',\\n\\n\\t\\t\\t'\\tif( timeElapsed > 0.0 ) {',\\n\\n\\t\\t\\t'\\t\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 1.0 );',\\n\\n\\t\\t\\t'\\t} else {',\\n\\n\\t\\t\\t'\\t\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );',\\n\\t\\t\\t'\\t\\tlifeLeft = 0.0;',\\n\\t\\t\\t'\\t\\tgl_PointSize = 0.;',\\n\\n\\t\\t\\t'\\t}',\\n\\n\\t\\t\\t'}'\\n\\n\\t\\t].join( '\\\\n' ),\\n\\n\\t\\tfragmentShader: [\\n\\n\\t\\t\\t'float scaleLinear( float value, vec2 valueDomain ) {',\\n\\n\\t\\t\\t'\\treturn ( value - valueDomain.x ) / ( valueDomain.y - valueDomain.x );',\\n\\n\\t\\t\\t'}',\\n\\n\\t\\t\\t'float scaleLinear( float value, vec2 valueDomain, vec2 valueRange ) {',\\n\\n\\t\\t\\t'\\treturn mix( valueRange.x, valueRange.y, scaleLinear( value, valueDomain ) );',\\n\\n\\t\\t\\t'}',\\n\\n\\t\\t\\t'varying vec4 vColor;',\\n\\t\\t\\t'varying float lifeLeft;',\\n\\n\\t\\t\\t'uniform sampler2D tSprite;',\\n\\n\\t\\t\\t'void main() {',\\n\\n\\t\\t\\t'\\tfloat alpha = 0.;',\\n\\n\\t\\t\\t'\\tif( lifeLeft > 0.995 ) {',\\n\\n\\t\\t\\t'\\t\\talpha = scaleLinear( lifeLeft, vec2( 1.0, 0.995 ), vec2( 0.0, 1.0 ) );',\\n\\n\\t\\t\\t'\\t} else {',\\n\\n\\t\\t\\t'\\t\\talpha = lifeLeft * 0.75;',\\n\\n\\t\\t\\t'\\t}',\\n\\n\\t\\t\\t'\\tvec4 tex = texture2D( tSprite, gl_PointCoord );',\\n\\t\\t\\t'\\tgl_FragColor = vec4( vColor.rgb * tex.a, alpha * tex.a );',\\n\\n\\t\\t\\t'}'\\n\\n\\t\\t].join( '\\\\n' )\\n\\n\\t};\\n\\n\\t// preload a million random numbers\\n\\n\\tvar i;\\n\\n\\tfor ( i = 1e5; i > 0; i -- ) {\\n\\n\\t\\tthis.rand.push( Math.random() - 0.5 );\\n\\n\\t}\\n\\n\\tthis.random = function () {\\n\\n\\t\\treturn ++ i >= this.rand.length ? this.rand[ i = 1 ] : this.rand[ i ];\\n\\n\\t};\\n\\n\\tvar textureLoader = new THREE.TextureLoader();\\n\\n\\tthis.particleNoiseTex = this.PARTICLE_NOISE_TEXTURE || textureLoader.load( 'textures/perlin-512.png' );\\n\\tthis.particleNoiseTex.wrapS = this.particleNoiseTex.wrapT = THREE.RepeatWrapping;\\n\\n\\tthis.particleSpriteTex = this.PARTICLE_SPRITE_TEXTURE || textureLoader.load( 'textures/particle2.png' );\\n\\tthis.particleSpriteTex.wrapS = this.particleSpriteTex.wrapT = THREE.RepeatWrapping;\\n\\n\\tthis.particleShaderMat = new THREE.ShaderMaterial( {\\n\\t\\ttransparent: true,\\n\\t\\tdepthWrite: false,\\n\\t\\tuniforms: {\\n\\t\\t\\t'uTime': {\\n\\t\\t\\t\\tvalue: 0.0\\n\\t\\t\\t},\\n\\t\\t\\t'uScale': {\\n\\t\\t\\t\\tvalue: 1.0\\n\\t\\t\\t},\\n\\t\\t\\t'tNoise': {\\n\\t\\t\\t\\tvalue: this.particleNoiseTex\\n\\t\\t\\t},\\n\\t\\t\\t'tSprite': {\\n\\t\\t\\t\\tvalue: this.particleSpriteTex\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tblending: THREE.AdditiveBlending,\\n\\t\\tvertexShader: GPUParticleShader.vertexShader,\\n\\t\\tfragmentShader: GPUParticleShader.fragmentShader\\n\\t} );\\n\\n\\t// define defaults for all values\\n\\n\\tthis.particleShaderMat.defaultAttributeValues.particlePositionsStartTime = [ 0, 0, 0, 0 ];\\n\\tthis.particleShaderMat.defaultAttributeValues.particleVelColSizeLife = [ 0, 0, 0, 0 ];\\n\\n\\tthis.init = function () {\\n\\n\\t\\tfor ( var i = 0; i < this.PARTICLE_CONTAINERS; i ++ ) {\\n\\n\\t\\t\\tvar c = new GPUParticleContainer( this.PARTICLES_PER_CONTAINER, this );\\n\\t\\t\\tthis.particleContainers.push( c );\\n\\t\\t\\tthis.add( c );\\n\\n\\t\\t}\\n\\n\\t};\\n\\n\\tthis.spawnParticle = function ( options ) {\\n\\n\\t\\tthis.PARTICLE_CURSOR ++;\\n\\n\\t\\tif ( this.PARTICLE_CURSOR >= this.PARTICLE_COUNT ) {\\n\\n\\t\\t\\tthis.PARTICLE_CURSOR = 1;\\n\\n\\t\\t}\\n\\n\\t\\tvar currentContainer = this.particleContainers[ Math.floor( this.PARTICLE_CURSOR / this.PARTICLES_PER_CONTAINER ) ];\\n\\n\\t\\tcurrentContainer.spawnParticle( options );\\n\\n\\t};\\n\\n\\tthis.update = function ( time ) {\\n\\n\\t\\tfor ( var i = 0; i < this.PARTICLE_CONTAINERS; i ++ ) {\\n\\n\\t\\t\\tthis.particleContainers[ i ].update( time );\\n\\n\\t\\t}\\n\\n\\t};\\n\\n\\tthis.dispose = function () {\\n\\n\\t\\tthis.particleShaderMat.dispose();\\n\\t\\tthis.particleNoiseTex.dispose();\\n\\t\\tthis.particleSpriteTex.dispose();\\n\\n\\t\\tfor ( var i = 0; i < this.PARTICLE_CONTAINERS; i ++ ) {\\n\\n\\t\\t\\tthis.particleContainers[ i ].dispose();\\n\\n\\t\\t}\\n\\n\\t};\\n\\n\\tthis.init();\\n\\n};\\n\\nGPUParticleSystem.prototype = Object.create( THREE.Object3D.prototype );\\nGPUParticleSystem.prototype.constructor = GPUParticleSystem;\\n\\n\\n// Subclass for particle containers, allows for very large arrays to be spread out\\n\\nconst GPUParticleContainer = function ( maxParticles, particleSystem ) {\\n\\n\\tTHREE.Object3D.apply( this, arguments );\\n\\n\\tthis.PARTICLE_COUNT = maxParticles || 100000;\\n\\tthis.PARTICLE_CURSOR = 0;\\n\\tthis.time = 0;\\n\\tthis.offset = 0;\\n\\tthis.count = 0;\\n\\tthis.DPR = window.devicePixelRatio;\\n\\tthis.GPUParticleSystem = particleSystem;\\n\\tthis.particleUpdate = false;\\n\\n\\t// geometry\\n\\n\\tthis.particleShaderGeo = new THREE.BufferGeometry();\\n\\n\\tthis.particleShaderGeo.addAttribute( 'position', new THREE.BufferAttribute( new Float32Array( this.PARTICLE_COUNT * 3 ), 3 ).setDynamic( true ) );\\n\\tthis.particleShaderGeo.addAttribute( 'positionStart', new THREE.BufferAttribute( new Float32Array( this.PARTICLE_COUNT * 3 ), 3 ).setDynamic( true ) );\\n\\tthis.particleShaderGeo.addAttribute( 'startTime', new THREE.BufferAttribute( new Float32Array( this.PARTICLE_COUNT ), 1 ).setDynamic( true ) );\\n\\tthis.particleShaderGeo.addAttribute( 'velocity', new THREE.BufferAttribute( new Float32Array( this.PARTICLE_COUNT * 3 ), 3 ).setDynamic( true ) );\\n\\tthis.particleShaderGeo.addAttribute( 'turbulence', new THREE.BufferAttribute( new Float32Array( this.PARTICLE_COUNT ), 1 ).setDynamic( true ) );\\n\\tthis.particleShaderGeo.addAttribute( 'color', new THREE.BufferAttribute( new Float32Array( this.PARTICLE_COUNT * 3 ), 3 ).setDynamic( true ) );\\n\\tthis.particleShaderGeo.addAttribute( 'size', new THREE.BufferAttribute( new Float32Array( this.PARTICLE_COUNT ), 1 ).setDynamic( true ) );\\n\\tthis.particleShaderGeo.addAttribute( 'lifeTime', new THREE.BufferAttribute( new Float32Array( this.PARTICLE_COUNT ), 1 ).setDynamic( true ) );\\n\\n\\t// material\\n\\n\\tthis.particleShaderMat = this.GPUParticleSystem.particleShaderMat;\\n\\n\\tvar position = new THREE.Vector3();\\n\\tvar velocity = new THREE.Vector3();\\n\\tvar color = new THREE.Color();\\n\\n\\tthis.spawnParticle = function ( options ) {\\n\\n\\t\\tvar positionStartAttribute = this.particleShaderGeo.getAttribute( 'positionStart' );\\n\\t\\tvar startTimeAttribute = this.particleShaderGeo.getAttribute( 'startTime' );\\n\\t\\tvar velocityAttribute = this.particleShaderGeo.getAttribute( 'velocity' );\\n\\t\\tvar turbulenceAttribute = this.particleShaderGeo.getAttribute( 'turbulence' );\\n\\t\\tvar colorAttribute = this.particleShaderGeo.getAttribute( 'color' );\\n\\t\\tvar sizeAttribute = this.particleShaderGeo.getAttribute( 'size' );\\n\\t\\tvar lifeTimeAttribute = this.particleShaderGeo.getAttribute( 'lifeTime' );\\n\\n\\t\\toptions = options || {};\\n\\n\\t\\t// setup reasonable default values for all arguments\\n\\n\\t\\tposition = options.position !== undefined ? position.copy( options.position ) : position.set( 0, 0, 0 );\\n\\t\\tvelocity = options.velocity !== undefined ? velocity.copy( options.velocity ) : velocity.set( 0, 0, 0 );\\n\\t\\tcolor = options.color !== undefined ? color.set( options.color ) : color.set( 0xffffff );\\n\\n\\t\\tvar positionRandomness = options.positionRandomness !== undefined ? options.positionRandomness : 0;\\n\\t\\tvar velocityRandomness = options.velocityRandomness !== undefined ? options.velocityRandomness : 0;\\n\\t\\tvar colorRandomness = options.colorRandomness !== undefined ? options.colorRandomness : 1;\\n\\t\\tvar turbulence = options.turbulence !== undefined ? options.turbulence : 1;\\n\\t\\tvar lifetime = options.lifetime !== undefined ? options.lifetime : 5;\\n\\t\\tvar size = options.size !== undefined ? options.size : 10;\\n\\t\\tvar sizeRandomness = options.sizeRandomness !== undefined ? options.sizeRandomness : 0;\\n\\t\\tvar smoothPosition = options.smoothPosition !== undefined ? options.smoothPosition : false;\\n\\n\\t\\tif ( this.DPR !== undefined ) size *= this.DPR;\\n\\n\\t\\tvar i = this.PARTICLE_CURSOR;\\n\\n\\t\\t// position\\n\\n\\t\\tpositionStartAttribute.array[ i * 3 + 0 ] = position.x + ( particleSystem.random() * positionRandomness );\\n\\t\\tpositionStartAttribute.array[ i * 3 + 1 ] = position.y + ( particleSystem.random() * positionRandomness );\\n\\t\\tpositionStartAttribute.array[ i * 3 + 2 ] = position.z + ( particleSystem.random() * positionRandomness );\\n\\n\\t\\tif ( smoothPosition === true ) {\\n\\n\\t\\t\\tpositionStartAttribute.array[ i * 3 + 0 ] += - ( velocity.x * particleSystem.random() );\\n\\t\\t\\tpositionStartAttribute.array[ i * 3 + 1 ] += - ( velocity.y * particleSystem.random() );\\n\\t\\t\\tpositionStartAttribute.array[ i * 3 + 2 ] += - ( velocity.z * particleSystem.random() );\\n\\n\\t\\t}\\n\\n\\t\\t// velocity\\n\\n\\t\\tvar maxVel = 2;\\n\\n\\t\\tvar velX = velocity.x + particleSystem.random() * velocityRandomness;\\n\\t\\tvar velY = velocity.y + particleSystem.random() * velocityRandomness;\\n\\t\\tvar velZ = velocity.z + particleSystem.random() * velocityRandomness;\\n\\n\\t\\tvelX = THREE.Math.clamp( ( velX - ( - maxVel ) ) / ( maxVel - ( - maxVel ) ), 0, 1 );\\n\\t\\tvelY = THREE.Math.clamp( ( velY - ( - maxVel ) ) / ( maxVel - ( - maxVel ) ), 0, 1 );\\n\\t\\tvelZ = THREE.Math.clamp( ( velZ - ( - maxVel ) ) / ( maxVel - ( - maxVel ) ), 0, 1 );\\n\\n\\t\\tvelocityAttribute.array[ i * 3 + 0 ] = velX;\\n\\t\\tvelocityAttribute.array[ i * 3 + 1 ] = velY;\\n\\t\\tvelocityAttribute.array[ i * 3 + 2 ] = velZ;\\n\\n\\t\\t// color\\n\\n\\t\\tcolor.r = THREE.Math.clamp( color.r + particleSystem.random() * colorRandomness, 0, 1 );\\n\\t\\tcolor.g = THREE.Math.clamp( color.g + particleSystem.random() * colorRandomness, 0, 1 );\\n\\t\\tcolor.b = THREE.Math.clamp( color.b + particleSystem.random() * colorRandomness, 0, 1 );\\n\\n\\t\\tcolorAttribute.array[ i * 3 + 0 ] = color.r;\\n\\t\\tcolorAttribute.array[ i * 3 + 1 ] = color.g;\\n\\t\\tcolorAttribute.array[ i * 3 + 2 ] = color.b;\\n\\n\\t\\t// turbulence, size, lifetime and starttime\\n\\n\\t\\tturbulenceAttribute.array[ i ] = turbulence;\\n\\t\\tsizeAttribute.array[ i ] = size + particleSystem.random() * sizeRandomness;\\n\\t\\tlifeTimeAttribute.array[ i ] = lifetime;\\n\\t\\tstartTimeAttribute.array[ i ] = this.time + particleSystem.random() * 2e-2;\\n\\n\\t\\t// offset\\n\\n\\t\\tif ( this.offset === 0 ) {\\n\\n\\t\\t\\tthis.offset = this.PARTICLE_CURSOR;\\n\\n\\t\\t}\\n\\n\\t\\t// counter and cursor\\n\\n\\t\\tthis.count ++;\\n\\t\\tthis.PARTICLE_CURSOR ++;\\n\\n\\t\\tif ( this.PARTICLE_CURSOR >= this.PARTICLE_COUNT ) {\\n\\n\\t\\t\\tthis.PARTICLE_CURSOR = 0;\\n\\n\\t\\t}\\n\\n\\t\\tthis.particleUpdate = true;\\n\\n\\t};\\n\\n\\tthis.init = function () {\\n\\n\\t\\tthis.particleSystem = new THREE.Points( this.particleShaderGeo, this.particleShaderMat );\\n\\t\\tthis.particleSystem.frustumCulled = false;\\n\\t\\tthis.add( this.particleSystem );\\n\\n\\t};\\n\\n\\tthis.update = function ( time ) {\\n\\n\\t\\tthis.time = time;\\n\\t\\tthis.particleShaderMat.uniforms.uTime.value = time;\\n\\n\\t\\tthis.geometryUpdate();\\n\\n\\t};\\n\\n\\tthis.geometryUpdate = function () {\\n\\n\\t\\tif ( this.particleUpdate === true ) {\\n\\n\\t\\t\\tthis.particleUpdate = false;\\n\\n\\t\\t\\tvar positionStartAttribute = this.particleShaderGeo.getAttribute( 'positionStart' );\\n\\t\\t\\tvar startTimeAttribute = this.particleShaderGeo.getAttribute( 'startTime' );\\n\\t\\t\\tvar velocityAttribute = this.particleShaderGeo.getAttribute( 'velocity' );\\n\\t\\t\\tvar turbulenceAttribute = this.particleShaderGeo.getAttribute( 'turbulence' );\\n\\t\\t\\tvar colorAttribute = this.particleShaderGeo.getAttribute( 'color' );\\n\\t\\t\\tvar sizeAttribute = this.particleShaderGeo.getAttribute( 'size' );\\n\\t\\t\\tvar lifeTimeAttribute = this.particleShaderGeo.getAttribute( 'lifeTime' );\\n\\n\\t\\t\\tif ( this.offset + this.count < this.PARTICLE_COUNT ) {\\n\\n\\t\\t\\t\\tpositionStartAttribute.updateRange.offset = this.offset * positionStartAttribute.itemSize;\\n\\t\\t\\t\\tstartTimeAttribute.updateRange.offset = this.offset * startTimeAttribute.itemSize;\\n\\t\\t\\t\\tvelocityAttribute.updateRange.offset = this.offset * velocityAttribute.itemSize;\\n\\t\\t\\t\\tturbulenceAttribute.updateRange.offset = this.offset * turbulenceAttribute.itemSize;\\n\\t\\t\\t\\tcolorAttribute.updateRange.offset = this.offset * colorAttribute.itemSize;\\n\\t\\t\\t\\tsizeAttribute.updateRange.offset = this.offset * sizeAttribute.itemSize;\\n\\t\\t\\t\\tlifeTimeAttribute.updateRange.offset = this.offset * lifeTimeAttribute.itemSize;\\n\\n\\t\\t\\t\\tpositionStartAttribute.updateRange.count = this.count * positionStartAttribute.itemSize;\\n\\t\\t\\t\\tstartTimeAttribute.updateRange.count = this.count * startTimeAttribute.itemSize;\\n\\t\\t\\t\\tvelocityAttribute.updateRange.count = this.count * velocityAttribute.itemSize;\\n\\t\\t\\t\\tturbulenceAttribute.updateRange.count = this.count * turbulenceAttribute.itemSize;\\n\\t\\t\\t\\tcolorAttribute.updateRange.count = this.count * colorAttribute.itemSize;\\n\\t\\t\\t\\tsizeAttribute.updateRange.count = this.count * sizeAttribute.itemSize;\\n\\t\\t\\t\\tlifeTimeAttribute.updateRange.count = this.count * lifeTimeAttribute.itemSize;\\n\\n\\t\\t\\t} else {\\n\\n\\t\\t\\t\\tpositionStartAttribute.updateRange.offset = 0;\\n\\t\\t\\t\\tstartTimeAttribute.updateRange.offset = 0;\\n\\t\\t\\t\\tvelocityAttribute.updateRange.offset = 0;\\n\\t\\t\\t\\tturbulenceAttribute.updateRange.offset = 0;\\n\\t\\t\\t\\tcolorAttribute.updateRange.offset = 0;\\n\\t\\t\\t\\tsizeAttribute.updateRange.offset = 0;\\n\\t\\t\\t\\tlifeTimeAttribute.updateRange.offset = 0;\\n\\n\\t\\t\\t\\t// Use -1 to update the entire buffer, see #11476\\n\\t\\t\\t\\tpositionStartAttribute.updateRange.count = - 1;\\n\\t\\t\\t\\tstartTimeAttribute.updateRange.count = - 1;\\n\\t\\t\\t\\tvelocityAttribute.updateRange.count = - 1;\\n\\t\\t\\t\\tturbulenceAttribute.updateRange.count = - 1;\\n\\t\\t\\t\\tcolorAttribute.updateRange.count = - 1;\\n\\t\\t\\t\\tsizeAttribute.updateRange.count = - 1;\\n\\t\\t\\t\\tlifeTimeAttribute.updateRange.count = - 1;\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tpositionStartAttribute.needsUpdate = true;\\n\\t\\t\\tstartTimeAttribute.needsUpdate = true;\\n\\t\\t\\tvelocityAttribute.needsUpdate = true;\\n\\t\\t\\tturbulenceAttribute.needsUpdate = true;\\n\\t\\t\\tcolorAttribute.needsUpdate = true;\\n\\t\\t\\tsizeAttribute.needsUpdate = true;\\n\\t\\t\\tlifeTimeAttribute.needsUpdate = true;\\n\\n\\t\\t\\tthis.offset = 0;\\n\\t\\t\\tthis.count = 0;\\n\\n\\t\\t}\\n\\n\\t};\\n\\n\\tthis.dispose = function () {\\n\\n\\t\\tthis.particleShaderGeo.dispose();\\n\\n\\t};\\n\\n\\tthis.init();\\n\\n};\\n\\nGPUParticleContainer.prototype = Object.create( THREE.Object3D.prototype );\\nGPUParticleContainer.prototype.constructor = GPUParticleContainer;\\n\\nexport default GPUParticleSystem;\",\"import * as THREE from \\\"three\\\";\\nimport GPUParticleSystem from \\\"../graphics/gpu-particle-system\\\";\\nimport { add, promisifyLoader } from \\\"../utils/three\\\";\\nimport NoiseFile from \\\"../../assets/textures/perlin.png\\\";\\n\\nconst loader = promisifyLoader(new THREE.TextureLoader());\\nconst _noiseTexture = loader.load(NoiseFile);\\n\\nexport default async ({\\n\\tmaxParticles = 250,\\n\\tnoiseTexture,\\n\\tparticleTexture,\\n\\tparent,\\n\\toptions = {},\\n\\tspawnOptions = {},\\n\\tbeforeSpawn = () => {}\\n}) => {\\n\\tconst emitter = new GPUParticleSystem({\\n\\t\\tmaxParticles,\\n\\t\\tparticleNoiseTex: await Promise.resolve(noiseTexture || _noiseTexture),\\n\\t\\tparticleSpriteTex: await Promise.resolve(particleTexture)\\n\\t});\\n\\n\\tadd(parent, emitter);\\n\\n\\treturn {\\n\\t\\temitter,\\n\\t\\toptions,\\n\\t\\tspawnOptions,\\n\\t\\tbeforeSpawn,\\n\\t\\ttick: 0\\n\\t};\\n};\\n\",\"import * as THREE from \\\"three\\\";\\nimport { promisifyLoader } from \\\"../utils/three\\\";\\nimport Particles from \\\"./particles\\\";\\nimport ParticleFile from \\\"../../assets/textures/particle.png\\\";\\n\\nconst loader = promisifyLoader(new THREE.TextureLoader());\\nconst particleTexture = loader.load(ParticleFile);\\n\\nexport default async ({\\n\\tparent,\\n\\tx = 0,\\n\\ty = 0,\\n\\tz = 0,\\n\\theight = 0.5,\\n\\tradius = 0.5,\\n\\tverticalSpeed = 0.01,\\n\\thorizontalSpeed = 0.3,\\n\\tcolor = 0xffffff\\n}) => {\\n\\n\\tconst swirl = await Particles({\\n\\t\\tparent,\\n\\t\\tparticleTexture,\\n\\t\\tmaxParticles: 250,\\n\\t\\toptions: {\\n\\t\\t\\tposition: new THREE.Vector3(x, y, z),\\n\\t\\t\\tpositionRandomness: 0,\\n\\t\\t\\tvelocity: new THREE.Vector3(),\\n\\t\\t\\tvelocityRandomness: 0,\\n\\t\\t\\tcolor,\\n\\t\\t\\tcolorRandomness: 0,\\n\\t\\t\\tturbulence: 0,\\n\\t\\t\\tlifetime: 12,\\n\\t\\t\\tsize: 10,\\n\\t\\t\\tsizeRandomness: 0,\\n\\t\\t\\tverticalSpeed,\\n\\t\\t\\ttheta: 0\\n\\t\\t},\\n\\t\\tspawnOptions: {\\n\\t\\t\\tspawnRate: 20,\\n\\t\\t\\ttimeScale: 1\\n\\t\\t},\\n\\t\\tbeforeSpawn(self, entities, { options }) {\\n\\t\\t\\toptions.theta += horizontalSpeed;\\n\\t\\t\\toptions.position.x = x + Math.cos(options.theta) * radius;\\n\\t\\t\\toptions.position.y += options.verticalSpeed;\\n\\t\\t\\toptions.position.z = z + Math.sin(options.theta) * radius;\\n\\n\\t\\t\\tif (Math.abs(options.position.y - y) > height)\\n\\t\\t\\t\\toptions.verticalSpeed *= -1;\\n\\t\\t}\\n\\t});\\n\\n\\treturn {\\n\\t\\tmodel: swirl.emitter,\\n\\t\\tparticles: {\\n\\t\\t\\tswirl\\n\\t\\t}\\n\\t};\\n};\\n\",\"import * as THREE from 'three';\\n\\n/*\\n * @author mrdoob / http://mrdoob.com/\\n */\\n\\nconst DDSLoader = function () {\\n\\n\\tthis._parser = DDSLoader.parse;\\n\\n};\\n\\nDDSLoader.prototype = Object.create( THREE.CompressedTextureLoader.prototype );\\nDDSLoader.prototype.constructor = DDSLoader;\\n\\nDDSLoader.parse = function ( buffer, loadMipmaps ) {\\n\\n\\tvar dds = { mipmaps: [], width: 0, height: 0, format: null, mipmapCount: 1 };\\n\\n\\t// Adapted from @toji's DDS utils\\n\\t// https://github.com/toji/webgl-texture-utils/blob/master/texture-util/dds.js\\n\\n\\t// All values and structures referenced from:\\n\\t// http://msdn.microsoft.com/en-us/library/bb943991.aspx/\\n\\n\\tvar DDS_MAGIC = 0x20534444;\\n\\n\\tvar DDSD_MIPMAPCOUNT = 0x20000;\\n\\n\\tvar DDSCAPS2_CUBEMAP = 0x200,\\n\\t\\tDDSCAPS2_CUBEMAP_POSITIVEX = 0x400,\\n\\t\\tDDSCAPS2_CUBEMAP_NEGATIVEX = 0x800,\\n\\t\\tDDSCAPS2_CUBEMAP_POSITIVEY = 0x1000,\\n\\t\\tDDSCAPS2_CUBEMAP_NEGATIVEY = 0x2000,\\n\\t\\tDDSCAPS2_CUBEMAP_POSITIVEZ = 0x4000,\\n\\t\\tDDSCAPS2_CUBEMAP_NEGATIVEZ = 0x8000;\\n\\n\\tvar DDPF_FOURCC = 0x4;\\n\\n\\tfunction fourCCToInt32( value ) {\\n\\n\\t\\treturn value.charCodeAt( 0 ) +\\n\\t\\t\\t( value.charCodeAt( 1 ) << 8 ) +\\n\\t\\t\\t( value.charCodeAt( 2 ) << 16 ) +\\n\\t\\t\\t( value.charCodeAt( 3 ) << 24 );\\n\\n\\t}\\n\\n\\tfunction int32ToFourCC( value ) {\\n\\n\\t\\treturn String.fromCharCode(\\n\\t\\t\\tvalue & 0xff,\\n\\t\\t\\t( value >> 8 ) & 0xff,\\n\\t\\t\\t( value >> 16 ) & 0xff,\\n\\t\\t\\t( value >> 24 ) & 0xff\\n\\t\\t);\\n\\n\\t}\\n\\n\\tfunction loadARGBMip( buffer, dataOffset, width, height ) {\\n\\n\\t\\tvar dataLength = width * height * 4;\\n\\t\\tvar srcBuffer = new Uint8Array( buffer, dataOffset, dataLength );\\n\\t\\tvar byteArray = new Uint8Array( dataLength );\\n\\t\\tvar dst = 0;\\n\\t\\tvar src = 0;\\n\\t\\tfor ( var y = 0; y < height; y ++ ) {\\n\\n\\t\\t\\tfor ( var x = 0; x < width; x ++ ) {\\n\\n\\t\\t\\t\\tvar b = srcBuffer[ src ]; src ++;\\n\\t\\t\\t\\tvar g = srcBuffer[ src ]; src ++;\\n\\t\\t\\t\\tvar r = srcBuffer[ src ]; src ++;\\n\\t\\t\\t\\tvar a = srcBuffer[ src ]; src ++;\\n\\t\\t\\t\\tbyteArray[ dst ] = r; dst ++;\\t//r\\n\\t\\t\\t\\tbyteArray[ dst ] = g; dst ++;\\t//g\\n\\t\\t\\t\\tbyteArray[ dst ] = b; dst ++;\\t//b\\n\\t\\t\\t\\tbyteArray[ dst ] = a; dst ++;\\t//a\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\t\\treturn byteArray;\\n\\n\\t}\\n\\n\\tvar FOURCC_DXT1 = fourCCToInt32( \\\"DXT1\\\" );\\n\\tvar FOURCC_DXT3 = fourCCToInt32( \\\"DXT3\\\" );\\n\\tvar FOURCC_DXT5 = fourCCToInt32( \\\"DXT5\\\" );\\n\\tvar FOURCC_ETC1 = fourCCToInt32( \\\"ETC1\\\" );\\n\\n\\tvar headerLengthInt = 31; // The header length in 32 bit ints\\n\\n\\t// Offsets into the header array\\n\\n\\tvar off_magic = 0;\\n\\n\\tvar off_size = 1;\\n\\tvar off_flags = 2;\\n\\tvar off_height = 3;\\n\\tvar off_width = 4;\\n\\n\\tvar off_mipmapCount = 7;\\n\\n\\tvar off_pfFlags = 20;\\n\\tvar off_pfFourCC = 21;\\n\\tvar off_RGBBitCount = 22;\\n\\tvar off_RBitMask = 23;\\n\\tvar off_GBitMask = 24;\\n\\tvar off_BBitMask = 25;\\n\\tvar off_ABitMask = 26;\\n\\n\\tvar off_caps2 = 28;\\n\\n\\t// Parse header\\n\\n\\tvar header = new Int32Array( buffer, 0, headerLengthInt );\\n\\n\\tif ( header[ off_magic ] !== DDS_MAGIC ) {\\n\\n\\t\\tconsole.error( 'THREE.DDSLoader.parse: Invalid magic number in DDS header.' );\\n\\t\\treturn dds;\\n\\n\\t}\\n\\n\\tif ( ! header[ off_pfFlags ] & DDPF_FOURCC ) {\\n\\n\\t\\tconsole.error( 'THREE.DDSLoader.parse: Unsupported format, must contain a FourCC code.' );\\n\\t\\treturn dds;\\n\\n\\t}\\n\\n\\tvar blockBytes;\\n\\n\\tvar fourCC = header[ off_pfFourCC ];\\n\\n\\tvar isRGBAUncompressed = false;\\n\\n\\tswitch ( fourCC ) {\\n\\n\\t\\tcase FOURCC_DXT1:\\n\\n\\t\\t\\tblockBytes = 8;\\n\\t\\t\\tdds.format = THREE.RGB_S3TC_DXT1_Format;\\n\\t\\t\\tbreak;\\n\\n\\t\\tcase FOURCC_DXT3:\\n\\n\\t\\t\\tblockBytes = 16;\\n\\t\\t\\tdds.format = THREE.RGBA_S3TC_DXT3_Format;\\n\\t\\t\\tbreak;\\n\\n\\t\\tcase FOURCC_DXT5:\\n\\n\\t\\t\\tblockBytes = 16;\\n\\t\\t\\tdds.format = THREE.RGBA_S3TC_DXT5_Format;\\n\\t\\t\\tbreak;\\n\\n\\t\\tcase FOURCC_ETC1:\\n\\n\\t\\t\\tblockBytes = 8;\\n\\t\\t\\tdds.format = THREE.RGB_ETC1_Format;\\n\\t\\t\\tbreak;\\n\\n\\t\\tdefault:\\n\\n\\t\\t\\tif ( header[ off_RGBBitCount ] === 32\\n\\t\\t\\t\\t&& header[ off_RBitMask ] & 0xff0000\\n\\t\\t\\t\\t&& header[ off_GBitMask ] & 0xff00\\n\\t\\t\\t\\t&& header[ off_BBitMask ] & 0xff\\n\\t\\t\\t\\t&& header[ off_ABitMask ] & 0xff000000 ) {\\n\\n\\t\\t\\t\\tisRGBAUncompressed = true;\\n\\t\\t\\t\\tblockBytes = 64;\\n\\t\\t\\t\\tdds.format = THREE.RGBAFormat;\\n\\n\\t\\t\\t} else {\\n\\n\\t\\t\\t\\tconsole.error( 'THREE.DDSLoader.parse: Unsupported FourCC code ', int32ToFourCC( fourCC ) );\\n\\t\\t\\t\\treturn dds;\\n\\n\\t\\t\\t}\\n\\n\\t}\\n\\n\\tdds.mipmapCount = 1;\\n\\n\\tif ( header[ off_flags ] & DDSD_MIPMAPCOUNT && loadMipmaps !== false ) {\\n\\n\\t\\tdds.mipmapCount = Math.max( 1, header[ off_mipmapCount ] );\\n\\n\\t}\\n\\n\\tvar caps2 = header[ off_caps2 ];\\n\\tdds.isCubemap = caps2 & DDSCAPS2_CUBEMAP ? true : false;\\n\\tif ( dds.isCubemap && (\\n\\t\\t! ( caps2 & DDSCAPS2_CUBEMAP_POSITIVEX ) ||\\n\\t\\t! ( caps2 & DDSCAPS2_CUBEMAP_NEGATIVEX ) ||\\n\\t\\t! ( caps2 & DDSCAPS2_CUBEMAP_POSITIVEY ) ||\\n\\t\\t! ( caps2 & DDSCAPS2_CUBEMAP_NEGATIVEY ) ||\\n\\t\\t! ( caps2 & DDSCAPS2_CUBEMAP_POSITIVEZ ) ||\\n\\t\\t! ( caps2 & DDSCAPS2_CUBEMAP_NEGATIVEZ )\\n\\t) ) {\\n\\n\\t\\tconsole.error( 'THREE.DDSLoader.parse: Incomplete cubemap faces' );\\n\\t\\treturn dds;\\n\\n\\t}\\n\\n\\tdds.width = header[ off_width ];\\n\\tdds.height = header[ off_height ];\\n\\n\\tvar dataOffset = header[ off_size ] + 4;\\n\\n\\t// Extract mipmaps buffers\\n\\n\\tvar faces = dds.isCubemap ? 6 : 1;\\n\\n\\tfor ( var face = 0; face < faces; face ++ ) {\\n\\n\\t\\tvar width = dds.width;\\n\\t\\tvar height = dds.height;\\n\\t\\tvar byteArray = null;\\n\\t\\tvar dataLength = null;\\n\\n\\t\\tfor ( var i = 0; i < dds.mipmapCount; i ++ ) {\\n\\n\\t\\t\\tif ( isRGBAUncompressed ) {\\n\\n\\t\\t\\t\\tbyteArray = loadARGBMip( buffer, dataOffset, width, height );\\n\\t\\t\\t\\tdataLength = byteArray.length;\\n\\n\\t\\t\\t} else {\\n\\n\\t\\t\\t\\tdataLength = Math.max( 4, width ) / 4 * Math.max( 4, height ) / 4 * blockBytes;\\n\\t\\t\\t\\tbyteArray = new Uint8Array( buffer, dataOffset, dataLength );\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar mipmap = { \\\"data\\\": byteArray, \\\"width\\\": width, \\\"height\\\": height };\\n\\t\\t\\tdds.mipmaps.push( mipmap );\\n\\n\\t\\t\\tdataOffset += dataLength;\\n\\n\\t\\t\\twidth = Math.max( width >> 1, 1 );\\n\\t\\t\\theight = Math.max( height >> 1, 1 );\\n\\n\\t\\t}\\n\\n\\t}\\n\\n\\treturn dds;\\n\\n};\\n\\nexport default DDSLoader;\",\"import * as THREE from 'three';\\nimport DDSLoader from \\\"./dds-loader\\\";\\n\\n/**\\n * @author Rich Tibbett / https://github.com/richtr\\n * @author mrdoob / http://mrdoob.com/\\n * @author Tony Parisi / http://www.tonyparisi.com/\\n * @author Takahiro / https://github.com/takahirox\\n * @author Don McCurdy / https://www.donmccurdy.com\\n */\\n\\nconst GLTFLoader = ( function () {\\n\\n\\tfunction GLTFLoader( manager ) {\\n\\n\\t\\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\\n\\t\\tthis.dracoLoader = null;\\n\\n\\t}\\n\\n\\tGLTFLoader.prototype = {\\n\\n\\t\\tconstructor: GLTFLoader,\\n\\n\\t\\tcrossOrigin: 'Anonymous',\\n\\n\\t\\tload: function ( url, onLoad, onProgress, onError ) {\\n\\n\\t\\t\\tvar scope = this;\\n\\n\\t\\t\\tvar path = this.path !== undefined ? this.path : THREE.LoaderUtils.extractUrlBase( url );\\n\\n\\t\\t\\tvar loader = new THREE.FileLoader( scope.manager );\\n\\n\\t\\t\\tloader.setResponseType( 'arraybuffer' );\\n\\n\\t\\t\\tloader.load( url, function ( data ) {\\n\\n\\t\\t\\t\\ttry {\\n\\n\\t\\t\\t\\t\\tscope.parse( data, path, onLoad, onError );\\n\\n\\t\\t\\t\\t} catch ( e ) {\\n\\n\\t\\t\\t\\t\\tif ( onError !== undefined ) {\\n\\n\\t\\t\\t\\t\\t\\tonError( e );\\n\\n\\t\\t\\t\\t\\t} else {\\n\\n\\t\\t\\t\\t\\t\\tthrow e;\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t}, onProgress, onError );\\n\\n\\t\\t},\\n\\n\\t\\tsetCrossOrigin: function ( value ) {\\n\\n\\t\\t\\tthis.crossOrigin = value;\\n\\t\\t\\treturn this;\\n\\n\\t\\t},\\n\\n\\t\\tsetPath: function ( value ) {\\n\\n\\t\\t\\tthis.path = value;\\n\\t\\t\\treturn this;\\n\\n\\t\\t},\\n\\n\\t\\tsetDRACOLoader: function ( dracoLoader ) {\\n\\n\\t\\t\\tthis.dracoLoader = dracoLoader;\\n\\t\\t\\treturn this;\\n\\n\\t\\t},\\n\\n\\t\\tparse: function ( data, path, onLoad, onError ) {\\n\\n\\t\\t\\tvar content;\\n\\t\\t\\tvar extensions = {};\\n\\n\\t\\t\\tif ( typeof data === 'string' ) {\\n\\n\\t\\t\\t\\tcontent = data;\\n\\n\\t\\t\\t} else {\\n\\n\\t\\t\\t\\tvar magic = THREE.LoaderUtils.decodeText( new Uint8Array( data, 0, 4 ) );\\n\\n\\t\\t\\t\\tif ( magic === BINARY_EXTENSION_HEADER_MAGIC ) {\\n\\n\\t\\t\\t\\t\\ttry {\\n\\n\\t\\t\\t\\t\\t\\textensions[ EXTENSIONS.KHR_BINARY_GLTF ] = new GLTFBinaryExtension( data );\\n\\n\\t\\t\\t\\t\\t} catch ( error ) {\\n\\n\\t\\t\\t\\t\\t\\tif ( onError ) onError( error );\\n\\t\\t\\t\\t\\t\\treturn;\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tcontent = extensions[ EXTENSIONS.KHR_BINARY_GLTF ].content;\\n\\n\\t\\t\\t\\t} else {\\n\\n\\t\\t\\t\\t\\tcontent = THREE.LoaderUtils.decodeText( new Uint8Array( data ) );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar json = JSON.parse( content );\\n\\n\\t\\t\\tif ( json.asset === undefined || json.asset.version[ 0 ] < 2 ) {\\n\\n\\t\\t\\t\\tif ( onError ) onError( new Error( 'THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead.' ) );\\n\\t\\t\\t\\treturn;\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tif ( json.extensionsUsed ) {\\n\\n\\t\\t\\t\\tif ( json.extensionsUsed.indexOf( EXTENSIONS.KHR_LIGHTS ) >= 0 ) {\\n\\n\\t\\t\\t\\t\\textensions[ EXTENSIONS.KHR_LIGHTS ] = new GLTFLightsExtension( json );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif ( json.extensionsUsed.indexOf( EXTENSIONS.KHR_MATERIALS_UNLIT ) >= 0 ) {\\n\\n\\t\\t\\t\\t\\textensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ] = new GLTFMaterialsUnlitExtension( json );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif ( json.extensionsUsed.indexOf( EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ) >= 0 ) {\\n\\n\\t\\t\\t\\t\\textensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ] = new GLTFMaterialsPbrSpecularGlossinessExtension();\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif ( json.extensionsUsed.indexOf( EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ) >= 0 ) {\\n\\n\\t\\t\\t\\t\\textensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] = new GLTFDracoMeshCompressionExtension( this.dracoLoader );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif ( json.extensionsUsed.indexOf( EXTENSIONS.MSFT_TEXTURE_DDS ) >= 0 ) {\\n\\n\\t\\t\\t\\t\\textensions[ EXTENSIONS.MSFT_TEXTURE_DDS ] = new GLTFTextureDDSExtension();\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tvar parser = new GLTFParser( json, extensions, {\\n\\n\\t\\t\\t\\tpath: path || this.path || '',\\n\\t\\t\\t\\tcrossOrigin: this.crossOrigin,\\n\\t\\t\\t\\tmanager: this.manager\\n\\n\\t\\t\\t} );\\n\\n\\t\\t\\tparser.parse( function ( scene, scenes, cameras, animations, asset ) {\\n\\n\\t\\t\\t\\tvar glTF = {\\n\\t\\t\\t\\t\\tscene: scene,\\n\\t\\t\\t\\t\\tscenes: scenes,\\n\\t\\t\\t\\t\\tcameras: cameras,\\n\\t\\t\\t\\t\\tanimations: animations,\\n\\t\\t\\t\\t\\tasset: asset\\n\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\tonLoad( glTF );\\n\\n\\t\\t\\t}, onError );\\n\\n\\t\\t}\\n\\n\\t};\\n\\n\\t/* GLTFREGISTRY */\\n\\n\\tfunction GLTFRegistry() {\\n\\n\\t\\tvar objects = {};\\n\\n\\t\\treturn\\t{\\n\\n\\t\\t\\tget: function ( key ) {\\n\\n\\t\\t\\t\\treturn objects[ key ];\\n\\n\\t\\t\\t},\\n\\n\\t\\t\\tadd: function ( key, object ) {\\n\\n\\t\\t\\t\\tobjects[ key ] = object;\\n\\n\\t\\t\\t},\\n\\n\\t\\t\\tremove: function ( key ) {\\n\\n\\t\\t\\t\\tdelete objects[ key ];\\n\\n\\t\\t\\t},\\n\\n\\t\\t\\tremoveAll: function () {\\n\\n\\t\\t\\t\\tobjects = {};\\n\\n\\t\\t\\t}\\n\\n\\t\\t};\\n\\n\\t}\\n\\n\\t/*********************************/\\n\\t/********** EXTENSIONS ***********/\\n\\t/*********************************/\\n\\n\\tvar EXTENSIONS = {\\n\\t\\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\\n\\t\\tKHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\\n\\t\\tKHR_LIGHTS: 'KHR_lights',\\n\\t\\tKHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\\n\\t\\tKHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\\n\\t\\tMSFT_TEXTURE_DDS: 'MSFT_texture_dds'\\n\\t};\\n\\n\\t/**\\n\\t * DDS Texture Extension\\n\\t *\\n\\t * Specification: \\n\\t * https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/MSFT_texture_dds\\n\\t * \\n\\t */\\n\\tfunction GLTFTextureDDSExtension() {\\n\\n\\t\\tif (!DDSLoader ) {\\n\\n\\t\\t\\tthrow new Error( 'THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader' );\\n\\n\\t\\t}\\n\\n\\t\\tthis.name = EXTENSIONS.MSFT_TEXTURE_DDS;\\n\\t\\tthis.ddsLoader = new DDSLoader();\\n\\n\\t}\\n\\n\\t/**\\n\\t * Lights Extension\\n\\t *\\n\\t * Specification: PENDING\\n\\t */\\n\\tfunction GLTFLightsExtension( json ) {\\n\\n\\t\\tthis.name = EXTENSIONS.KHR_LIGHTS;\\n\\n\\t\\tthis.lights = {};\\n\\n\\t\\tvar extension = ( json.extensions && json.extensions[ EXTENSIONS.KHR_LIGHTS ] ) || {};\\n\\t\\tvar lights = extension.lights || {};\\n\\n\\t\\tfor ( var lightId in lights ) {\\n\\n\\t\\t\\tvar light = lights[ lightId ];\\n\\t\\t\\tvar lightNode;\\n\\n\\t\\t\\tvar color = new THREE.Color().fromArray( light.color );\\n\\n\\t\\t\\tswitch ( light.type ) {\\n\\n\\t\\t\\t\\tcase 'directional':\\n\\t\\t\\t\\t\\tlightNode = new THREE.DirectionalLight( color );\\n\\t\\t\\t\\t\\tlightNode.target.position.set( 0, 0, 1 );\\n\\t\\t\\t\\t\\tlightNode.add( lightNode.target );\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 'point':\\n\\t\\t\\t\\t\\tlightNode = new THREE.PointLight( color );\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 'spot':\\n\\t\\t\\t\\t\\tlightNode = new THREE.SpotLight( color );\\n\\t\\t\\t\\t\\t// Handle spotlight properties.\\n\\t\\t\\t\\t\\tlight.spot = light.spot || {};\\n\\t\\t\\t\\t\\tlight.spot.innerConeAngle = light.spot.innerConeAngle !== undefined ? light.spot.innerConeAngle : 0;\\n\\t\\t\\t\\t\\tlight.spot.outerConeAngle = light.spot.outerConeAngle !== undefined ? light.spot.outerConeAngle : Math.PI / 4.0;\\n\\t\\t\\t\\t\\tlightNode.angle = light.spot.outerConeAngle;\\n\\t\\t\\t\\t\\tlightNode.penumbra = 1.0 - light.spot.innerConeAngle / light.spot.outerConeAngle;\\n\\t\\t\\t\\t\\tlightNode.target.position.set( 0, 0, 1 );\\n\\t\\t\\t\\t\\tlightNode.add( lightNode.target );\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 'ambient':\\n\\t\\t\\t\\t\\tlightNode = new THREE.AmbientLight( color );\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tdefault:\\n\\t\\t\\t}\\n\\n\\t\\t\\tif ( lightNode ) {\\n\\n\\t\\t\\t\\tlightNode.decay = 2;\\n\\n\\t\\t\\t\\tif ( light.intensity !== undefined ) {\\n\\n\\t\\t\\t\\t\\tlightNode.intensity = light.intensity;\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tlightNode.name = light.name || ( 'light_' + lightId );\\n\\t\\t\\t\\tthis.lights[ lightId ] = lightNode;\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t}\\n\\n\\t/**\\n\\t * Unlit Materials Extension (pending)\\n\\t *\\n\\t * PR: https://github.com/KhronosGroup/glTF/pull/1163\\n\\t */\\n\\tfunction GLTFMaterialsUnlitExtension( json ) {\\n\\n\\t\\tthis.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\\n\\n\\t}\\n\\n\\tGLTFMaterialsUnlitExtension.prototype.getMaterialType = function ( material ) {\\n\\n\\t\\treturn THREE.MeshBasicMaterial;\\n\\n\\t};\\n\\n\\tGLTFMaterialsUnlitExtension.prototype.extendParams = function ( materialParams, material, parser ) {\\n\\n\\t\\tvar pending = [];\\n\\n\\t\\tmaterialParams.color = new THREE.Color( 1.0, 1.0, 1.0 );\\n\\t\\tmaterialParams.opacity = 1.0;\\n\\n\\t\\tvar metallicRoughness = material.pbrMetallicRoughness;\\n\\n\\t\\tif ( metallicRoughness ) {\\n\\n\\t\\t\\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\\n\\n\\t\\t\\t\\tvar array = metallicRoughness.baseColorFactor;\\n\\n\\t\\t\\t\\tmaterialParams.color.fromArray( array );\\n\\t\\t\\t\\tmaterialParams.opacity = array[ 3 ];\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tif ( metallicRoughness.baseColorTexture !== undefined ) {\\n\\n\\t\\t\\t\\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture.index ) );\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\treturn Promise.all( pending );\\n\\n\\t};\\n\\n\\t/* BINARY EXTENSION */\\n\\n\\tvar BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\\n\\tvar BINARY_EXTENSION_HEADER_LENGTH = 12;\\n\\tvar BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\\n\\n\\tfunction GLTFBinaryExtension( data ) {\\n\\n\\t\\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\\n\\t\\tthis.content = null;\\n\\t\\tthis.body = null;\\n\\n\\t\\tvar headerView = new DataView( data, 0, BINARY_EXTENSION_HEADER_LENGTH );\\n\\n\\t\\tthis.header = {\\n\\t\\t\\tmagic: THREE.LoaderUtils.decodeText( new Uint8Array( data.slice( 0, 4 ) ) ),\\n\\t\\t\\tversion: headerView.getUint32( 4, true ),\\n\\t\\t\\tlength: headerView.getUint32( 8, true )\\n\\t\\t};\\n\\n\\t\\tif ( this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC ) {\\n\\n\\t\\t\\tthrow new Error( 'THREE.GLTFLoader: Unsupported glTF-Binary header.' );\\n\\n\\t\\t} else if ( this.header.version < 2.0 ) {\\n\\n\\t\\t\\tthrow new Error( 'THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.' );\\n\\n\\t\\t}\\n\\n\\t\\tvar chunkView = new DataView( data, BINARY_EXTENSION_HEADER_LENGTH );\\n\\t\\tvar chunkIndex = 0;\\n\\n\\t\\twhile ( chunkIndex < chunkView.byteLength ) {\\n\\n\\t\\t\\tvar chunkLength = chunkView.getUint32( chunkIndex, true );\\n\\t\\t\\tchunkIndex += 4;\\n\\n\\t\\t\\tvar chunkType = chunkView.getUint32( chunkIndex, true );\\n\\t\\t\\tchunkIndex += 4;\\n\\n\\t\\t\\tif ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON ) {\\n\\n\\t\\t\\t\\tvar contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength );\\n\\t\\t\\t\\tthis.content = THREE.LoaderUtils.decodeText( contentArray );\\n\\n\\t\\t\\t} else if ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN ) {\\n\\n\\t\\t\\t\\tvar byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\\n\\t\\t\\t\\tthis.body = data.slice( byteOffset, byteOffset + chunkLength );\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Clients must ignore chunks with unknown types.\\n\\n\\t\\t\\tchunkIndex += chunkLength;\\n\\n\\t\\t}\\n\\n\\t\\tif ( this.content === null ) {\\n\\n\\t\\t\\tthrow new Error( 'THREE.GLTFLoader: JSON content not found.' );\\n\\n\\t\\t}\\n\\n\\t}\\n\\n\\t/**\\n\\t * DRACO Mesh Compression Extension\\n\\t *\\n\\t * Specification: https://github.com/KhronosGroup/glTF/pull/874\\n\\t */\\n\\tfunction GLTFDracoMeshCompressionExtension ( dracoLoader ) {\\n\\n\\t\\tif ( ! dracoLoader ) {\\n\\n\\t\\t\\tthrow new Error( 'THREE.GLTFLoader: No DRACOLoader instance provided.' );\\n\\n\\t\\t}\\n\\n\\t\\tthis.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\\n\\t\\tthis.dracoLoader = dracoLoader;\\n\\n\\t}\\n\\n\\tGLTFDracoMeshCompressionExtension.prototype.decodePrimitive = function ( primitive, parser ) {\\n\\n\\t\\tvar dracoLoader = this.dracoLoader;\\n\\t\\tvar bufferViewIndex = primitive.extensions[ this.name ].bufferView;\\n\\t\\tvar gltfAttributeMap = primitive.extensions[ this.name ].attributes;\\n\\t\\tvar threeAttributeMap = {};\\n\\n\\t\\tfor ( var attributeName in gltfAttributeMap ) {\\n\\n\\t\\t\\tif ( !( attributeName in ATTRIBUTES ) ) continue;\\n\\n\\t\\t\\tthreeAttributeMap[ ATTRIBUTES[ attributeName ] ] = gltfAttributeMap[ attributeName ];\\n\\n\\t\\t}\\n\\n\\t\\treturn parser.getDependency( 'bufferView', bufferViewIndex ).then( function ( bufferView ) {\\n\\n\\t\\t\\treturn new Promise( function ( resolve ) {\\n\\n\\t\\t\\t\\tdracoLoader.decodeDracoFile( bufferView, resolve, threeAttributeMap );\\n\\n\\t\\t\\t} );\\n\\n\\t\\t} );\\n\\n\\t};\\n\\n\\t/**\\n\\t * Specular-Glossiness Extension\\n\\t *\\n\\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness\\n\\t */\\n\\tfunction GLTFMaterialsPbrSpecularGlossinessExtension() {\\n\\n\\t\\treturn {\\n\\n\\t\\t\\tname: EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,\\n\\n\\t\\t\\tspecularGlossinessParams: [\\n\\t\\t\\t\\t'color',\\n\\t\\t\\t\\t'map',\\n\\t\\t\\t\\t'lightMap',\\n\\t\\t\\t\\t'lightMapIntensity',\\n\\t\\t\\t\\t'aoMap',\\n\\t\\t\\t\\t'aoMapIntensity',\\n\\t\\t\\t\\t'emissive',\\n\\t\\t\\t\\t'emissiveIntensity',\\n\\t\\t\\t\\t'emissiveMap',\\n\\t\\t\\t\\t'bumpMap',\\n\\t\\t\\t\\t'bumpScale',\\n\\t\\t\\t\\t'normalMap',\\n\\t\\t\\t\\t'displacementMap',\\n\\t\\t\\t\\t'displacementScale',\\n\\t\\t\\t\\t'displacementBias',\\n\\t\\t\\t\\t'specularMap',\\n\\t\\t\\t\\t'specular',\\n\\t\\t\\t\\t'glossinessMap',\\n\\t\\t\\t\\t'glossiness',\\n\\t\\t\\t\\t'alphaMap',\\n\\t\\t\\t\\t'envMap',\\n\\t\\t\\t\\t'envMapIntensity',\\n\\t\\t\\t\\t'refractionRatio',\\n\\t\\t\\t],\\n\\n\\t\\t\\tgetMaterialType: function () {\\n\\n\\t\\t\\t\\treturn THREE.ShaderMaterial;\\n\\n\\t\\t\\t},\\n\\n\\t\\t\\textendParams: function ( params, material, parser ) {\\n\\n\\t\\t\\t\\tvar pbrSpecularGlossiness = material.extensions[ this.name ];\\n\\n\\t\\t\\t\\tvar shader = THREE.ShaderLib[ 'standard' ];\\n\\n\\t\\t\\t\\tvar uniforms = THREE.UniformsUtils.clone( shader.uniforms );\\n\\n\\t\\t\\t\\tvar specularMapParsFragmentChunk = [\\n\\t\\t\\t\\t\\t'#ifdef USE_SPECULARMAP',\\n\\t\\t\\t\\t\\t'\\tuniform sampler2D specularMap;',\\n\\t\\t\\t\\t\\t'#endif'\\n\\t\\t\\t\\t].join( '\\\\n' );\\n\\n\\t\\t\\t\\tvar glossinessMapParsFragmentChunk = [\\n\\t\\t\\t\\t\\t'#ifdef USE_GLOSSINESSMAP',\\n\\t\\t\\t\\t\\t'\\tuniform sampler2D glossinessMap;',\\n\\t\\t\\t\\t\\t'#endif'\\n\\t\\t\\t\\t].join( '\\\\n' );\\n\\n\\t\\t\\t\\tvar specularMapFragmentChunk = [\\n\\t\\t\\t\\t\\t'vec3 specularFactor = specular;',\\n\\t\\t\\t\\t\\t'#ifdef USE_SPECULARMAP',\\n\\t\\t\\t\\t\\t'\\tvec4 texelSpecular = texture2D( specularMap, vUv );',\\n\\t\\t\\t\\t\\t'\\ttexelSpecular = sRGBToLinear( texelSpecular );',\\n\\t\\t\\t\\t\\t'\\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture',\\n\\t\\t\\t\\t\\t'\\tspecularFactor *= texelSpecular.rgb;',\\n\\t\\t\\t\\t\\t'#endif'\\n\\t\\t\\t\\t].join( '\\\\n' );\\n\\n\\t\\t\\t\\tvar glossinessMapFragmentChunk = [\\n\\t\\t\\t\\t\\t'float glossinessFactor = glossiness;',\\n\\t\\t\\t\\t\\t'#ifdef USE_GLOSSINESSMAP',\\n\\t\\t\\t\\t\\t'\\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );',\\n\\t\\t\\t\\t\\t'\\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture',\\n\\t\\t\\t\\t\\t'\\tglossinessFactor *= texelGlossiness.a;',\\n\\t\\t\\t\\t\\t'#endif'\\n\\t\\t\\t\\t].join( '\\\\n' );\\n\\n\\t\\t\\t\\tvar lightPhysicalFragmentChunk = [\\n\\t\\t\\t\\t\\t'PhysicalMaterial material;',\\n\\t\\t\\t\\t\\t'material.diffuseColor = diffuseColor.rgb;',\\n\\t\\t\\t\\t\\t'material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );',\\n\\t\\t\\t\\t\\t'material.specularColor = specularFactor.rgb;',\\n\\t\\t\\t\\t].join( '\\\\n' );\\n\\n\\t\\t\\t\\tvar fragmentShader = shader.fragmentShader\\n\\t\\t\\t\\t\\t.replace( '#include <specularmap_fragment>', '' )\\n\\t\\t\\t\\t\\t.replace( 'uniform float roughness;', 'uniform vec3 specular;' )\\n\\t\\t\\t\\t\\t.replace( 'uniform float metalness;', 'uniform float glossiness;' )\\n\\t\\t\\t\\t\\t.replace( '#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk )\\n\\t\\t\\t\\t\\t.replace( '#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk )\\n\\t\\t\\t\\t\\t.replace( '#include <roughnessmap_fragment>', specularMapFragmentChunk )\\n\\t\\t\\t\\t\\t.replace( '#include <metalnessmap_fragment>', glossinessMapFragmentChunk )\\n\\t\\t\\t\\t\\t.replace( '#include <lights_physical_fragment>', lightPhysicalFragmentChunk );\\n\\n\\t\\t\\t\\tdelete uniforms.roughness;\\n\\t\\t\\t\\tdelete uniforms.metalness;\\n\\t\\t\\t\\tdelete uniforms.roughnessMap;\\n\\t\\t\\t\\tdelete uniforms.metalnessMap;\\n\\n\\t\\t\\t\\tuniforms.specular = { value: new THREE.Color().setHex( 0x111111 ) };\\n\\t\\t\\t\\tuniforms.glossiness = { value: 0.5 };\\n\\t\\t\\t\\tuniforms.specularMap = { value: null };\\n\\t\\t\\t\\tuniforms.glossinessMap = { value: null };\\n\\n\\t\\t\\t\\tparams.vertexShader = shader.vertexShader;\\n\\t\\t\\t\\tparams.fragmentShader = fragmentShader;\\n\\t\\t\\t\\tparams.uniforms = uniforms;\\n\\t\\t\\t\\tparams.defines = { 'STANDARD': '' };\\n\\n\\t\\t\\t\\tparams.color = new THREE.Color( 1.0, 1.0, 1.0 );\\n\\t\\t\\t\\tparams.opacity = 1.0;\\n\\n\\t\\t\\t\\tvar pending = [];\\n\\n\\t\\t\\t\\tif ( Array.isArray( pbrSpecularGlossiness.diffuseFactor ) ) {\\n\\n\\t\\t\\t\\t\\tvar array = pbrSpecularGlossiness.diffuseFactor;\\n\\n\\t\\t\\t\\t\\tparams.color.fromArray( array );\\n\\t\\t\\t\\t\\tparams.opacity = array[ 3 ];\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif ( pbrSpecularGlossiness.diffuseTexture !== undefined ) {\\n\\n\\t\\t\\t\\t\\tpending.push( parser.assignTexture( params, 'map', pbrSpecularGlossiness.diffuseTexture.index ) );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tparams.emissive = new THREE.Color( 0.0, 0.0, 0.0 );\\n\\t\\t\\t\\tparams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\\n\\t\\t\\t\\tparams.specular = new THREE.Color( 1.0, 1.0, 1.0 );\\n\\n\\t\\t\\t\\tif ( Array.isArray( pbrSpecularGlossiness.specularFactor ) ) {\\n\\n\\t\\t\\t\\t\\tparams.specular.fromArray( pbrSpecularGlossiness.specularFactor );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif ( pbrSpecularGlossiness.specularGlossinessTexture !== undefined ) {\\n\\n\\t\\t\\t\\t\\tvar specGlossIndex = pbrSpecularGlossiness.specularGlossinessTexture.index;\\n\\t\\t\\t\\t\\tpending.push( parser.assignTexture( params, 'glossinessMap', specGlossIndex ) );\\n\\t\\t\\t\\t\\tpending.push( parser.assignTexture( params, 'specularMap', specGlossIndex ) );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn Promise.all( pending );\\n\\n\\t\\t\\t},\\n\\n\\t\\t\\tcreateMaterial: function ( params ) {\\n\\n\\t\\t\\t\\t// setup material properties based on MeshStandardMaterial for Specular-Glossiness\\n\\n\\t\\t\\t\\tvar material = new THREE.ShaderMaterial( {\\n\\t\\t\\t\\t\\tdefines: params.defines,\\n\\t\\t\\t\\t\\tvertexShader: params.vertexShader,\\n\\t\\t\\t\\t\\tfragmentShader: params.fragmentShader,\\n\\t\\t\\t\\t\\tuniforms: params.uniforms,\\n\\t\\t\\t\\t\\tfog: true,\\n\\t\\t\\t\\t\\tlights: true,\\n\\t\\t\\t\\t\\topacity: params.opacity,\\n\\t\\t\\t\\t\\ttransparent: params.transparent\\n\\t\\t\\t\\t} );\\n\\n\\t\\t\\t\\tmaterial.isGLTFSpecularGlossinessMaterial = true;\\n\\n\\t\\t\\t\\tmaterial.color = params.color;\\n\\n\\t\\t\\t\\tmaterial.map = params.map === undefined ? null : params.map;\\n\\n\\t\\t\\t\\tmaterial.lightMap = null;\\n\\t\\t\\t\\tmaterial.lightMapIntensity = 1.0;\\n\\n\\t\\t\\t\\tmaterial.aoMap = params.aoMap === undefined ? null : params.aoMap;\\n\\t\\t\\t\\tmaterial.aoMapIntensity = 1.0;\\n\\n\\t\\t\\t\\tmaterial.emissive = params.emissive;\\n\\t\\t\\t\\tmaterial.emissiveIntensity = 1.0;\\n\\t\\t\\t\\tmaterial.emissiveMap = params.emissiveMap === undefined ? null : params.emissiveMap;\\n\\n\\t\\t\\t\\tmaterial.bumpMap = params.bumpMap === undefined ? null : params.bumpMap;\\n\\t\\t\\t\\tmaterial.bumpScale = 1;\\n\\n\\t\\t\\t\\tmaterial.normalMap = params.normalMap === undefined ? null : params.normalMap;\\n\\t\\t\\t\\tif ( params.normalScale ) material.normalScale = params.normalScale;\\n\\n\\t\\t\\t\\tmaterial.displacementMap = null;\\n\\t\\t\\t\\tmaterial.displacementScale = 1;\\n\\t\\t\\t\\tmaterial.displacementBias = 0;\\n\\n\\t\\t\\t\\tmaterial.specularMap = params.specularMap === undefined ? null : params.specularMap;\\n\\t\\t\\t\\tmaterial.specular = params.specular;\\n\\n\\t\\t\\t\\tmaterial.glossinessMap = params.glossinessMap === undefined ? null : params.glossinessMap;\\n\\t\\t\\t\\tmaterial.glossiness = params.glossiness;\\n\\n\\t\\t\\t\\tmaterial.alphaMap = null;\\n\\n\\t\\t\\t\\tmaterial.envMap = params.envMap === undefined ? null : params.envMap;\\n\\t\\t\\t\\tmaterial.envMapIntensity = 1.0;\\n\\n\\t\\t\\t\\tmaterial.refractionRatio = 0.98;\\n\\n\\t\\t\\t\\tmaterial.extensions.derivatives = true;\\n\\n\\t\\t\\t\\treturn material;\\n\\n\\t\\t\\t},\\n\\n\\t\\t\\t/**\\n\\t\\t\\t * Clones a GLTFSpecularGlossinessMaterial instance. The ShaderMaterial.copy() method can\\n\\t\\t\\t * copy only properties it knows about or inherits, and misses many properties that would\\n\\t\\t\\t * normally be defined by MeshStandardMaterial.\\n\\t\\t\\t *\\n\\t\\t\\t * This method allows GLTFSpecularGlossinessMaterials to be cloned in the process of\\n\\t\\t\\t * loading a glTF model, but cloning later (e.g. by the user) would require these changes\\n\\t\\t\\t * AND also updating `.onBeforeRender` on the parent mesh.\\n\\t\\t\\t *\\n\\t\\t\\t * @param  {THREE.ShaderMaterial} source\\n\\t\\t\\t * @return {THREE.ShaderMaterial}\\n\\t\\t\\t */\\n\\t\\t\\tcloneMaterial: function ( source ) {\\n\\n\\t\\t\\t\\tvar target = source.clone();\\n\\n\\t\\t\\t\\ttarget.isGLTFSpecularGlossinessMaterial = true;\\n\\n\\t\\t\\t\\tvar params = this.specularGlossinessParams;\\n\\n\\t\\t\\t\\tfor ( var i = 0, il = params.length; i < il; i ++ ) {\\n\\n\\t\\t\\t\\t\\ttarget[ params[ i ] ] = source[ params[ i ] ];\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn target;\\n\\n\\t\\t\\t},\\n\\n\\t\\t\\t// Here's based on refreshUniformsCommon() and refreshUniformsStandard() in WebGLRenderer.\\n\\t\\t\\trefreshUniforms: function ( renderer, scene, camera, geometry, material, group ) {\\n\\n\\t\\t\\t\\tif ( material.isGLTFSpecularGlossinessMaterial !== true ) {\\n\\n\\t\\t\\t\\t\\treturn;\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tvar uniforms = material.uniforms;\\n\\t\\t\\t\\tvar defines = material.defines;\\n\\n\\t\\t\\t\\tuniforms.opacity.value = material.opacity;\\n\\n\\t\\t\\t\\tuniforms.diffuse.value.copy( material.color );\\n\\t\\t\\t\\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\\n\\n\\t\\t\\t\\tuniforms.map.value = material.map;\\n\\t\\t\\t\\tuniforms.specularMap.value = material.specularMap;\\n\\t\\t\\t\\tuniforms.alphaMap.value = material.alphaMap;\\n\\n\\t\\t\\t\\tuniforms.lightMap.value = material.lightMap;\\n\\t\\t\\t\\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\\n\\n\\t\\t\\t\\tuniforms.aoMap.value = material.aoMap;\\n\\t\\t\\t\\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\\n\\n\\t\\t\\t\\t// uv repeat and offset setting priorities\\n\\t\\t\\t\\t// 1. color map\\n\\t\\t\\t\\t// 2. specular map\\n\\t\\t\\t\\t// 3. normal map\\n\\t\\t\\t\\t// 4. bump map\\n\\t\\t\\t\\t// 5. alpha map\\n\\t\\t\\t\\t// 6. emissive map\\n\\n\\t\\t\\t\\tvar uvScaleMap;\\n\\n\\t\\t\\t\\tif ( material.map ) {\\n\\n\\t\\t\\t\\t\\tuvScaleMap = material.map;\\n\\n\\t\\t\\t\\t} else if ( material.specularMap ) {\\n\\n\\t\\t\\t\\t\\tuvScaleMap = material.specularMap;\\n\\n\\t\\t\\t\\t} else if ( material.displacementMap ) {\\n\\n\\t\\t\\t\\t\\tuvScaleMap = material.displacementMap;\\n\\n\\t\\t\\t\\t} else if ( material.normalMap ) {\\n\\n\\t\\t\\t\\t\\tuvScaleMap = material.normalMap;\\n\\n\\t\\t\\t\\t} else if ( material.bumpMap ) {\\n\\n\\t\\t\\t\\t\\tuvScaleMap = material.bumpMap;\\n\\n\\t\\t\\t\\t} else if ( material.glossinessMap ) {\\n\\n\\t\\t\\t\\t\\tuvScaleMap = material.glossinessMap;\\n\\n\\t\\t\\t\\t} else if ( material.alphaMap ) {\\n\\n\\t\\t\\t\\t\\tuvScaleMap = material.alphaMap;\\n\\n\\t\\t\\t\\t} else if ( material.emissiveMap ) {\\n\\n\\t\\t\\t\\t\\tuvScaleMap = material.emissiveMap;\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif ( uvScaleMap !== undefined ) {\\n\\n\\t\\t\\t\\t\\t// backwards compatibility\\n\\t\\t\\t\\t\\tif ( uvScaleMap.isWebGLRenderTarget ) {\\n\\n\\t\\t\\t\\t\\t\\tuvScaleMap = uvScaleMap.texture;\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tvar offset;\\n\\t\\t\\t\\t\\tvar repeat;\\n\\n\\t\\t\\t\\t\\tif ( uvScaleMap.matrix !== undefined ) {\\n\\n\\t\\t\\t\\t\\t\\t// > r88.\\n\\n\\t\\t\\t\\t\\t\\tif ( uvScaleMap.matrixAutoUpdate === true ) {\\n\\n\\t\\t\\t\\t\\t\\t\\toffset = uvScaleMap.offset;\\n\\t\\t\\t\\t\\t\\t\\trepeat = uvScaleMap.repeat;\\n\\t\\t\\t\\t\\t\\t\\tvar rotation = uvScaleMap.rotation;\\n\\t\\t\\t\\t\\t\\t\\tvar center = uvScaleMap.center;\\n\\n\\t\\t\\t\\t\\t\\t\\tuvScaleMap.matrix.setUvTransform( offset.x, offset.y, repeat.x, repeat.y, rotation, center.x, center.y );\\n\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\\n\\n\\t\\t\\t\\t\\t} else {\\n\\n\\t\\t\\t\\t\\t\\t// <= r87. Remove when reasonable.\\n\\n\\t\\t\\t\\t\\t\\toffset = uvScaleMap.offset;\\n\\t\\t\\t\\t\\t\\trepeat = uvScaleMap.repeat;\\n\\n\\t\\t\\t\\t\\t\\tuniforms.offsetRepeat.value.set( offset.x, offset.y, repeat.x, repeat.y );\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tuniforms.envMap.value = material.envMap;\\n\\t\\t\\t\\tuniforms.envMapIntensity.value = material.envMapIntensity;\\n\\t\\t\\t\\tuniforms.flipEnvMap.value = ( material.envMap && material.envMap.isCubeTexture ) ? - 1 : 1;\\n\\n\\t\\t\\t\\tuniforms.refractionRatio.value = material.refractionRatio;\\n\\n\\t\\t\\t\\tuniforms.specular.value.copy( material.specular );\\n\\t\\t\\t\\tuniforms.glossiness.value = material.glossiness;\\n\\n\\t\\t\\t\\tuniforms.glossinessMap.value = material.glossinessMap;\\n\\n\\t\\t\\t\\tuniforms.emissiveMap.value = material.emissiveMap;\\n\\t\\t\\t\\tuniforms.bumpMap.value = material.bumpMap;\\n\\t\\t\\t\\tuniforms.normalMap.value = material.normalMap;\\n\\n\\t\\t\\t\\tuniforms.displacementMap.value = material.displacementMap;\\n\\t\\t\\t\\tuniforms.displacementScale.value = material.displacementScale;\\n\\t\\t\\t\\tuniforms.displacementBias.value = material.displacementBias;\\n\\n\\t\\t\\t\\tif ( uniforms.glossinessMap.value !== null && defines.USE_GLOSSINESSMAP === undefined ) {\\n\\n\\t\\t\\t\\t\\tdefines.USE_GLOSSINESSMAP = '';\\n\\t\\t\\t\\t\\t// set USE_ROUGHNESSMAP to enable vUv\\n\\t\\t\\t\\t\\tdefines.USE_ROUGHNESSMAP = '';\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif ( uniforms.glossinessMap.value === null && defines.USE_GLOSSINESSMAP !== undefined ) {\\n\\n\\t\\t\\t\\t\\tdelete defines.USE_GLOSSINESSMAP;\\n\\t\\t\\t\\t\\tdelete defines.USE_ROUGHNESSMAP;\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t}\\n\\n\\t\\t};\\n\\n\\t}\\n\\n\\t/*********************************/\\n\\t/********** INTERPOLATION ********/\\n\\t/*********************************/\\n\\n\\t// Spline Interpolation\\n\\t// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\\n\\tfunction GLTFCubicSplineInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\\n\\n\\t\\tTHREE.Interpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\\n\\n\\t};\\n\\n\\tGLTFCubicSplineInterpolant.prototype = Object.create( THREE.Interpolant.prototype );\\n\\tGLTFCubicSplineInterpolant.prototype.constructor = GLTFCubicSplineInterpolant;\\n\\n\\tGLTFCubicSplineInterpolant.prototype.interpolate_ = function ( i1, t0, t, t1 ) {\\n\\n\\t\\tvar result = this.resultBuffer;\\n\\t\\tvar values = this.sampleValues;\\n\\t\\tvar stride = this.valueSize;\\n\\n\\t\\tvar stride2 = stride * 2;\\n\\t\\tvar stride3 = stride * 3;\\n\\n\\t\\tvar td = t1 - t0;\\n\\n\\t\\tvar p = ( t - t0 ) / td;\\n\\t\\tvar pp = p * p;\\n\\t\\tvar ppp = pp * p;\\n\\n\\t\\tvar offset1 = i1 * stride3;\\n\\t\\tvar offset0 = offset1 - stride3;\\n\\n\\t\\tvar s0 = 2 * ppp - 3 * pp + 1;\\n\\t\\tvar s1 = ppp - 2 * pp + p;\\n\\t\\tvar s2 = - 2 * ppp + 3 * pp;\\n\\t\\tvar s3 = ppp - pp;\\n\\n\\t\\t// Layout of keyframe output values for CUBICSPLINE animations:\\n\\t\\t//   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\\n\\t\\tfor ( var i = 0; i !== stride; i ++ ) {\\n\\n\\t\\t\\tvar p0 = values[ offset0 + i + stride ];        // splineVertex_k\\n\\t\\t\\tvar m0 = values[ offset0 + i + stride2 ] * td;  // outTangent_k * (t_k+1 - t_k)\\n\\t\\t\\tvar p1 = values[ offset1 + i + stride ];        // splineVertex_k+1\\n\\t\\t\\tvar m1 = values[ offset1 + i ] * td;            // inTangent_k+1 * (t_k+1 - t_k)\\n\\n\\t\\t\\tresult[ i ] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\\n\\n\\t\\t}\\n\\n\\t\\treturn result;\\n\\n\\t};\\n\\n\\t/*********************************/\\n\\t/********** INTERNALS ************/\\n\\t/*********************************/\\n\\n\\t/* CONSTANTS */\\n\\n\\tvar WEBGL_CONSTANTS = {\\n\\t\\tFLOAT: 5126,\\n\\t\\t//FLOAT_MAT2: 35674,\\n\\t\\tFLOAT_MAT3: 35675,\\n\\t\\tFLOAT_MAT4: 35676,\\n\\t\\tFLOAT_VEC2: 35664,\\n\\t\\tFLOAT_VEC3: 35665,\\n\\t\\tFLOAT_VEC4: 35666,\\n\\t\\tLINEAR: 9729,\\n\\t\\tREPEAT: 10497,\\n\\t\\tSAMPLER_2D: 35678,\\n\\t\\tPOINTS: 0,\\n\\t\\tLINES: 1,\\n\\t\\tLINE_LOOP: 2,\\n\\t\\tLINE_STRIP: 3,\\n\\t\\tTRIANGLES: 4,\\n\\t\\tTRIANGLE_STRIP: 5,\\n\\t\\tTRIANGLE_FAN: 6,\\n\\t\\tUNSIGNED_BYTE: 5121,\\n\\t\\tUNSIGNED_SHORT: 5123\\n\\t};\\n\\n\\tvar WEBGL_COMPONENT_TYPES = {\\n\\t\\t5120: Int8Array,\\n\\t\\t5121: Uint8Array,\\n\\t\\t5122: Int16Array,\\n\\t\\t5123: Uint16Array,\\n\\t\\t5125: Uint32Array,\\n\\t\\t5126: Float32Array\\n\\t};\\n\\n\\tvar WEBGL_FILTERS = {\\n\\t\\t9728: THREE.NearestFilter,\\n\\t\\t9729: THREE.LinearFilter,\\n\\t\\t9984: THREE.NearestMipMapNearestFilter,\\n\\t\\t9985: THREE.LinearMipMapNearestFilter,\\n\\t\\t9986: THREE.NearestMipMapLinearFilter,\\n\\t\\t9987: THREE.LinearMipMapLinearFilter\\n\\t};\\n\\n\\tvar WEBGL_WRAPPINGS = {\\n\\t\\t33071: THREE.ClampToEdgeWrapping,\\n\\t\\t33648: THREE.MirroredRepeatWrapping,\\n\\t\\t10497: THREE.RepeatWrapping\\n\\t};\\n\\n\\tvar WEBGL_TEXTURE_FORMATS = {\\n\\t\\t6406: THREE.AlphaFormat,\\n\\t\\t6407: THREE.RGBFormat,\\n\\t\\t6408: THREE.RGBAFormat,\\n\\t\\t6409: THREE.LuminanceFormat,\\n\\t\\t6410: THREE.LuminanceAlphaFormat\\n\\t};\\n\\n\\tvar WEBGL_TEXTURE_DATATYPES = {\\n\\t\\t5121: THREE.UnsignedByteType,\\n\\t\\t32819: THREE.UnsignedShort4444Type,\\n\\t\\t32820: THREE.UnsignedShort5551Type,\\n\\t\\t33635: THREE.UnsignedShort565Type\\n\\t};\\n\\n\\tvar WEBGL_TYPE_SIZES = {\\n\\t\\t'SCALAR': 1,\\n\\t\\t'VEC2': 2,\\n\\t\\t'VEC3': 3,\\n\\t\\t'VEC4': 4,\\n\\t\\t'MAT2': 4,\\n\\t\\t'MAT3': 9,\\n\\t\\t'MAT4': 16\\n\\t};\\n\\n\\tvar ATTRIBUTES = {\\n\\t\\tPOSITION: 'position',\\n\\t\\tNORMAL: 'normal',\\n\\t\\tTEXCOORD_0: 'uv',\\n\\t\\tTEXCOORD0: 'uv', // deprecated\\n\\t\\tTEXCOORD: 'uv', // deprecated\\n\\t\\tTEXCOORD_1: 'uv2',\\n\\t\\tCOLOR_0: 'color',\\n\\t\\tCOLOR0: 'color', // deprecated\\n\\t\\tCOLOR: 'color', // deprecated\\n\\t\\tWEIGHTS_0: 'skinWeight',\\n\\t\\tWEIGHT: 'skinWeight', // deprecated\\n\\t\\tJOINTS_0: 'skinIndex',\\n\\t\\tJOINT: 'skinIndex' // deprecated\\n\\t}\\n\\n\\tvar PATH_PROPERTIES = {\\n\\t\\tscale: 'scale',\\n\\t\\ttranslation: 'position',\\n\\t\\trotation: 'quaternion',\\n\\t\\tweights: 'morphTargetInfluences'\\n\\t};\\n\\n\\tvar INTERPOLATION = {\\n\\t\\tCUBICSPLINE: THREE.InterpolateSmooth, // We use custom interpolation GLTFCubicSplineInterpolation for CUBICSPLINE.\\n\\t\\t                                      // KeyframeTrack.optimize() can't handle glTF Cubic Spline output values layout,\\n\\t\\t                                      // using THREE.InterpolateSmooth for KeyframeTrack instantiation to prevent optimization.\\n\\t\\t                                      // See KeyframeTrack.optimize() for the detail.\\n\\t\\tLINEAR: THREE.InterpolateLinear,\\n\\t\\tSTEP: THREE.InterpolateDiscrete\\n\\t};\\n\\n\\tvar ALPHA_MODES = {\\n\\t\\tOPAQUE: 'OPAQUE',\\n\\t\\tMASK: 'MASK',\\n\\t\\tBLEND: 'BLEND'\\n\\t};\\n\\n\\t/* UTILITY FUNCTIONS */\\n\\n\\tfunction resolveURL( url, path ) {\\n\\n\\t\\t// Invalid URL\\n\\t\\tif ( typeof url !== 'string' || url === '' ) return '';\\n\\n\\t\\t// Absolute URL http://,https://,//\\n\\t\\tif ( /^(https?:)?\\\\/\\\\//i.test( url ) ) return url;\\n\\n\\t\\t// Data URI\\n\\t\\tif ( /^data:.*,.*$/i.test( url ) ) return url;\\n\\n\\t\\t// Blob URL\\n\\t\\tif ( /^blob:.*$/i.test( url ) ) return url;\\n\\n\\t\\t// Relative URL\\n\\t\\treturn path + url;\\n\\n\\t}\\n\\n\\t/**\\n\\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\\n\\t */\\n\\tfunction createDefaultMaterial() {\\n\\n\\t\\treturn new THREE.MeshStandardMaterial( {\\n\\t\\t\\tcolor: 0xFFFFFF,\\n\\t\\t\\temissive: 0x000000,\\n\\t\\t\\tmetalness: 1,\\n\\t\\t\\troughness: 1,\\n\\t\\t\\ttransparent: false,\\n\\t\\t\\tdepthTest: true,\\n\\t\\t\\tside: THREE.FrontSide\\n\\t\\t} );\\n\\n\\t}\\n\\n\\t/**\\n\\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\\n\\t *\\n\\t * @param {THREE.Mesh} mesh\\n\\t * @param {GLTF.Mesh} meshDef\\n\\t * @param {GLTF.Primitive} primitiveDef\\n\\t * @param {Array<THREE.BufferAttribute>} accessors\\n\\t */\\n\\tfunction addMorphTargets( mesh, meshDef, primitiveDef, accessors ) {\\n\\n\\t\\tvar geometry = mesh.geometry;\\n\\t\\tvar targets = primitiveDef.targets;\\n\\n\\t\\tvar hasMorphPosition = false;\\n\\t\\tvar hasMorphNormal = false;\\n\\n\\t\\tvar target = null;\\n\\n\\t\\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\\n\\n\\t\\t\\ttarget = targets[ i ];\\n\\n\\t\\t\\tif ( target.POSITION !== undefined ) hasMorphPosition = true;\\n\\t\\t\\tif ( target.NORMAL !== undefined ) hasMorphNormal = true;\\n\\n\\t\\t\\tif ( hasMorphPosition && hasMorphNormal ) break;\\n\\n\\t\\t}\\n\\n\\t\\tif ( ! hasMorphPosition && ! hasMorphNormal ) return;\\n\\n\\t\\tvar morphPositions = [];\\n\\t\\tvar morphNormals = [];\\n\\n\\t\\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\\n\\n\\t\\t\\ttarget = targets[ i ];\\n\\t\\t\\tvar attributeName = 'morphTarget' + i;\\n\\n\\t\\t\\tif ( hasMorphPosition ) {\\n\\n\\t\\t\\t\\t// Three.js morph position is absolute value. The formula is\\n\\t\\t\\t\\t//   basePosition\\n\\t\\t\\t\\t//     + weight0 * ( morphPosition0 - basePosition )\\n\\t\\t\\t\\t//     + weight1 * ( morphPosition1 - basePosition )\\n\\t\\t\\t\\t//     ...\\n\\t\\t\\t\\t// while the glTF one is relative\\n\\t\\t\\t\\t//   basePosition\\n\\t\\t\\t\\t//     + weight0 * glTFmorphPosition0\\n\\t\\t\\t\\t//     + weight1 * glTFmorphPosition1\\n\\t\\t\\t\\t//     ...\\n\\t\\t\\t\\t// then we need to convert from relative to absolute here.\\n\\n\\t\\t\\t\\tif ( target.POSITION !== undefined ) {\\n\\n\\t\\t\\t\\t\\t// Cloning not to pollute original accessor\\n\\t\\t\\t\\t\\tvar positionAttribute = cloneBufferAttribute( accessors[ target.POSITION ] );\\n\\t\\t\\t\\t\\tpositionAttribute.name = attributeName;\\n\\n\\t\\t\\t\\t\\tvar position = geometry.attributes.position;\\n\\n\\t\\t\\t\\t\\tfor ( var j = 0, jl = positionAttribute.count; j < jl; j ++ ) {\\n\\n\\t\\t\\t\\t\\t\\tpositionAttribute.setXYZ(\\n\\t\\t\\t\\t\\t\\t\\tj,\\n\\t\\t\\t\\t\\t\\t\\tpositionAttribute.getX( j ) + position.getX( j ),\\n\\t\\t\\t\\t\\t\\t\\tpositionAttribute.getY( j ) + position.getY( j ),\\n\\t\\t\\t\\t\\t\\t\\tpositionAttribute.getZ( j ) + position.getZ( j )\\n\\t\\t\\t\\t\\t\\t);\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t} else {\\n\\n\\t\\t\\t\\t\\tpositionAttribute = geometry.attributes.position;\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tmorphPositions.push( positionAttribute );\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tif ( hasMorphNormal ) {\\n\\n\\t\\t\\t\\t// see target.POSITION's comment\\n\\n\\t\\t\\t\\tvar normalAttribute;\\n\\n\\t\\t\\t\\tif ( target.NORMAL !== undefined ) {\\n\\n\\t\\t\\t\\t\\tnormalAttribute = cloneBufferAttribute( accessors[ target.NORMAL ] );\\n\\t\\t\\t\\t\\tnormalAttribute.name = attributeName;\\n\\n\\t\\t\\t\\t\\tvar normal = geometry.attributes.normal;\\n\\n\\t\\t\\t\\t\\tfor ( let j = 0, jl = normalAttribute.count; j < jl; j ++ ) {\\n\\n\\t\\t\\t\\t\\t\\tnormalAttribute.setXYZ(\\n\\t\\t\\t\\t\\t\\t\\tj,\\n\\t\\t\\t\\t\\t\\t\\tnormalAttribute.getX( j ) + normal.getX( j ),\\n\\t\\t\\t\\t\\t\\t\\tnormalAttribute.getY( j ) + normal.getY( j ),\\n\\t\\t\\t\\t\\t\\t\\tnormalAttribute.getZ( j ) + normal.getZ( j )\\n\\t\\t\\t\\t\\t\\t);\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t} else {\\n\\n\\t\\t\\t\\t\\tnormalAttribute = geometry.attributes.normal;\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tmorphNormals.push( normalAttribute );\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\tif ( hasMorphPosition ) geometry.morphAttributes.position = morphPositions;\\n\\t\\tif ( hasMorphNormal ) geometry.morphAttributes.normal = morphNormals;\\n\\n\\t\\tmesh.updateMorphTargets();\\n\\n\\t\\tif ( meshDef.weights !== undefined ) {\\n\\n\\t\\t\\tfor ( var i = 0, il = meshDef.weights.length; i < il; i ++ ) {\\n\\n\\t\\t\\t\\tmesh.morphTargetInfluences[ i ] = meshDef.weights[ i ];\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\t// .extras has user-defined data, so check that .extras.targetNames is an array.\\n\\t\\tif ( meshDef.extras && Array.isArray( meshDef.extras.targetNames ) ) {\\n\\n\\t\\t\\tvar targetNames = meshDef.extras.targetNames;\\n\\n\\t\\t\\tif ( mesh.morphTargetInfluences.length === targetNames.length ) {\\n\\n\\t\\t\\t\\tmesh.morphTargetDictionary = {};\\n\\n\\t\\t\\t\\tfor ( let i = 0, il = targetNames.length; i < il; i ++ ) {\\n\\n\\t\\t\\t\\t\\tmesh.morphTargetDictionary[ targetNames[ i ] ] = i;\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t} else {\\n\\n\\t\\t\\t\\tconsole.warn( 'THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.' );\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t}\\n\\n\\tfunction isPrimitiveEqual( a, b ) {\\n\\n\\t\\tif ( a.indices !== b.indices ) {\\n\\n\\t\\t\\treturn false;\\n\\n\\t\\t}\\n\\n\\t\\tvar attribA = a.attributes || {};\\n\\t\\tvar attribB = b.attributes || {};\\n\\t\\tvar keysA = Object.keys( attribA );\\n\\t\\tvar keysB = Object.keys( attribB );\\n\\n\\t\\tif ( keysA.length !== keysB.length ) {\\n\\n\\t\\t\\treturn false;\\n\\n\\t\\t}\\n\\n\\t\\tfor ( var i = 0, il = keysA.length; i < il; i ++ ) {\\n\\n\\t\\t\\tvar key = keysA[ i ];\\n\\n\\t\\t\\tif ( attribA[ key ] !== attribB[ key ] ) {\\n\\n\\t\\t\\t\\treturn false;\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\treturn true;\\n\\n\\t}\\n\\n\\tfunction getCachedGeometry( cache, newPrimitive ) {\\n\\n\\t\\tfor ( var i = 0, il = cache.length; i < il; i ++ ) {\\n\\n\\t\\t\\tvar cached = cache[ i ];\\n\\n\\t\\t\\tif ( isPrimitiveEqual( cached.primitive, newPrimitive ) ) {\\n\\n\\t\\t\\t\\treturn cached.promise;\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\treturn null;\\n\\n\\t}\\n\\n\\tfunction cloneBufferAttribute( attribute ) {\\n\\n\\t\\tif ( attribute.isInterleavedBufferAttribute ) {\\n\\n\\t\\t\\tvar count = attribute.count;\\n\\t\\t\\tvar itemSize = attribute.itemSize;\\n\\t\\t\\tvar array = attribute.array.slice( 0, count * itemSize );\\n\\n\\t\\t\\tfor ( var i = 0; i < count; ++ i ) {\\n\\n\\t\\t\\t\\tarray[ i ] = attribute.getX( i );\\n\\t\\t\\t\\tif ( itemSize >= 2 ) array[ i + 1 ] = attribute.getY( i );\\n\\t\\t\\t\\tif ( itemSize >= 3 ) array[ i + 2 ] = attribute.getZ( i );\\n\\t\\t\\t\\tif ( itemSize >= 4 ) array[ i + 3 ] = attribute.getW( i );\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn new THREE.BufferAttribute( array, itemSize, attribute.normalized );\\n\\n\\t\\t}\\n\\n\\t\\treturn attribute.clone();\\n\\n\\t}\\n\\n\\t/* GLTF PARSER */\\n\\n\\tfunction GLTFParser( json, extensions, options ) {\\n\\n\\t\\tthis.json = json || {};\\n\\t\\tthis.extensions = extensions || {};\\n\\t\\tthis.options = options || {};\\n\\n\\t\\t// loader object cache\\n\\t\\tthis.cache = new GLTFRegistry();\\n\\n\\t\\t// BufferGeometry caching\\n\\t\\tthis.primitiveCache = [];\\n\\n\\t\\tthis.textureLoader = new THREE.TextureLoader( this.options.manager );\\n\\t\\tthis.textureLoader.setCrossOrigin( this.options.crossOrigin );\\n\\n\\t\\tthis.fileLoader = new THREE.FileLoader( this.options.manager );\\n\\t\\tthis.fileLoader.setResponseType( 'arraybuffer' );\\n\\n\\t}\\n\\n\\tGLTFParser.prototype.parse = function ( onLoad, onError ) {\\n\\n\\t\\tvar json = this.json;\\n\\n\\t\\t// Clear the loader cache\\n\\t\\tthis.cache.removeAll();\\n\\n\\t\\t// Mark the special nodes/meshes in json for efficient parse\\n\\t\\tthis.markDefs();\\n\\n\\t\\t// Fire the callback on complete\\n\\t\\tthis.getMultiDependencies( [\\n\\n\\t\\t\\t'scene',\\n\\t\\t\\t'animation',\\n\\t\\t\\t'camera'\\n\\n\\t\\t] ).then( function ( dependencies ) {\\n\\n\\t\\t\\tvar scenes = dependencies.scenes || [];\\n\\t\\t\\tvar scene = scenes[ json.scene || 0 ];\\n\\t\\t\\tvar animations = dependencies.animations || [];\\n\\t\\t\\tvar asset = json.asset;\\n\\t\\t\\tvar cameras = dependencies.cameras || [];\\n\\n\\t\\t\\tonLoad( scene, scenes, cameras, animations, asset );\\n\\n\\t\\t} ).catch( onError );\\n\\n\\t};\\n\\n\\t/**\\n\\t * Marks the special nodes/meshes in json for efficient parse.\\n\\t */\\n\\tGLTFParser.prototype.markDefs = function () {\\n\\n\\t\\tvar nodeDefs = this.json.nodes || [];\\n\\t\\tvar skinDefs = this.json.skins || [];\\n\\t\\tvar meshDefs = this.json.meshes || [];\\n\\n\\t\\tvar meshReferences = {};\\n\\t\\tvar meshUses = {};\\n\\n\\t\\t// Nothing in the node definition indicates whether it is a Bone or an\\n\\t\\t// Object3D. Use the skins' joint references to mark bones.\\n\\t\\tfor ( var skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex ++ ) {\\n\\n\\t\\t\\tvar joints = skinDefs[ skinIndex ].joints;\\n\\n\\t\\t\\tfor ( var i = 0, il = joints.length; i < il; i ++ ) {\\n\\n\\t\\t\\t\\tnodeDefs[ joints[ i ] ].isBone = true;\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\t// Meshes can (and should) be reused by multiple nodes in a glTF asset. To\\n\\t\\t// avoid having more than one THREE.Mesh with the same name, count\\n\\t\\t// references and rename instances below.\\n\\t\\t//\\n\\t\\t// Example: CesiumMilkTruck sample model reuses \\\"Wheel\\\" meshes.\\n\\t\\tfor ( var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\\n\\n\\t\\t\\tvar nodeDef = nodeDefs[ nodeIndex ];\\n\\n\\t\\t\\tif ( nodeDef.mesh !== undefined ) {\\n\\n\\t\\t\\t\\tif ( meshReferences[ nodeDef.mesh ] === undefined ) {\\n\\n\\t\\t\\t\\t\\tmeshReferences[ nodeDef.mesh ] = meshUses[ nodeDef.mesh ] = 0;\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tmeshReferences[ nodeDef.mesh ] ++;\\n\\n\\t\\t\\t\\t// Nothing in the mesh definition indicates whether it is\\n\\t\\t\\t\\t// a SkinnedMesh or Mesh. Use the node's mesh reference\\n\\t\\t\\t\\t// to mark SkinnedMesh if node has skin.\\n\\t\\t\\t\\tif ( nodeDef.skin !== undefined ) {\\n\\n\\t\\t\\t\\t\\tmeshDefs[ nodeDef.mesh ].isSkinnedMesh = true;\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\tthis.json.meshReferences = meshReferences;\\n\\t\\tthis.json.meshUses = meshUses;\\n\\n\\t};\\n\\n\\t/**\\n\\t * Requests the specified dependency asynchronously, with caching.\\n\\t * @param {string} type\\n\\t * @param {number} index\\n\\t * @return {Promise<Object>}\\n\\t */\\n\\tGLTFParser.prototype.getDependency = function ( type, index ) {\\n\\n\\t\\tvar cacheKey = type + ':' + index;\\n\\t\\tvar dependency = this.cache.get( cacheKey );\\n\\n\\t\\tif ( ! dependency ) {\\n\\n\\t\\t\\tswitch ( type ) {\\n\\n\\t\\t\\t\\tcase 'scene':\\n\\t\\t\\t\\t\\tdependency = this.loadScene( index );\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 'node':\\n\\t\\t\\t\\t\\tdependency = this.loadNode( index );\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 'mesh':\\n\\t\\t\\t\\t\\tdependency = this.loadMesh( index );\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 'accessor':\\n\\t\\t\\t\\t\\tdependency = this.loadAccessor( index );\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 'bufferView':\\n\\t\\t\\t\\t\\tdependency = this.loadBufferView( index );\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 'buffer':\\n\\t\\t\\t\\t\\tdependency = this.loadBuffer( index );\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 'material':\\n\\t\\t\\t\\t\\tdependency = this.loadMaterial( index );\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 'texture':\\n\\t\\t\\t\\t\\tdependency = this.loadTexture( index );\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 'skin':\\n\\t\\t\\t\\t\\tdependency = this.loadSkin( index );\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 'animation':\\n\\t\\t\\t\\t\\tdependency = this.loadAnimation( index );\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tcase 'camera':\\n\\t\\t\\t\\t\\tdependency = this.loadCamera( index );\\n\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\tdefault:\\n\\t\\t\\t\\t\\tthrow new Error( 'Unknown type: ' + type );\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tthis.cache.add( cacheKey, dependency );\\n\\n\\t\\t}\\n\\n\\t\\treturn dependency;\\n\\n\\t};\\n\\n\\t/**\\n\\t * Requests all dependencies of the specified type asynchronously, with caching.\\n\\t * @param {string} type\\n\\t * @return {Promise<Array<Object>>}\\n\\t */\\n\\tGLTFParser.prototype.getDependencies = function ( type ) {\\n\\n\\t\\tvar dependencies = this.cache.get( type );\\n\\n\\t\\tif ( ! dependencies ) {\\n\\n\\t\\t\\tvar parser = this;\\n\\t\\t\\tvar defs = this.json[ type + ( type === 'mesh' ? 'es' : 's' ) ] || [];\\n\\n\\t\\t\\tdependencies = Promise.all( defs.map( function ( def, index ) {\\n\\n\\t\\t\\t\\treturn parser.getDependency( type, index );\\n\\n\\t\\t\\t} ) );\\n\\n\\t\\t\\tthis.cache.add( type, dependencies );\\n\\n\\t\\t}\\n\\n\\t\\treturn dependencies;\\n\\n\\t};\\n\\n\\t/**\\n\\t * Requests all multiple dependencies of the specified types asynchronously, with caching.\\n\\t * @param {Array<string>} types\\n\\t * @return {Promise<Object<Array<Object>>>}\\n\\t */\\n\\tGLTFParser.prototype.getMultiDependencies = function ( types ) {\\n\\n\\t\\tvar results = {};\\n\\t\\tvar pendings = [];\\n\\n\\t\\tfor ( var i = 0, il = types.length; i < il; i ++ ) {\\n\\n\\t\\t\\tvar type = types[ i ];\\n\\t\\t\\tvar value = this.getDependencies( type );\\n\\n\\t\\t\\tvalue = value.then( function ( key, value ) {\\n\\n\\t\\t\\t\\tresults[ key ] = value;\\n\\n\\t\\t\\t}.bind( this, type + ( type === 'mesh' ? 'es' : 's' ) ) );\\n\\n\\t\\t\\tpendings.push( value );\\n\\n\\t\\t}\\n\\n\\t\\treturn Promise.all( pendings ).then( function () {\\n\\n\\t\\t\\treturn results;\\n\\n\\t\\t} );\\n\\n\\t};\\n\\n\\t/**\\n\\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\\n\\t * @param {number} bufferIndex\\n\\t * @return {Promise<ArrayBuffer>}\\n\\t */\\n\\tGLTFParser.prototype.loadBuffer = function ( bufferIndex ) {\\n\\n\\t\\tvar bufferDef = this.json.buffers[ bufferIndex ];\\n\\t\\tvar loader = this.fileLoader;\\n\\n\\t\\tif ( bufferDef.type && bufferDef.type !== 'arraybuffer' ) {\\n\\n\\t\\t\\tthrow new Error( 'THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.' );\\n\\n\\t\\t}\\n\\n\\t\\t// If present, GLB container is required to be the first buffer.\\n\\t\\tif ( bufferDef.uri === undefined && bufferIndex === 0 ) {\\n\\n\\t\\t\\treturn Promise.resolve( this.extensions[ EXTENSIONS.KHR_BINARY_GLTF ].body );\\n\\n\\t\\t}\\n\\n\\t\\tvar options = this.options;\\n\\n\\t\\treturn new Promise( function ( resolve, reject ) {\\n\\n\\t\\t\\tloader.load( resolveURL( bufferDef.uri, options.path ), resolve, undefined, function () {\\n\\n\\t\\t\\t\\treject( new Error( 'THREE.GLTFLoader: Failed to load buffer \\\"' + bufferDef.uri + '\\\".' ) );\\n\\n\\t\\t\\t} );\\n\\n\\t\\t} );\\n\\n\\t};\\n\\n\\t/**\\n\\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\\n\\t * @param {number} bufferViewIndex\\n\\t * @return {Promise<ArrayBuffer>}\\n\\t */\\n\\tGLTFParser.prototype.loadBufferView = function ( bufferViewIndex ) {\\n\\n\\t\\tvar bufferViewDef = this.json.bufferViews[ bufferViewIndex ];\\n\\n\\t\\treturn this.getDependency( 'buffer', bufferViewDef.buffer ).then( function ( buffer ) {\\n\\n\\t\\t\\tvar byteLength = bufferViewDef.byteLength || 0;\\n\\t\\t\\tvar byteOffset = bufferViewDef.byteOffset || 0;\\n\\t\\t\\treturn buffer.slice( byteOffset, byteOffset + byteLength );\\n\\n\\t\\t} );\\n\\n\\t};\\n\\n\\t/**\\n\\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\\n\\t * @param {number} accessorIndex\\n\\t * @return {Promise<THREE.BufferAttribute|THREE.InterleavedBufferAttribute>}\\n\\t */\\n\\tGLTFParser.prototype.loadAccessor = function ( accessorIndex ) {\\n\\n\\t\\tvar parser = this;\\n\\t\\tvar json = this.json;\\n\\n\\t\\tvar accessorDef = this.json.accessors[ accessorIndex ];\\n\\n\\t\\tif ( accessorDef.bufferView === undefined && accessorDef.sparse === undefined ) {\\n\\n\\t\\t\\t// Ignore empty accessors, which may be used to declare runtime\\n\\t\\t\\t// information about attributes coming from another source (e.g. Draco\\n\\t\\t\\t// compression extension).\\n\\t\\t\\treturn null;\\n\\n\\t\\t}\\n\\n\\t\\tvar pendingBufferViews = [];\\n\\n\\t\\tif ( accessorDef.bufferView !== undefined ) {\\n\\n\\t\\t\\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.bufferView ) );\\n\\n\\t\\t} else {\\n\\n\\t\\t\\tpendingBufferViews.push( null );\\n\\n\\t\\t}\\n\\n\\t\\tif ( accessorDef.sparse !== undefined ) {\\n\\n\\t\\t\\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.indices.bufferView ) );\\n\\t\\t\\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.values.bufferView ) );\\n\\n\\t\\t}\\n\\n\\t\\treturn Promise.all( pendingBufferViews ).then( function ( bufferViews ) {\\n\\n\\t\\t\\tvar bufferView = bufferViews[ 0 ];\\n\\n\\t\\t\\tvar itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\\n\\t\\t\\tvar TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\\n\\n\\t\\t\\t// For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\\n\\t\\t\\tvar elementBytes = TypedArray.BYTES_PER_ELEMENT;\\n\\t\\t\\tvar itemBytes = elementBytes * itemSize;\\n\\t\\t\\tvar byteOffset = accessorDef.byteOffset || 0;\\n\\t\\t\\tvar byteStride = json.bufferViews[ accessorDef.bufferView ].byteStride;\\n\\t\\t\\tvar normalized = accessorDef.normalized === true;\\n\\t\\t\\tvar array, bufferAttribute;\\n\\n\\t\\t\\t// The buffer is not interleaved if the stride is the item size in bytes.\\n\\t\\t\\tif ( byteStride && byteStride !== itemBytes ) {\\n\\n\\t\\t\\t\\tvar ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType;\\n\\t\\t\\t\\tvar ib = parser.cache.get( ibCacheKey );\\n\\n\\t\\t\\t\\tif ( ! ib ) {\\n\\n\\t\\t\\t\\t\\t// Use the full buffer if it's interleaved.\\n\\t\\t\\t\\t\\tarray = new TypedArray( bufferView );\\n\\n\\t\\t\\t\\t\\t// Integer parameters to IB/IBA are in array elements, not bytes.\\n\\t\\t\\t\\t\\tib = new THREE.InterleavedBuffer( array, byteStride / elementBytes );\\n\\n\\t\\t\\t\\t\\tparser.cache.add( ibCacheKey, ib );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tbufferAttribute = new THREE.InterleavedBufferAttribute( ib, itemSize, byteOffset / elementBytes, normalized );\\n\\n\\t\\t\\t} else {\\n\\n\\t\\t\\t\\tif ( bufferView === null ) {\\n\\n\\t\\t\\t\\t\\tarray = new TypedArray( accessorDef.count * itemSize );\\n\\n\\t\\t\\t\\t} else {\\n\\n\\t\\t\\t\\t\\tarray = new TypedArray( bufferView, byteOffset, accessorDef.count * itemSize );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tbufferAttribute = new THREE.BufferAttribute( array, itemSize, normalized );\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\t// https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\\n\\t\\t\\tif ( accessorDef.sparse !== undefined ) {\\n\\n\\t\\t\\t\\tvar itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\\n\\t\\t\\t\\tvar TypedArrayIndices = WEBGL_COMPONENT_TYPES[ accessorDef.sparse.indices.componentType ];\\n\\n\\t\\t\\t\\tvar byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\\n\\t\\t\\t\\tvar byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\\n\\n\\t\\t\\t\\tvar sparseIndices = new TypedArrayIndices( bufferViews[ 1 ], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices );\\n\\t\\t\\t\\tvar sparseValues = new TypedArray( bufferViews[ 2 ], byteOffsetValues, accessorDef.sparse.count * itemSize );\\n\\n\\t\\t\\t\\tif ( bufferView !== null ) {\\n\\n\\t\\t\\t\\t\\t// Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\\n\\t\\t\\t\\t\\tbufferAttribute.setArray( bufferAttribute.array.slice() );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tfor ( var i = 0, il = sparseIndices.length; i < il; i ++ ) {\\n\\n\\t\\t\\t\\t\\tvar index = sparseIndices[ i ];\\n\\n\\t\\t\\t\\t\\tbufferAttribute.setX( index, sparseValues[ i * itemSize ] );\\n\\t\\t\\t\\t\\tif ( itemSize >= 2 ) bufferAttribute.setY( index, sparseValues[ i * itemSize + 1 ] );\\n\\t\\t\\t\\t\\tif ( itemSize >= 3 ) bufferAttribute.setZ( index, sparseValues[ i * itemSize + 2 ] );\\n\\t\\t\\t\\t\\tif ( itemSize >= 4 ) bufferAttribute.setW( index, sparseValues[ i * itemSize + 3 ] );\\n\\t\\t\\t\\t\\tif ( itemSize >= 5 ) throw new Error( 'THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.' );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn bufferAttribute;\\n\\n\\t\\t} );\\n\\n\\t};\\n\\n\\t/**\\n\\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\\n\\t * @param {number} textureIndex\\n\\t * @return {Promise<THREE.Texture>}\\n\\t */\\n\\tGLTFParser.prototype.loadTexture = function ( textureIndex ) {\\n\\n\\t\\tvar parser = this;\\n\\t\\tvar json = this.json;\\n\\t\\tvar options = this.options;\\n\\t\\tvar textureLoader = this.textureLoader;\\n\\n\\t\\tvar URL = window.URL || window.webkitURL;\\n\\n\\t\\tvar textureDef = json.textures[ textureIndex ];\\n\\n\\t\\tvar textureExtensions = textureDef.extensions || {};\\n\\n\\t\\tvar source;\\n\\n\\t\\tif ( textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ] ) {\\n\\n\\t\\t\\tsource = json.images[ textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].source ];\\n\\n\\t\\t} else {\\n\\n\\t\\t\\tsource = json.images[ textureDef.source ];\\n\\n\\t\\t}\\n\\n\\t\\tvar sourceURI = source.uri;\\n\\t\\tvar isObjectURL = false;\\n\\n\\t\\tif ( source.bufferView !== undefined ) {\\n\\n\\t\\t\\t// Load binary image data from bufferView, if provided.\\n\\n\\t\\t\\tsourceURI = parser.getDependency( 'bufferView', source.bufferView ).then( function ( bufferView ) {\\n\\n\\t\\t\\t\\tisObjectURL = true;\\n\\t\\t\\t\\tvar blob = new Blob( [ bufferView ], { type: source.mimeType } );\\n\\t\\t\\t\\tsourceURI = URL.createObjectURL( blob );\\n\\t\\t\\t\\treturn sourceURI;\\n\\n\\t\\t\\t} );\\n\\n\\t\\t}\\n\\n\\t\\treturn Promise.resolve( sourceURI ).then( function ( sourceURI ) {\\n\\n\\t\\t\\t// Load Texture resource.\\n\\n\\t\\t\\tvar loader = THREE.Loader.Handlers.get( sourceURI );\\n\\n\\t\\t\\tif ( ! loader ) {\\n\\n\\t\\t\\t\\tloader = textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ]\\n\\t\\t\\t\\t\\t? parser.extensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].ddsLoader\\n\\t\\t\\t\\t\\t: textureLoader;\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn new Promise( function ( resolve, reject ) {\\n\\n\\t\\t\\t\\tloader.load( resolveURL( sourceURI, options.path ), resolve, undefined, reject );\\n\\n\\t\\t\\t} );\\n\\n\\t\\t} ).then( function ( texture ) {\\n\\n\\t\\t\\t// Clean up resources and configure Texture.\\n\\n\\t\\t\\tif ( isObjectURL === true ) {\\n\\n\\t\\t\\t\\tURL.revokeObjectURL( sourceURI );\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\ttexture.flipY = false;\\n\\n\\t\\t\\tif ( textureDef.name !== undefined ) texture.name = textureDef.name;\\n\\n\\t\\t\\t// .format of dds texture is set in DDSLoader\\n\\t\\t\\tif ( ! textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ] ) {\\n\\n\\t\\t\\t\\ttexture.format = textureDef.format !== undefined ? WEBGL_TEXTURE_FORMATS[ textureDef.format ] : THREE.RGBAFormat;\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tif ( textureDef.internalFormat !== undefined && texture.format !== WEBGL_TEXTURE_FORMATS[ textureDef.internalFormat ] ) {\\n\\n\\t\\t\\t\\tconsole.warn( 'THREE.GLTFLoader: Three.js does not support texture internalFormat which is different from texture format. ' +\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t'internalFormat will be forced to be the same value as format.' );\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\ttexture.type = textureDef.type !== undefined ? WEBGL_TEXTURE_DATATYPES[ textureDef.type ] : THREE.UnsignedByteType;\\n\\n\\t\\t\\tvar samplers = json.samplers || {};\\n\\t\\t\\tvar sampler = samplers[ textureDef.sampler ] || {};\\n\\n\\t\\t\\ttexture.magFilter = WEBGL_FILTERS[ sampler.magFilter ] || THREE.LinearFilter;\\n\\t\\t\\ttexture.minFilter = WEBGL_FILTERS[ sampler.minFilter ] || THREE.LinearMipMapLinearFilter;\\n\\t\\t\\ttexture.wrapS = WEBGL_WRAPPINGS[ sampler.wrapS ] || THREE.RepeatWrapping;\\n\\t\\t\\ttexture.wrapT = WEBGL_WRAPPINGS[ sampler.wrapT ] || THREE.RepeatWrapping;\\n\\n\\t\\t\\treturn texture;\\n\\n\\t\\t} );\\n\\n\\t};\\n\\n\\t/**\\n\\t * Asynchronously assigns a texture to the given material parameters.\\n\\t * @param {Object} materialParams\\n\\t * @param {string} textureName\\n\\t * @param {number} textureIndex\\n\\t * @return {Promise}\\n\\t */\\n\\tGLTFParser.prototype.assignTexture = function ( materialParams, textureName, textureIndex ) {\\n\\n\\t\\treturn this.getDependency( 'texture', textureIndex ).then( function ( texture ) {\\n\\n\\t\\t\\tmaterialParams[ textureName ] = texture;\\n\\n\\t\\t} );\\n\\n\\t};\\n\\n\\t/**\\n\\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\\n\\t * @param {number} materialIndex\\n\\t * @return {Promise<THREE.Material>}\\n\\t */\\n\\tGLTFParser.prototype.loadMaterial = function ( materialIndex ) {\\n\\n\\t\\tvar parser = this;\\n\\t\\tvar extensions = this.extensions;\\n\\t\\tvar materialDef = this.json.materials[ materialIndex ];\\n\\n\\t\\tvar materialType;\\n\\t\\tvar materialParams = {};\\n\\t\\tvar materialExtensions = materialDef.extensions || {};\\n\\n\\t\\tvar pending = [];\\n\\n\\t\\tif ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ] ) {\\n\\n\\t\\t\\tvar sgExtension = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ];\\n\\t\\t\\tmaterialType = sgExtension.getMaterialType( materialDef );\\n\\t\\t\\tpending.push( sgExtension.extendParams( materialParams, materialDef, parser ) );\\n\\n\\t\\t} else if ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ] ) {\\n\\n\\t\\t\\tvar kmuExtension = extensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ];\\n\\t\\t\\tmaterialType = kmuExtension.getMaterialType( materialDef );\\n\\t\\t\\tpending.push( kmuExtension.extendParams( materialParams, materialDef, parser ) );\\n\\n\\t\\t} else {\\n\\n\\t\\t\\t// Specification:\\n\\t\\t\\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\\n\\n\\t\\t\\tmaterialType = THREE.MeshStandardMaterial;\\n\\n\\t\\t\\tvar metallicRoughness = materialDef.pbrMetallicRoughness || {};\\n\\n\\t\\t\\tmaterialParams.color = new THREE.Color( 1.0, 1.0, 1.0 );\\n\\t\\t\\tmaterialParams.opacity = 1.0;\\n\\n\\t\\t\\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\\n\\n\\t\\t\\t\\tvar array = metallicRoughness.baseColorFactor;\\n\\n\\t\\t\\t\\tmaterialParams.color.fromArray( array );\\n\\t\\t\\t\\tmaterialParams.opacity = array[ 3 ];\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tif ( metallicRoughness.baseColorTexture !== undefined ) {\\n\\n\\t\\t\\t\\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture.index ) );\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tmaterialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\\n\\t\\t\\tmaterialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\\n\\n\\t\\t\\tif ( metallicRoughness.metallicRoughnessTexture !== undefined ) {\\n\\n\\t\\t\\t\\tvar textureIndex = metallicRoughness.metallicRoughnessTexture.index;\\n\\t\\t\\t\\tpending.push( parser.assignTexture( materialParams, 'metalnessMap', textureIndex ) );\\n\\t\\t\\t\\tpending.push( parser.assignTexture( materialParams, 'roughnessMap', textureIndex ) );\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\tif ( materialDef.doubleSided === true ) {\\n\\n\\t\\t\\tmaterialParams.side = THREE.DoubleSide;\\n\\n\\t\\t}\\n\\n\\t\\tvar alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\\n\\n\\t\\tif ( alphaMode === ALPHA_MODES.BLEND ) {\\n\\n\\t\\t\\tmaterialParams.transparent = true;\\n\\n\\t\\t} else {\\n\\n\\t\\t\\tmaterialParams.transparent = false;\\n\\n\\t\\t\\tif ( alphaMode === ALPHA_MODES.MASK ) {\\n\\n\\t\\t\\t\\tmaterialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\tif ( materialDef.normalTexture !== undefined && materialType !== THREE.MeshBasicMaterial) {\\n\\n\\t\\t\\tpending.push( parser.assignTexture( materialParams, 'normalMap', materialDef.normalTexture.index ) );\\n\\n\\t\\t\\tmaterialParams.normalScale = new THREE.Vector2( 1, 1 );\\n\\n\\t\\t\\tif ( materialDef.normalTexture.scale !== undefined ) {\\n\\n\\t\\t\\t\\tmaterialParams.normalScale.set( materialDef.normalTexture.scale, materialDef.normalTexture.scale );\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\tif ( materialDef.occlusionTexture !== undefined && materialType !== THREE.MeshBasicMaterial) {\\n\\n\\t\\t\\tpending.push( parser.assignTexture( materialParams, 'aoMap', materialDef.occlusionTexture.index ) );\\n\\n\\t\\t\\tif ( materialDef.occlusionTexture.strength !== undefined ) {\\n\\n\\t\\t\\t\\tmaterialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\tif ( materialDef.emissiveFactor !== undefined && materialType !== THREE.MeshBasicMaterial) {\\n\\n\\t\\t\\tmaterialParams.emissive = new THREE.Color().fromArray( materialDef.emissiveFactor );\\n\\n\\t\\t}\\n\\n\\t\\tif ( materialDef.emissiveTexture !== undefined && materialType !== THREE.MeshBasicMaterial) {\\n\\n\\t\\t\\tpending.push( parser.assignTexture( materialParams, 'emissiveMap', materialDef.emissiveTexture.index ) );\\n\\n\\t\\t}\\n\\n\\t\\treturn Promise.all( pending ).then( function () {\\n\\n\\t\\t\\tvar material;\\n\\n\\t\\t\\tif ( materialType === THREE.ShaderMaterial ) {\\n\\n\\t\\t\\t\\tmaterial = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].createMaterial( materialParams );\\n\\n\\t\\t\\t} else {\\n\\n\\t\\t\\t\\tmaterial = new materialType( materialParams );\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tif ( materialDef.name !== undefined ) material.name = materialDef.name;\\n\\n\\t\\t\\t// Normal map textures use OpenGL conventions:\\n\\t\\t\\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#materialnormaltexture\\n\\t\\t\\tif ( material.normalScale ) {\\n\\n\\t\\t\\t\\tmaterial.normalScale.y = - material.normalScale.y;\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\t// emissiveTexture and baseColorTexture use sRGB encoding.\\n\\t\\t\\tif ( material.map ) material.map.encoding = THREE.sRGBEncoding;\\n\\t\\t\\tif ( material.emissiveMap ) material.emissiveMap.encoding = THREE.sRGBEncoding;\\n\\n\\t\\t\\tif ( materialDef.extras ) material.userData = materialDef.extras;\\n\\n\\t\\t\\treturn material;\\n\\n\\t\\t} );\\n\\n\\t};\\n\\n\\t/**\\n\\t * @param  {THREE.BufferGeometry} geometry\\n\\t * @param  {GLTF.Primitive} primitiveDef\\n\\t * @param  {Array<THREE.BufferAttribute>} accessors\\n\\t */\\n\\tfunction addPrimitiveAttributes ( geometry, primitiveDef, accessors ) {\\n\\n\\t\\tvar attributes = primitiveDef.attributes;\\n\\n\\t\\tfor ( var gltfAttributeName in attributes ) {\\n\\n\\t\\t\\tvar threeAttributeName = ATTRIBUTES[ gltfAttributeName ];\\n\\t\\t\\tvar bufferAttribute = accessors[ attributes[ gltfAttributeName ] ];\\n\\n\\t\\t\\t// Skip attributes already provided by e.g. Draco extension.\\n\\t\\t\\tif ( !threeAttributeName ) continue;\\n\\t\\t\\tif ( threeAttributeName in geometry.attributes ) continue;\\n\\n\\t\\t\\tgeometry.addAttribute( threeAttributeName, bufferAttribute );\\n\\n\\t\\t}\\n\\n\\t\\tif ( primitiveDef.indices !== undefined && !geometry.index ) {\\n\\n\\t\\t\\tgeometry.setIndex( accessors[ primitiveDef.indices ] );\\n\\n\\t\\t}\\n\\n\\t}\\n\\n\\t/**\\n\\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\\n\\t * @param {Array<Object>} primitives\\n\\t * @return {Promise<Array<THREE.BufferGeometry>>}\\n\\t */\\n\\tGLTFParser.prototype.loadGeometries = function ( primitives ) {\\n\\n\\t\\tvar parser = this;\\n\\t\\tvar extensions = this.extensions;\\n\\t\\tvar cache = this.primitiveCache;\\n\\n\\n\\n\\t\\treturn this.getDependencies( 'accessor' ).then( function ( accessors ) {\\n\\n\\t\\t\\tfunction addPrimitives (geometry) {\\n\\t\\t\\t\\taddPrimitiveAttributes( geometry, primitive, accessors );\\n\\t\\t\\t\\treturn geometry;\\n\\t\\t\\t};\\n\\n\\t\\t\\tvar pending = [];\\n\\t\\t\\tvar geometryPromise = null;\\n\\n\\t\\t\\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\\n\\n\\t\\t\\t\\tvar primitive = primitives[ i ];\\n\\n\\t\\t\\t\\t// See if we've already created this geometry\\n\\t\\t\\t\\tvar cached = getCachedGeometry( cache, primitive );\\n\\n\\t\\t\\t\\tif ( cached ) {\\n\\n\\t\\t\\t\\t\\t// Use the cached geometry if it exists\\n\\t\\t\\t\\t\\tpending.push( cached );\\n\\n\\t\\t\\t\\t} else if ( primitive.extensions && primitive.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] ) {\\n\\n\\t\\t\\t\\t\\t// Use DRACO geometry if available\\n\\t\\t\\t\\t\\tgeometryPromise = extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ]\\n\\t\\t\\t\\t\\t\\t.decodePrimitive( primitive, parser )\\n\\t\\t\\t\\t\\t\\t.then(addPrimitives);\\n\\n\\t\\t\\t\\t\\tcache.push( { primitive: primitive, promise: geometryPromise } );\\n\\n\\t\\t\\t\\t\\tpending.push( geometryPromise );\\n\\n\\t\\t\\t\\t} else {\\n\\n\\t\\t\\t\\t\\t// Otherwise create a new geometry\\n\\t\\t\\t\\t\\tvar geometry = new THREE.BufferGeometry();\\n\\n\\t\\t\\t\\t\\taddPrimitiveAttributes( geometry, primitive, accessors );\\n\\n\\t\\t\\t\\t\\tgeometryPromise = Promise.resolve( geometry );\\n\\n\\t\\t\\t\\t\\t// Cache this geometry\\n\\t\\t\\t\\t\\tcache.push( {\\n\\n\\t\\t\\t\\t\\t\\tprimitive: primitive,\\n\\t\\t\\t\\t\\t\\tpromise: geometryPromise\\n\\n\\t\\t\\t\\t\\t} );\\n\\n\\t\\t\\t\\t\\tpending.push( geometryPromise );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn Promise.all( pending );\\n\\n\\t\\t} );\\n\\n\\t};\\n\\n\\t/**\\n\\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\\n\\t * @param {number} meshIndex\\n\\t * @return {Promise<THREE.Group|THREE.Mesh|THREE.SkinnedMesh>}\\n\\t */\\n\\tGLTFParser.prototype.loadMesh = function ( meshIndex ) {\\n\\n\\t\\tvar scope = this;\\n\\t\\tvar extensions = this.extensions;\\n\\n\\t\\tvar meshDef = this.json.meshes[ meshIndex ];\\n\\n\\t\\treturn this.getMultiDependencies( [\\n\\n\\t\\t\\t'accessor',\\n\\t\\t\\t'material'\\n\\n\\t\\t] ).then( function ( dependencies ) {\\n\\n\\t\\t\\tvar group = new THREE.Group();\\n\\n\\t\\t\\tvar primitives = meshDef.primitives;\\n\\n\\t\\t\\treturn scope.loadGeometries( primitives ).then( function ( geometries ) {\\n\\n\\t\\t\\t\\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\\n\\n\\t\\t\\t\\t\\tvar primitive = primitives[ i ];\\n\\t\\t\\t\\t\\tvar geometry = geometries[ i ];\\n\\n\\t\\t\\t\\t\\tvar material = primitive.material === undefined\\n\\t\\t\\t\\t\\t\\t? createDefaultMaterial()\\n\\t\\t\\t\\t\\t\\t: dependencies.materials[ primitive.material ];\\n\\n\\t\\t\\t\\t\\tif ( material.aoMap\\n\\t\\t\\t\\t\\t\\t\\t&& geometry.attributes.uv2 === undefined\\n\\t\\t\\t\\t\\t\\t\\t&& geometry.attributes.uv !== undefined ) {\\n\\n\\t\\t\\t\\t\\t\\tconsole.log( 'THREE.GLTFLoader: Duplicating UVs to support aoMap.' );\\n\\t\\t\\t\\t\\t\\tgeometry.addAttribute( 'uv2', new THREE.BufferAttribute( geometry.attributes.uv.array, 2 ) );\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// If the material will be modified later on, clone it now.\\n\\t\\t\\t\\t\\tvar useVertexColors = geometry.attributes.color !== undefined;\\n\\t\\t\\t\\t\\tvar useFlatShading = geometry.attributes.normal === undefined;\\n\\t\\t\\t\\t\\tvar useSkinning = meshDef.isSkinnedMesh === true;\\n\\t\\t\\t\\t\\tvar useMorphTargets = primitive.targets !== undefined;\\n\\n\\t\\t\\t\\t\\tif ( useVertexColors || useFlatShading || useSkinning || useMorphTargets ) {\\n\\n\\t\\t\\t\\t\\t\\tif ( material.isGLTFSpecularGlossinessMaterial ) {\\n\\n\\t\\t\\t\\t\\t\\t\\tvar specGlossExtension = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ];\\n\\t\\t\\t\\t\\t\\t\\tmaterial = specGlossExtension.cloneMaterial( material );\\n\\n\\t\\t\\t\\t\\t\\t} else {\\n\\n\\t\\t\\t\\t\\t\\t\\tmaterial = material.clone();\\n\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif ( useVertexColors ) {\\n\\n\\t\\t\\t\\t\\t\\tmaterial.vertexColors = THREE.VertexColors;\\n\\t\\t\\t\\t\\t\\tmaterial.needsUpdate = true;\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif ( useFlatShading ) {\\n\\n\\t\\t\\t\\t\\t\\tmaterial.flatShading = true;\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tvar mesh;\\n\\t\\t\\t\\t\\tvar cacheKey;\\n\\n\\t\\t\\t\\t\\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\\n\\t\\t\\t\\t\\t\\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\\n\\t\\t\\t\\t\\t\\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\\n\\t\\t\\t\\t\\t\\tprimitive.mode === undefined ) {\\n\\n\\t\\t\\t\\t\\t\\tif ( useSkinning ) {\\n\\n\\t\\t\\t\\t\\t\\t\\tmesh = new THREE.SkinnedMesh( geometry, material );\\n\\t\\t\\t\\t\\t\\t\\tmaterial.skinning = true;\\n\\n\\t\\t\\t\\t\\t\\t} else {\\n\\n\\t\\t\\t\\t\\t\\t\\tmesh = new THREE.Mesh( geometry, material );\\n\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ) {\\n\\n\\t\\t\\t\\t\\t\\t\\tmesh.drawMode = THREE.TriangleStripDrawMode;\\n\\n\\t\\t\\t\\t\\t\\t} else if ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ) {\\n\\n\\t\\t\\t\\t\\t\\t\\tmesh.drawMode = THREE.TriangleFanDrawMode;\\n\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINES ||\\n\\t\\t\\t\\t\\t\\tprimitive.mode === WEBGL_CONSTANTS.LINE_STRIP ||\\n\\t\\t\\t\\t\\t\\tprimitive.mode === WEBGL_CONSTANTS.LINE_LOOP ) {\\n\\n\\t\\t\\t\\t\\t\\tcacheKey = 'LineBasicMaterial:' + material.uuid;\\n\\n\\t\\t\\t\\t\\t\\tvar lineMaterial = scope.cache.get( cacheKey );\\n\\n\\t\\t\\t\\t\\t\\tif ( ! lineMaterial ) {\\n\\n\\t\\t\\t\\t\\t\\t\\tlineMaterial = new THREE.LineBasicMaterial();\\n\\t\\t\\t\\t\\t\\t\\tTHREE.Material.prototype.copy.call( lineMaterial, material );\\n\\t\\t\\t\\t\\t\\t\\tlineMaterial.color.copy( material.color );\\n\\t\\t\\t\\t\\t\\t\\tlineMaterial.lights = false;  // LineBasicMaterial doesn't support lights yet\\n\\n\\t\\t\\t\\t\\t\\t\\tscope.cache.add( cacheKey, lineMaterial );\\n\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tmaterial = lineMaterial;\\n\\n\\t\\t\\t\\t\\t\\tif ( primitive.mode === WEBGL_CONSTANTS.LINES ) {\\n\\n\\t\\t\\t\\t\\t\\t\\tmesh = new THREE.LineSegments( geometry, material );\\n\\n\\t\\t\\t\\t\\t\\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_STRIP ) {\\n\\n\\t\\t\\t\\t\\t\\t\\tmesh = new THREE.Line( geometry, material );\\n\\n\\t\\t\\t\\t\\t\\t} else {\\n\\n\\t\\t\\t\\t\\t\\t\\tmesh = new THREE.LineLoop( geometry, material );\\n\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t} else if ( primitive.mode === WEBGL_CONSTANTS.POINTS ) {\\n\\n\\t\\t\\t\\t\\t\\tcacheKey = 'PointsMaterial:' + material.uuid;\\n\\n\\t\\t\\t\\t\\t\\tvar pointsMaterial = scope.cache.get( cacheKey );\\n\\n\\t\\t\\t\\t\\t\\tif ( ! pointsMaterial ) {\\n\\n\\t\\t\\t\\t\\t\\t\\tpointsMaterial = new THREE.PointsMaterial();\\n\\t\\t\\t\\t\\t\\t\\tTHREE.Material.prototype.copy.call( pointsMaterial, material );\\n\\t\\t\\t\\t\\t\\t\\tpointsMaterial.color.copy( material.color );\\n\\t\\t\\t\\t\\t\\t\\tpointsMaterial.map = material.map;\\n\\t\\t\\t\\t\\t\\t\\tpointsMaterial.lights = false;  // PointsMaterial doesn't support lights yet\\n\\n\\t\\t\\t\\t\\t\\t\\tscope.cache.add( cacheKey, pointsMaterial );\\n\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tmaterial = pointsMaterial;\\n\\n\\t\\t\\t\\t\\t\\tmesh = new THREE.Points( geometry, material );\\n\\n\\t\\t\\t\\t\\t} else {\\n\\n\\t\\t\\t\\t\\t\\tthrow new Error( 'THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode );\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tmesh.name = meshDef.name || ( 'mesh_' + meshIndex );\\n\\n\\t\\t\\t\\t\\tif ( useMorphTargets ) {\\n\\n\\t\\t\\t\\t\\t\\taddMorphTargets( mesh, meshDef, primitive, dependencies.accessors );\\n\\n\\t\\t\\t\\t\\t\\tmaterial.morphTargets = true;\\n\\n\\t\\t\\t\\t\\t\\tif ( mesh.geometry.morphAttributes.normal !== undefined ) material.morphNormals = true;\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif ( meshDef.extras !== undefined ) mesh.userData = meshDef.extras;\\n\\t\\t\\t\\t\\tif ( primitive.extras !== undefined ) mesh.geometry.userData = primitive.extras;\\n\\n\\t\\t\\t\\t\\t// for Specular-Glossiness.\\n\\t\\t\\t\\t\\tif ( material.isGLTFSpecularGlossinessMaterial === true ) {\\n\\n\\t\\t\\t\\t\\t\\tmesh.onBeforeRender = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].refreshUniforms;\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tif ( primitives.length > 1 ) {\\n\\n\\t\\t\\t\\t\\t\\tmesh.name += '_' + i;\\n\\n\\t\\t\\t\\t\\t\\tgroup.add( mesh );\\n\\n\\t\\t\\t\\t\\t} else {\\n\\n\\t\\t\\t\\t\\t\\treturn mesh;\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn group;\\n\\n\\t\\t\\t} );\\n\\n\\t\\t} );\\n\\n\\t};\\n\\n\\t/**\\n\\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\\n\\t * @param {number} cameraIndex\\n\\t * @return {Promise<THREE.Camera>}\\n\\t */\\n\\tGLTFParser.prototype.loadCamera = function ( cameraIndex ) {\\n\\n\\t\\tvar camera;\\n\\t\\tvar cameraDef = this.json.cameras[ cameraIndex ];\\n\\t\\tvar params = cameraDef[ cameraDef.type ];\\n\\n\\t\\tif ( ! params ) {\\n\\n\\t\\t\\tconsole.warn( 'THREE.GLTFLoader: Missing camera parameters.' );\\n\\t\\t\\treturn;\\n\\n\\t\\t}\\n\\n\\t\\tif ( cameraDef.type === 'perspective' ) {\\n\\n\\t\\t\\tcamera = new THREE.PerspectiveCamera( THREE.Math.radToDeg( params.yfov ), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6 );\\n\\n\\t\\t} else if ( cameraDef.type === 'orthographic' ) {\\n\\n\\t\\t\\tcamera = new THREE.OrthographicCamera( params.xmag / - 2, params.xmag / 2, params.ymag / 2, params.ymag / - 2, params.znear, params.zfar );\\n\\n\\t\\t}\\n\\n\\t\\tif ( cameraDef.name !== undefined ) camera.name = cameraDef.name;\\n\\t\\tif ( cameraDef.extras ) camera.userData = cameraDef.extras;\\n\\n\\t\\treturn Promise.resolve( camera );\\n\\n\\t};\\n\\n\\t/**\\n\\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\\n\\t * @param {number} skinIndex\\n\\t * @return {Promise<Object>}\\n\\t */\\n\\tGLTFParser.prototype.loadSkin = function ( skinIndex ) {\\n\\n\\t\\tvar skinDef = this.json.skins[ skinIndex ];\\n\\n\\t\\tvar skinEntry = { joints: skinDef.joints };\\n\\n\\t\\tif ( skinDef.inverseBindMatrices === undefined ) {\\n\\n\\t\\t\\treturn Promise.resolve( skinEntry );\\n\\n\\t\\t}\\n\\n\\t\\treturn this.getDependency( 'accessor', skinDef.inverseBindMatrices ).then( function ( accessor ) {\\n\\n\\t\\t\\tskinEntry.inverseBindMatrices = accessor;\\n\\n\\t\\t\\treturn skinEntry;\\n\\n\\t\\t} );\\n\\n\\t};\\n\\n\\t/**\\n\\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\\n\\t * @param {number} animationIndex\\n\\t * @return {Promise<THREE.AnimationClip>}\\n\\t */\\n\\tGLTFParser.prototype.loadAnimation = function ( animationIndex ) {\\n\\n\\t\\tvar animationDef = this.json.animations[ animationIndex ];\\n\\n\\t\\treturn this.getMultiDependencies( [\\n\\n\\t\\t\\t'accessor',\\n\\t\\t\\t'node'\\n\\n\\t\\t] ).then( function ( dependencies ) {\\n\\n\\t\\t\\tvar tracks = [];\\n\\n\\t\\t\\tfunction pushToTargetNames ( object ) {\\n\\t\\t\\t\\tif ( object.isMesh === true && object.material.morphTargets === true ) {\\n\\n\\t\\t\\t\\t\\ttargetNames.push( object.name ? object.name : object.uuid );\\n\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfor ( var i = 0, il = animationDef.channels.length; i < il; i ++ ) {\\n\\n\\t\\t\\t\\tvar channel = animationDef.channels[ i ];\\n\\t\\t\\t\\tvar sampler = animationDef.samplers[ channel.sampler ];\\n\\t\\t\\t\\tvar name;\\n\\n\\t\\t\\t\\tif ( sampler ) {\\n\\n\\t\\t\\t\\t\\tvar target = channel.target;\\n\\t\\t\\t\\t\\tname = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\\n\\t\\t\\t\\t\\tvar input = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.input ] : sampler.input;\\n\\t\\t\\t\\t\\tvar output = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.output ] : sampler.output;\\n\\n\\t\\t\\t\\t\\tvar inputAccessor = dependencies.accessors[ input ];\\n\\t\\t\\t\\t\\tvar outputAccessor = dependencies.accessors[ output ];\\n\\n\\t\\t\\t\\t\\tvar node = dependencies.nodes[ name ];\\n\\n\\t\\t\\t\\t\\tif ( node ) {\\n\\n\\t\\t\\t\\t\\t\\tnode.updateMatrix();\\n\\t\\t\\t\\t\\t\\tnode.matrixAutoUpdate = true;\\n\\n\\t\\t\\t\\t\\t\\tvar TypedKeyframeTrack;\\n\\n\\t\\t\\t\\t\\t\\tswitch ( PATH_PROPERTIES[ target.path ] ) {\\n\\n\\t\\t\\t\\t\\t\\t\\tcase PATH_PROPERTIES.weights:\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tTypedKeyframeTrack = THREE.NumberKeyframeTrack;\\n\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\t\\t\\tcase PATH_PROPERTIES.rotation:\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tTypedKeyframeTrack = THREE.QuaternionKeyframeTrack;\\n\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\t\\t\\tcase PATH_PROPERTIES.position:\\n\\t\\t\\t\\t\\t\\t\\tcase PATH_PROPERTIES.scale:\\n\\t\\t\\t\\t\\t\\t\\tdefault:\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tTypedKeyframeTrack = THREE.VectorKeyframeTrack;\\n\\t\\t\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tvar targetName = node.name ? node.name : node.uuid;\\n\\n\\t\\t\\t\\t\\t\\tvar interpolation = sampler.interpolation !== undefined ? INTERPOLATION[ sampler.interpolation ] : THREE.InterpolateLinear;\\n\\n\\t\\t\\t\\t\\t\\tvar targetNames = [];\\n\\n\\t\\t\\t\\t\\t\\tif ( PATH_PROPERTIES[ target.path ] === PATH_PROPERTIES.weights ) {\\n\\n\\t\\t\\t\\t\\t\\t\\t// node should be THREE.Group here but\\n\\t\\t\\t\\t\\t\\t\\t// PATH_PROPERTIES.weights(morphTargetInfluences) should be\\n\\t\\t\\t\\t\\t\\t\\t// the property of a mesh object under node.\\n\\t\\t\\t\\t\\t\\t\\t// So finding targets here.\\n\\n\\t\\t\\t\\t\\t\\t\\tnode.traverse( pushToTargetNames );\\n\\n\\t\\t\\t\\t\\t\\t} else {\\n\\n\\t\\t\\t\\t\\t\\t\\ttargetNames.push( targetName );\\n\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// KeyframeTrack.optimize() will modify given 'times' and 'values'\\n\\t\\t\\t\\t\\t\\t// buffers before creating a truncated copy to keep. Because buffers may\\n\\t\\t\\t\\t\\t\\t// be reused by other tracks, make copies here.\\n\\t\\t\\t\\t\\t\\tfor ( var j = 0, jl = targetNames.length; j < jl; j ++ ) {\\n\\n\\t\\t\\t\\t\\t\\t\\tvar track = new TypedKeyframeTrack(\\n\\t\\t\\t\\t\\t\\t\\t\\ttargetNames[ j ] + '.' + PATH_PROPERTIES[ target.path ],\\n\\t\\t\\t\\t\\t\\t\\t\\tTHREE.AnimationUtils.arraySlice( inputAccessor.array, 0 ),\\n\\t\\t\\t\\t\\t\\t\\t\\tTHREE.AnimationUtils.arraySlice( outputAccessor.array, 0 ),\\n\\t\\t\\t\\t\\t\\t\\t\\tinterpolation\\n\\t\\t\\t\\t\\t\\t\\t);\\n\\n\\t\\t\\t\\t\\t\\t\\t// Here is the trick to enable custom interpolation.\\n\\t\\t\\t\\t\\t\\t\\t// Overrides .createInterpolant in a factory method which creates custom interpolation.\\n\\t\\t\\t\\t\\t\\t\\tif ( sampler.interpolation === 'CUBICSPLINE' ) {\\n\\n\\t\\t\\t\\t\\t\\t\\t\\ttrack.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline( result ) {\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// A CUBICSPLINE keyframe in glTF has three output values for each input value,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t// must be divided by three to get the interpolant's sampleSize argument.\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\treturn new GLTFCubicSplineInterpolant( this.times, this.values, this.getValueSize() / 3, result );\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t};\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t// Workaround, provide an alternate way to know if the interpolant type is cubis spline to track.\\n\\t\\t\\t\\t\\t\\t\\t\\t// track.getInterpolation() doesn't return valid value for custom interpolant.\\n\\t\\t\\t\\t\\t\\t\\t\\ttrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\\n\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\ttracks.push( track );\\n\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tname = animationDef.name !== undefined ? animationDef.name : 'animation_' + animationIndex;\\n\\n\\t\\t\\treturn new THREE.AnimationClip( name, undefined, tracks );\\n\\n\\t\\t} );\\n\\n\\t};\\n\\n\\t/**\\n\\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\\n\\t * @param {number} nodeIndex\\n\\t * @return {Promise<THREE.Object3D>}\\n\\t */\\n\\tGLTFParser.prototype.loadNode = function ( nodeIndex ) {\\n\\n\\t\\tvar extensions = this.extensions;\\n\\n\\t\\tvar meshReferences = this.json.meshReferences;\\n\\t\\tvar meshUses = this.json.meshUses;\\n\\n\\t\\tvar nodeDef = this.json.nodes[ nodeIndex ];\\n\\n\\t\\treturn this.getMultiDependencies( [\\n\\n\\t\\t\\t'mesh',\\n\\t\\t\\t'skin',\\n\\t\\t\\t'camera',\\n\\t\\t\\t'light'\\n\\n\\t\\t] ).then( function ( dependencies ) {\\n\\n\\t\\t\\tvar node;\\n\\n\\t\\t\\tif ( nodeDef.isBone === true ) {\\n\\n\\t\\t\\t\\tnode = new THREE.Bone();\\n\\n\\t\\t\\t} else if ( nodeDef.mesh !== undefined ) {\\n\\n\\t\\t\\t\\tvar mesh = dependencies.meshes[ nodeDef.mesh ];\\n\\n\\t\\t\\t\\tnode = mesh.clone();\\n\\n\\t\\t\\t\\t// for Specular-Glossiness\\n\\t\\t\\t\\tif ( mesh.isGroup === true ) {\\n\\n\\t\\t\\t\\t\\tfor ( var i = 0, il = mesh.children.length; i < il; i ++ ) {\\n\\n\\t\\t\\t\\t\\t\\tvar child = mesh.children[ i ];\\n\\n\\t\\t\\t\\t\\t\\tif ( child.material && child.material.isGLTFSpecularGlossinessMaterial === true ) {\\n\\n\\t\\t\\t\\t\\t\\t\\tnode.children[ i ].onBeforeRender = child.onBeforeRender;\\n\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t} else {\\n\\n\\t\\t\\t\\t\\tif ( mesh.material && mesh.material.isGLTFSpecularGlossinessMaterial === true ) {\\n\\n\\t\\t\\t\\t\\t\\tnode.onBeforeRender = mesh.onBeforeRender;\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif ( meshReferences[ nodeDef.mesh ] > 1 ) {\\n\\n\\t\\t\\t\\t\\tnode.name += '_instance_' + meshUses[ nodeDef.mesh ] ++;\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t} else if ( nodeDef.camera !== undefined ) {\\n\\n\\t\\t\\t\\tnode = dependencies.cameras[ nodeDef.camera ];\\n\\n\\t\\t\\t} else if ( nodeDef.extensions\\n\\t\\t\\t\\t\\t && nodeDef.extensions[ EXTENSIONS.KHR_LIGHTS ]\\n\\t\\t\\t\\t\\t && nodeDef.extensions[ EXTENSIONS.KHR_LIGHTS ].light !== undefined ) {\\n\\n\\t\\t\\t\\tvar lights = extensions[ EXTENSIONS.KHR_LIGHTS ].lights;\\n\\t\\t\\t\\tnode = lights[ nodeDef.extensions[ EXTENSIONS.KHR_LIGHTS ].light ];\\n\\n\\t\\t\\t} else {\\n\\n\\t\\t\\t\\tnode = new THREE.Object3D();\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tif ( nodeDef.name !== undefined ) {\\n\\n\\t\\t\\t\\tnode.name = THREE.PropertyBinding.sanitizeNodeName( nodeDef.name );\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tif ( nodeDef.extras ) node.userData = nodeDef.extras;\\n\\n\\t\\t\\tif ( nodeDef.matrix !== undefined ) {\\n\\n\\t\\t\\t\\tvar matrix = new THREE.Matrix4();\\n\\t\\t\\t\\tmatrix.fromArray( nodeDef.matrix );\\n\\t\\t\\t\\tnode.applyMatrix( matrix );\\n\\n\\t\\t\\t} else {\\n\\n\\t\\t\\t\\tif ( nodeDef.translation !== undefined ) {\\n\\n\\t\\t\\t\\t\\tnode.position.fromArray( nodeDef.translation );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif ( nodeDef.rotation !== undefined ) {\\n\\n\\t\\t\\t\\t\\tnode.quaternion.fromArray( nodeDef.rotation );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif ( nodeDef.scale !== undefined ) {\\n\\n\\t\\t\\t\\t\\tnode.scale.fromArray( nodeDef.scale );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn node;\\n\\n\\t\\t} );\\n\\n\\t};\\n\\n\\t/**\\n\\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\\n\\t * @param {number} sceneIndex\\n\\t * @return {Promise<THREE.Scene>}\\n\\t */\\n\\tGLTFParser.prototype.loadScene = function () {\\n\\n\\t\\t// scene node hierachy builder\\n\\n\\t\\tfunction buildNodeHierachy( nodeId, parentObject, json, allNodes, skins ) {\\n\\n\\t\\t\\tvar node = allNodes[ nodeId ];\\n\\t\\t\\tvar nodeDef = json.nodes[ nodeId ];\\n\\n\\t\\t\\t// build skeleton here as well\\n\\n\\t\\t\\tif ( nodeDef.skin !== undefined ) {\\n\\n\\t\\t\\t\\tvar meshes = node.isGroup === true ? node.children : [ node ];\\n\\n\\t\\t\\t\\tfor ( var i = 0, il = meshes.length; i < il; i ++ ) {\\n\\n\\t\\t\\t\\t\\tvar mesh = meshes[ i ];\\n\\t\\t\\t\\t\\tvar skinEntry = skins[ nodeDef.skin ];\\n\\n\\t\\t\\t\\t\\tvar bones = [];\\n\\t\\t\\t\\t\\tvar boneInverses = [];\\n\\n\\t\\t\\t\\t\\tfor ( var j = 0, jl = skinEntry.joints.length; j < jl; j ++ ) {\\n\\n\\t\\t\\t\\t\\t\\tvar jointId = skinEntry.joints[ j ];\\n\\t\\t\\t\\t\\t\\tvar jointNode = allNodes[ jointId ];\\n\\n\\t\\t\\t\\t\\t\\tif ( jointNode ) {\\n\\n\\t\\t\\t\\t\\t\\t\\tbones.push( jointNode );\\n\\n\\t\\t\\t\\t\\t\\t\\tvar mat = new THREE.Matrix4();\\n\\n\\t\\t\\t\\t\\t\\t\\tif ( skinEntry.inverseBindMatrices !== undefined ) {\\n\\n\\t\\t\\t\\t\\t\\t\\t\\tmat.fromArray( skinEntry.inverseBindMatrices.array, j * 16 );\\n\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tboneInverses.push( mat );\\n\\n\\t\\t\\t\\t\\t\\t} else {\\n\\n\\t\\t\\t\\t\\t\\t\\tconsole.warn( 'THREE.GLTFLoader: Joint \\\"%s\\\" could not be found.', jointId );\\n\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tmesh.bind( new THREE.Skeleton( bones, boneInverses ), mesh.matrixWorld );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\t// build node hierachy\\n\\n\\t\\t\\tparentObject.add( node );\\n\\n\\t\\t\\tif ( nodeDef.children ) {\\n\\n\\t\\t\\t\\tvar children = nodeDef.children;\\n\\n\\t\\t\\t\\tfor ( let i = 0, il = children.length; i < il; i ++ ) {\\n\\n\\t\\t\\t\\t\\tvar child = children[ i ];\\n\\t\\t\\t\\t\\tbuildNodeHierachy( child, node, json, allNodes, skins );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\treturn function loadScene( sceneIndex ) {\\n\\n\\t\\t\\tvar json = this.json;\\n\\t\\t\\tvar extensions = this.extensions;\\n\\t\\t\\tvar sceneDef = this.json.scenes[ sceneIndex ];\\n\\n\\t\\t\\treturn this.getMultiDependencies( [\\n\\n\\t\\t\\t\\t'node',\\n\\t\\t\\t\\t'skin'\\n\\n\\t\\t\\t] ).then( function ( dependencies ) {\\n\\n\\t\\t\\t\\tvar scene = new THREE.Scene();\\n\\t\\t\\t\\tif ( sceneDef.name !== undefined ) scene.name = sceneDef.name;\\n\\n\\t\\t\\t\\tif ( sceneDef.extras ) scene.userData = sceneDef.extras;\\n\\n\\t\\t\\t\\tvar nodeIds = sceneDef.nodes || [];\\n\\n\\t\\t\\t\\tfor ( var i = 0, il = nodeIds.length; i < il; i ++ ) {\\n\\n\\t\\t\\t\\t\\tbuildNodeHierachy( nodeIds[ i ], scene, json, dependencies.nodes, dependencies.skins );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// Ambient lighting, if present, is always attached to the scene root.\\n\\t\\t\\t\\tif ( sceneDef.extensions\\n\\t\\t\\t\\t\\t\\t && sceneDef.extensions[ EXTENSIONS.KHR_LIGHTS ]\\n\\t\\t\\t\\t\\t\\t && sceneDef.extensions[ EXTENSIONS.KHR_LIGHTS ].light !== undefined ) {\\n\\n\\t\\t\\t\\t\\tvar lights = extensions[ EXTENSIONS.KHR_LIGHTS ].lights;\\n\\t\\t\\t\\t\\tscene.add( lights[ sceneDef.extensions[ EXTENSIONS.KHR_LIGHTS ].light ] );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\treturn scene;\\n\\n\\t\\t\\t} );\\n\\n\\t\\t};\\n\\n\\t}();\\n\\n\\treturn GLTFLoader;\\n\\n} )();\\n\\nexport default GLTFLoader;\",\"import * as THREE from \\\"three\\\";\\nimport AnimatedModel from \\\"./animated-model\\\";\\nimport { firstMesh, promisifyLoader } from \\\"../utils/three\\\";\\nimport GLTFLoader from \\\"../utils/three/gltf-loader\\\";\\nimport { between } from \\\"../utils\\\";\\nimport JetFile from \\\"../../assets/models/jet.glb\\\";\\n\\nconst loader = promisifyLoader(new GLTFLoader());\\nconst mesh = loader.load(JetFile).then(gltf => firstMesh(gltf.scene));\\n\\nexport default async ({ parent, x = 0, y = 0, z = 0}) => {\\n\\n\\tconst animated = await AnimatedModel({\\n\\t\\tparent,\\n\\t\\tx,\\n\\t\\ty,\\n\\t\\tz,\\n\\t\\tmesh,\\n\\t\\tmorphTargets: {\\n\\t\\t\\trudderLeft: 0,\\n\\t\\t\\trudderRight: 1,\\n\\t\\t\\tleftFlapUp: 2,\\n\\t\\t\\tleftFlapDown: 3,\\n\\t\\t\\trightFlapUp: 4,\\n\\t\\t\\trightFlapDown: 5\\n\\t\\t}\\n\\t});\\n\\n\\tconst timelines = {};\\n\\n\\ttimelines.controls = {\\n\\t\\twhile: true,\\n\\t\\tdirections: [\\n\\t\\t\\t{ heading: 0, pose: \\\"rudderRight\\\" },\\n\\t\\t\\t{ heading: -60, pose: \\\"leftFlapDown\\\" },\\n\\t\\t\\t{ heading: -120, pose: \\\"leftFlapUp\\\" },\\n\\t\\t\\t{ heading: -180, pose: \\\"rudderLeft\\\" },\\n\\t\\t\\t{ heading: 60, pose: \\\"rightFlapUp\\\" },\\n\\t\\t\\t{ heading: 120, pose: \\\"rightFlapDown\\\" },\\n\\t\\t\\t{ heading: 180, pose: \\\"rudderLeft\\\" }\\n\\t\\t],\\n\\t\\tupdate(self, entities, { directions }, { gamepadController }) {\\n\\t\\t\\tlet target = null;\\n\\n\\t\\t\\tif (gamepadController.leftStick.heading !== null ) {\\n\\t\\t\\t\\tconst degrees = THREE.Math.radToDeg(gamepadController.leftStick.heading)\\n\\t\\t\\t\\tconst direction = directions.find(x => between(degrees, x.heading - 30, x.heading + 30))\\n\\n\\t\\t\\t\\tif (direction)\\n\\t\\t\\t\\t\\ttarget = direction.pose;\\n\\t\\t\\t}\\n\\n\\t\\t\\tdirections.forEach(x => {\\n\\t\\t\\t\\tconst pose = self.poses[x.pose];\\n\\t\\t\\t\\tconst val = pose();\\n\\n\\t\\t\\t\\tpose(val + (x.pose === target ? 0.01 : -0.01))\\n\\t\\t\\t});\\n\\t\\t}\\n\\t};\\n\\n\\treturn { ...animated, ...{ timelines }};\\n};\\n\",\"import * as THREE from 'three';\\nimport Camera from \\\"./components/camera\\\";\\nimport Cuphead from \\\"./components/cuphead\\\";\\nimport HUD from \\\"./components/hud\\\";\\nimport Turntable from \\\"./components/turntable\\\";\\nimport Droid from \\\"./components/droid\\\";\\nimport Portal from \\\"./components/portal\\\";\\nimport Jet from \\\"./components/jet\\\";\\nimport { clear } from \\\"./utils/three\\\";\\nimport * as OIMO from \\\"oimo\\\";\\n\\nconst scene = new THREE.Scene();\\nconst camera = Camera();\\nconst world = new OIMO.World({ \\n    timestep: 1 / 60, \\n    iterations: 8, \\n    broadphase: 2,\\n    worldscale: 1,\\n    random: true,\\n    info: false,\\n    gravity: [0, -9.8 ,0] \\n});\\n\\nexport default async () => {\\n\\tclear(scene);\\n\\tworld.clear();\\n\\n\\tconst ambient = new THREE.AmbientLight(0xffffff, 1);\\n\\tconst sunlight = new THREE.DirectionalLight(0xffffff, 0.95);\\n\\n    sunlight.position.set(50, 50, 50);\\n\\n    scene.add(ambient);\\n    scene.add(sunlight);\\n\\n\\tcamera.position.set(0, 2, 6);\\n\\tcamera.lookAt(new THREE.Vector3(0, 0, 0));\\n\\n\\tconst cuphead = await Cuphead({ y: 1 });\\n\\tconst droid = await Droid({ y: 1 });\\n\\tconst portal = await Portal({ y: 1 });\\n\\tconst jet = await Jet({ y: 1 });\\n\\t\\n\\tconst turntable = Turntable({ parent: scene, world, items: [droid, cuphead, portal, jet] });\\t\\n\\tconst hud = HUD();\\n\\n\\tconst entities = {\\n\\t\\tscene,\\n\\t\\tcamera,\\n\\t\\tworld,\\n\\t\\tdroid,\\n\\t\\tcuphead,\\n\\t\\tportal,\\n\\t\\tjet,\\n\\t\\tturntable,\\n\\t\\thud\\n\\t}\\n\\n\\treturn entities;\\n};\\n\",\"import * as THREE from \\\"three\\\";\\nimport { remap } from \\\"../utils\\\";\\nimport { noise } from \\\"../utils/perlin\\\";\\n\\nexport default () => {\\n\\tconst camera = new THREE.PerspectiveCamera(\\n\\t\\t90,\\n\\t\\twindow.innerWidth / window.innerHeight,\\n\\t\\t1,\\n\\t\\t1000\\n\\t);\\n\\n\\tconst lookAt = camera.lookAt;\\n\\n\\t//-- Overriding the lookAt function so I always\\n\\t//-- have a quick reference to the lookAt vector\\n\\tcamera.lookAt = vec => {\\n\\t\\tlookAt.apply(camera, [vec]);\\n\\t\\tcamera.target = vec;\\n\\t};\\n\\n\\tcamera.timelines = {};\\n\\n\\tcamera.shake = (duration = 400) => {\\n\\t\\tif (!camera.timelines.shake) {\\n\\t\\t\\tcamera.timelines.shake = {\\n\\t\\t\\t\\tduration,\\n\\t\\t\\t\\tstartPos: camera.position.clone(),\\n\\t\\t\\t\\tseed: Date.now(),\\n\\t\\t\\t\\tupdate(self, entities, percent, { seed, startPos }) {\\n\\t\\t\\t\\t\\tself.position.x =\\n\\t\\t\\t\\t\\t\\tstartPos.x + remap(noise(seed + percent), 0, 1, -1.25, 1.25);\\n\\t\\t\\t\\t\\tself.position.y =\\n\\t\\t\\t\\t\\t\\tstartPos.y +\\n\\t\\t\\t\\t\\t\\tremap(noise(seed + 250 + percent), 0, 1, -1.25, 1.25);\\n\\t\\t\\t\\t}\\n\\t\\t\\t};\\n\\t\\t}\\n\\t};\\n\\n\\tcamera.resize = (width, height, dpr) => {\\n\\t\\tcamera.aspect = width / height;\\n\\t\\tcamera.updateProjectionMatrix();\\n\\t};\\n\\n\\treturn camera;\\n};\\n\",\"import * as THREE from \\\"three\\\";\\n\\nexport default ({\\n\\tpixelSize = 5,\\n\\tborderSize = 1,\\n\\tlightenFactor = 1.8,\\n\\tsoftenFactor = 0.75,\\n\\tdarkenFactor = 0.5,\\n\\tresolution = new THREE.Vector2(window.innerWidth, window.innerHeight)\\n} = {}) => {\\n\\tconst pixelShader = {\\n\\t\\tuniforms: {\\n\\t\\t\\ttDiffuse: { value: null },\\n\\t\\t\\tpixelSize: { value: pixelSize },\\n\\t\\t\\tborderFraction: { value: borderSize / pixelSize },\\n\\t\\t\\tlightenFactor: { value: lightenFactor },\\n\\t\\t\\tsoftenFactor: { value: softenFactor },\\n\\t\\t\\tdarkenFactor: { value: darkenFactor },\\n\\t\\t\\tresolution: { value: resolution }\\n\\t\\t},\\n\\n\\t\\tvertexShader: `\\n\\t\\t\\tvarying highp vec2 vUv;\\n\\n\\t\\t\\tvoid main() {\\n\\t\\t\\t\\tvUv = uv;\\n\\t\\t\\t\\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n\\t\\t\\t}`,\\n\\n\\t\\tfragmentShader: `\\n\\t\\t\\tuniform sampler2D tDiffuse;\\n\\t\\t\\tuniform float pixelSize;\\n\\t\\t\\tuniform float borderFraction;\\n\\t\\t\\tuniform float lightenFactor;\\n\\t\\t\\tuniform float softenFactor;\\n\\t\\t\\tuniform float darkenFactor;\\n\\t\\t\\tuniform vec2 resolution;\\n\\n\\t\\t\\tvarying highp vec2 vUv;\\n\\n\\t\\t\\tvoid main(){\\n\\t\\t\\t\\tvec2 dxy = pixelSize / resolution;\\n\\t\\t\\t\\tvec2 pixel = vUv / dxy;\\n\\t\\t\\t\\tvec2 fraction = fract(pixel);\\n\\t\\t\\t\\tvec2 coord = dxy * floor(pixel);\\n\\t\\t\\t\\tvec3 color = texture2D(tDiffuse, coord).xyz;\\n\\n\\t\\t\\t\\tif (fraction.y > (1.0 - borderFraction))\\n\\t\\t\\t\\t\\tcolor = color * lightenFactor;\\n\\n\\t\\t\\t\\tif (fraction.x < borderFraction)\\n\\t\\t\\t\\t\\tcolor = color * softenFactor;\\n\\n\\t\\t\\t\\tif (fraction.y < borderFraction)\\n\\t\\t\\t\\t\\tcolor = color * darkenFactor;\\n\\n\\t\\t\\t\\tgl_FragColor = vec4(color, 1);\\n\\t\\t\\t}`\\n\\t};\\n\\n\\treturn pixelShader;\\n};\\n\",\"import React from \\\"react\\\";\\nimport { GameEngine } from \\\"react-game-engine\\\";\\nimport Renderer from \\\"./graphics/renderer\\\";\\nimport Systems from \\\"./systems\\\";\\nimport Entities from \\\"./entities\\\";\\n\\nimport ShaderPass from \\\"./graphics/passes/shader-pass\\\";\\nimport PixelShader from \\\"./graphics/shaders/pixel-shader\\\";\\n\\nimport \\\"../index.css\\\";\\n\\nclass Game extends React.Component {\\n  render() {\\n    return (\\n      <GameEngine\\n        className=\\\"game\\\"\\n        systems={Systems}\\n        entities={Entities()}\\n        renderer={Renderer(\\n          new ShaderPass(PixelShader())\\n        )}\\n      />\\n    );\\n  }\\n}\\n\\nexport default Game;\\n\",\"// This optional code is used to register a service worker.\\n// register() is not called by default.\\n\\n// This lets the app load faster on subsequent visits in production, and gives\\n// it offline capabilities. However, it also means that developers (and users)\\n// will only see deployed updates on subsequent visits to a page, after all the\\n// existing tabs open on the page have been closed, since previously cached\\n// resources are updated in the background.\\n\\n// To learn more about the benefits of this model and instructions on how to\\n// opt-in, read https://bit.ly/CRA-PWA\\n\\nconst isLocalhost = Boolean(\\n  window.location.hostname === 'localhost' ||\\n    // [::1] is the IPv6 localhost address.\\n    window.location.hostname === '[::1]' ||\\n    // 127.0.0.1/8 is considered localhost for IPv4.\\n    window.location.hostname.match(\\n      /^127(?:\\\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\\n    )\\n);\\n\\nexport function register(config) {\\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\\n    // The URL constructor is available in all browsers that support SW.\\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\\n    if (publicUrl.origin !== window.location.origin) {\\n      // Our service worker won't work if PUBLIC_URL is on a different origin\\n      // from what our page is served on. This might happen if a CDN is used to\\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\\n      return;\\n    }\\n\\n    window.addEventListener('load', () => {\\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\\n\\n      if (isLocalhost) {\\n        // This is running on localhost. Let's check if a service worker still exists or not.\\n        checkValidServiceWorker(swUrl, config);\\n\\n        // Add some additional logging to localhost, pointing developers to the\\n        // service worker/PWA documentation.\\n        navigator.serviceWorker.ready.then(() => {\\n          console.log(\\n            'This web app is being served cache-first by a service ' +\\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\\n          );\\n        });\\n      } else {\\n        // Is not localhost. Just register service worker\\n        registerValidSW(swUrl, config);\\n      }\\n    });\\n  }\\n}\\n\\nfunction registerValidSW(swUrl, config) {\\n  navigator.serviceWorker\\n    .register(swUrl)\\n    .then(registration => {\\n      registration.onupdatefound = () => {\\n        const installingWorker = registration.installing;\\n        if (installingWorker == null) {\\n          return;\\n        }\\n        installingWorker.onstatechange = () => {\\n          if (installingWorker.state === 'installed') {\\n            if (navigator.serviceWorker.controller) {\\n              // At this point, the updated precached content has been fetched,\\n              // but the previous service worker will still serve the older\\n              // content until all client tabs are closed.\\n              console.log(\\n                'New content is available and will be used when all ' +\\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\\n              );\\n\\n              // Execute callback\\n              if (config && config.onUpdate) {\\n                config.onUpdate(registration);\\n              }\\n            } else {\\n              // At this point, everything has been precached.\\n              // It's the perfect time to display a\\n              // \\\"Content is cached for offline use.\\\" message.\\n              console.log('Content is cached for offline use.');\\n\\n              // Execute callback\\n              if (config && config.onSuccess) {\\n                config.onSuccess(registration);\\n              }\\n            }\\n          }\\n        };\\n      };\\n    })\\n    .catch(error => {\\n      console.error('Error during service worker registration:', error);\\n    });\\n}\\n\\nfunction checkValidServiceWorker(swUrl, config) {\\n  // Check if the service worker can be found. If it can't reload the page.\\n  fetch(swUrl)\\n    .then(response => {\\n      // Ensure service worker exists, and that we really are getting a JS file.\\n      const contentType = response.headers.get('content-type');\\n      if (\\n        response.status === 404 ||\\n        (contentType != null && contentType.indexOf('javascript') === -1)\\n      ) {\\n        // No service worker found. Probably a different app. Reload the page.\\n        navigator.serviceWorker.ready.then(registration => {\\n          registration.unregister().then(() => {\\n            window.location.reload();\\n          });\\n        });\\n      } else {\\n        // Service worker found. Proceed as normal.\\n        registerValidSW(swUrl, config);\\n      }\\n    })\\n    .catch(() => {\\n      console.log(\\n        'No internet connection found. App is running in offline mode.'\\n      );\\n    });\\n}\\n\\nexport function unregister() {\\n  if ('serviceWorker' in navigator) {\\n    navigator.serviceWorker.ready.then(registration => {\\n      registration.unregister();\\n    });\\n  }\\n}\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport Game from \\\"./game\\\";\\nimport * as ServiceWorker from './service-worker';\\nimport './index.css';\\n\\nReactDOM.render(<Game />, document.getElementById('root'));\\n\\n// If you want your app to work offline and load faster, you can change\\n// unregister() to register() below. Note this comes with some pitfalls.\\n// Learn more about service workers: https://bit.ly/CRA-PWA\\nServiceWorker.register();\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,function(e,t){var r,n=4,i=.5,o=function(e){return.5*(1-Math.cos(e*Math.PI))};e.exports={noise:function(e,t,a){if(t=t||0,a=a||0,null==r){r=new Array(4096);for(var s=0;s<4096;s++)r[s]=Math.random()}e<0&&(e=-e),t<0&&(t=-t),a<0&&(a=-a);for(var l,c,u,p,d,f=Math.floor(e),h=Math.floor(t),m=Math.floor(a),v=e-f,g=t-h,y=a-m,w=0,b=.5,S=0;S<n;S++){var x=f+(h<<4)+(m<<8);l=o(v),c=o(g),u=r[4095&x],u+=l*(r[x+1&4095]-u),p=r[x+16&4095],u+=c*((p+=l*(r[x+16+1&4095]-p))-u),p=r[4095&(x+=256)],p+=l*(r[x+1&4095]-p),d=r[x+16&4095],p+=c*((d+=l*(r[x+16+1&4095]-d))-p),w+=(u+=o(y)*(p-u))*b,b*=i,f<<=1,h<<=1,m<<=1,(v*=2)>=1&&(f++,v--),(g*=2)>=1&&(h++,g--),(y*=2)>=1&&(m++,y--)}return w},noiseDetail:function(e,t){e>0&&(n=e),t>0&&(i=t)},noiseSeed:function(e){var t=function(){var e,t,r=4294967296;return{setSeed:function(n){t=e=(null==n?Math.random()*r:n)>>>0},getSeed:function(){return e},rand:function(){return(t=(1664525*t+1013904223)%r)/r}}}();t.setSeed(e),r=new Array(4096);for(var n=0;n<4096;n++)r[n]=t.rand()}}},,,function(e,t,r){},,,,function(e,t,r){e.exports=r.p+\"static/media/crash-01.8bb8f478.wav\"},function(e,t,r){e.exports=r.p+\"static/media/cuphead.de89fa67.png\"},function(e,t,r){\"use strict\";(function(e){var n=r(22),i=r.n(n),o=r(30);e.Zlib=i.a.Zlib,t.a=o.a}).call(this,r(14))},,function(e,t,r){e.exports=r.p+\"static/media/droid.096ec86b.fbx\"},function(e,t,r){e.exports=r.p+\"static/media/perlin.0a023299.png\"},function(e,t){e.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6REVGODRBRjIyRjU2MTFFNUExM0Y4OUExMTc4QTBCQUMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6REVGODRBRjMyRjU2MTFFNUExM0Y4OUExMTc4QTBCQUMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpERUY4NEFGMDJGNTYxMUU1QTEzRjg5QTExNzhBMEJBQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpERUY4NEFGMTJGNTYxMUU1QTEzRjg5QTExNzhBMEJBQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgDz1z0AAAZeSURBVHja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\"},,function(e,t,r){e.exports=r.p+\"static/media/jet.b9ea13bd.glb\"},,,,function(e,t,r){e.exports=r(39)},,,,,,,,function(e,t,r){\"use strict\";r.r(t);var n=r(1),i=r.n(n),o=r(17),a=r.n(o),s=r(7),l=r(8),c=r(10),u=r(9),p=r(5),d=r(18),f=r(29),h=r(0),m={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:[\"varying vec2 vUv;\",\"void main() {\",\"vUv = uv;\",\"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\"}\"].join(\"\\n\"),fragmentShader:[\"uniform float opacity;\",\"uniform sampler2D tDiffuse;\",\"varying vec2 vUv;\",\"void main() {\",\"vec4 texel = texture2D( tDiffuse, vUv );\",\"gl_FragColor = opacity * texel;\",\"}\"].join(\"\\n\")},v=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1};Object.assign(v.prototype,{setSize:function(e,t){},render:function(e,t,r,n,i){console.error(\"THREE.Pass: .render() must be implemented in derived pass.\")}}),v.FullScreenQuad=function(){var e=new h.gb(-1,1,1,-1,0,1),t=new h.ib(2,2),r=function(e){this._mesh=new h.V(t,e)};return Object.defineProperty(r.prototype,\"material\",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(r.prototype,{render:function(t){t.render(this._mesh,e)}}),r}();var g=v,y=function(e,t){g.call(this),this.textureID=void 0!==t?t:\"tDiffuse\",e instanceof h.yb?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=h.Kb.clone(e.uniforms),this.material=new h.yb({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.camera=new h.gb(-1,1,1,-1,0,1),this.scene=new h.wb,this.quad=new h.V(new h.ib(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad)};y.prototype=Object.assign(Object.create(g.prototype),{constructor:y,render:function(e,t,r,n,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this.quad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),e.render(this.scene,this.camera)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera))}});var w=y,b=function(e,t){g.call(this),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1};b.prototype=Object.assign(Object.create(g.prototype),{constructor:b,render:function(e,t,r,n,i){var o,a,s=e.context,l=e.state;l.buffers.color.setMask(!1),l.buffers.depth.setMask(!1),l.buffers.color.setLocked(!0),l.buffers.depth.setLocked(!0),this.inverse?(o=0,a=1):(o=1,a=0),l.buffers.stencil.setTest(!0),l.buffers.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),l.buffers.stencil.setFunc(s.ALWAYS,o,4294967295),l.buffers.stencil.setClear(a),e.render(this.scene,this.camera,r,this.clear),e.render(this.scene,this.camera,t,this.clear),l.buffers.color.setLocked(!1),l.buffers.depth.setLocked(!1),l.buffers.stencil.setFunc(s.EQUAL,1,4294967295),l.buffers.stencil.setOp(s.KEEP,s.KEEP,s.KEEP)}});var S=b,x=function(){g.call(this),this.needsSwap=!1};x.prototype=Object.create(g.prototype),Object.assign(x.prototype,{render:function(e,t,r,n,i){e.state.buffers.stencil.setTest(!1)}});var T=x,R=function(e,t){if(this.renderer=e,void 0===t){var r={minFilter:h.K,magFilter:h.K,format:h.pb,stencilBuffer:!1},n=new h.Pb;e.getDrawingBufferSize(n),(t=new h.Ub(n.width,n.height,r)).texture.name=\"EffectComposer.rt1\"}this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name=\"EffectComposer.rt2\",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.passes=[],void 0===m&&console.error(\"THREE.EffectComposer relies on THREE.CopyShader\"),void 0===w&&console.error(\"THREE.EffectComposer relies on THREE.ShaderPass\"),this.copyPass=new w(m)};Object.assign(R.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e);var t=new h.Pb;this.renderer.getDrawingBufferSize(t),e.setSize(t.width,t.height)},insertPass:function(e,t){this.passes.splice(t,0,e)},render:function(e){var t,r,n=!1,i=this.passes.length;for(r=0;r<i;r++)if(!1!==(t=this.passes[r]).enabled){if(t.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),t.needsSwap){if(n){var o=this.renderer.context;o.stencilFunc(o.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),o.stencilFunc(o.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==S&&(t instanceof S?n=!0:t instanceof T&&(n=!1))}},reset:function(e){if(void 0===e){var t=new h.Pb;this.renderer.getDrawingBufferSize(t),(e=this.renderTarget1.clone()).setSize(t.width,t.height)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t){this.renderTarget1.setSize(e,t),this.renderTarget2.setSize(e,t);for(var r=0;r<this.passes.length;r++)this.passes[r].setSize(e,t)}});var A=R,M=function(e,t,r,n,i){g.call(this),this.scene=e,this.camera=t,this.overrideMaterial=r,this.clearColor=n,this.clearAlpha=void 0!==i?i:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1};M.prototype=Object.assign(Object.create(g.prototype),{constructor:M,render:function(e,t,r,n,i){var o,a,s=e.autoClear;e.autoClear=!1,this.scene.overrideMaterial=this.overrideMaterial,this.clearColor&&(o=e.getClearColor().getHex(),a=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(o,a),this.scene.overrideMaterial=null,e.autoClear=s}});var E=M,C=r(2),L=r.n(C);function I(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(p.a)(e);if(t){var i=Object(p.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var O=function(e){Object(c.a)(r,e);var t=I(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).onResize=function(){var t=e.refs.container,r=t.clientWidth,n=t.clientHeight,i=window.devicePixelRatio;e.props.camera.resize(r,n,i),e.renderer.setPixelRatio(i),e.renderer.setSize(r,n)},e}return Object(l.a)(r,[{key:\"componentDidMount\",value:function(){var e=this,t=this.refs.container,r=t.clientWidth,n=t.clientHeight,i=window.devicePixelRatio;this.props.camera.resize(r,n,i),this.renderer=new h.Vb({}),this.renderer.setPixelRatio(i),this.renderer.setSize(r,n),this.renderer.setClearColor(131586,1),this.composer=new A(this.renderer);var o=[new E(this.props.scene,this.props.camera)].concat(Object(f.a)(this.props.passes));o.forEach(function(t){return e.composer.addPass(t)}),o[o.length-1].renderToScreen=!0,window.addEventListener(\"resize\",this.onResize),t.appendChild(this.renderer.domElement)}},{key:\"componentWillUnmount\",value:function(){window.removeEventListener(\"resize\",this.onResize),this.refs.container.removeChild(this.renderer.domElement)}},{key:\"render\",value:function(){return this.composer&&this.composer.render(),i.a.createElement(\"div\",{ref:\"container\",style:P.container})}}]),r}(n.PureComponent),P={container:{height:\"100vh\",width:\"100vw\",overflow:\"hidden\"}},D=function(e,t){if(!e.hud)return null;var r=e.hud;return\"object\"===typeof r.renderer?i.a.createElement(r.renderer.type,Object.assign({key:\"hud\"},r,{window:t})):\"function\"===typeof r.renderer?i.a.createElement(r.renderer,Object.assign({key:\"hud\"},r,{window:t})):void 0},U=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e,r){return e?[i.a.createElement(O,{passes:L.a.flatten(t),key:\"threeView\",scene:e.scene,camera:e.camera}),D(e,r)]:null}},F={retarget:function(){var e=new h.Qb,t=new h.nb,r=new h.Qb,n=new h.U,i=new h.U,o=new h.U;return function(a,s,l){(l=l||{}).preserveMatrix=void 0===l.preserveMatrix||l.preserveMatrix,l.preservePosition=void 0===l.preservePosition||l.preservePosition,l.preserveHipPosition=void 0!==l.preserveHipPosition&&l.preserveHipPosition,l.useTargetMatrix=void 0!==l.useTargetMatrix&&l.useTargetMatrix,l.hip=void 0!==l.hip?l.hip:\"hip\",l.names=l.names||{};var c,u,p,d,f,h,m=s.isObject3D?s.skeleton.bones:this.getBones(s),v=a.isObject3D?a.skeleton.bones:this.getBones(a);if(a.isObject3D?a.skeleton.pose():(l.useTargetMatrix=!0,l.preserveMatrix=!1),l.preservePosition)for(f=[],h=0;h<v.length;h++)f.push(v[h].position.clone());if(l.preserveMatrix)for(a.updateMatrixWorld(),a.matrixWorld.identity(),h=0;h<a.children.length;++h)a.children[h].updateMatrixWorld(!0);if(l.offsets)for(c=[],h=0;h<v.length;++h)u=v[h],p=l.names[u.name]||u.name,l.offsets&&l.offsets[p]&&(u.matrix.multiply(l.offsets[p]),u.matrix.decompose(u.position,u.quaternion,u.scale),u.updateMatrixWorld()),c.push(u.matrixWorld.clone());for(h=0;h<v.length;++h){if(u=v[h],p=l.names[u.name]||u.name,d=this.getBoneByName(p,m),o.copy(u.matrixWorld),d){if(d.updateMatrixWorld(),l.useTargetMatrix?i.copy(d.matrixWorld):(i.getInverse(a.matrixWorld),i.multiply(d.matrixWorld)),r.setFromMatrixScale(i),i.scale(r.set(1/r.x,1/r.y,1/r.z)),o.makeRotationFromQuaternion(t.setFromRotationMatrix(i)),a.isObject3D){var g=v.indexOf(u),y=c?c[g]:n.getInverse(a.skeleton.boneInverses[g]);o.multiply(y)}o.copyPosition(i)}u.parent&&u.parent.isBone?(u.matrix.getInverse(u.parent.matrixWorld),u.matrix.multiply(o)):u.matrix.copy(o),l.preserveHipPosition&&p===l.hip&&u.matrix.setPosition(e.set(0,u.position.y,0)),u.matrix.decompose(u.position,u.quaternion,u.scale),u.updateMatrixWorld()}if(l.preservePosition)for(h=0;h<v.length;++h)u=v[h],(p=l.names[u.name]||u.name)!==l.hip&&u.position.copy(f[h]);l.preserveMatrix&&a.updateMatrixWorld(!0)}}(),retargetClip:function(e,t,r,n){(n=n||{}).useFirstFramePosition=void 0!==n.useFirstFramePosition&&n.useFirstFramePosition,n.fps=void 0!==n.fps?n.fps:30,n.names=n.names||[],t.isObject3D||(t=this.getHelperFromSkeleton(t));var i,o,a,s,l,c,u=Math.round(r.duration*(n.fps/1e3)*1e3),p=1/n.fps,d=[],f=new h.e(t),m=this.getBones(e.skeleton),v=[];for(f.clipAction(r).play(),f.update(0),t.updateMatrixWorld(),l=0;l<u;++l){var g=l*p;for(this.retarget(e,t,n),c=0;c<m.length;++c)s=n.names[m[c].name]||m[c].name,this.getBoneByName(s,t.skeleton)&&(o=m[c],a=v[c]=v[c]||{bone:o},n.hip===s&&(a.pos||(a.pos={times:new Float32Array(u),values:new Float32Array(3*u)}),n.useFirstFramePosition&&(0===l&&(i=o.position.clone()),o.position.sub(i)),a.pos.times[l]=g,o.position.toArray(a.pos.values,3*l)),a.quat||(a.quat={times:new Float32Array(u),values:new Float32Array(4*u)}),a.quat.times[l]=g,o.quaternion.toArray(a.quat.values,4*l));f.update(p),t.updateMatrixWorld()}for(l=0;l<v.length;++l)(a=v[l])&&(a.pos&&d.push(new h.Sb(\".bones[\"+a.bone.name+\"].position\",a.pos.times,a.pos.values)),d.push(new h.ob(\".bones[\"+a.bone.name+\"].quaternion\",a.quat.times,a.quat.values)));return f.uncacheAction(r),new h.d(r.name,-1,d)},getHelperFromSkeleton:function(e){var t=new h.Ab(e.bones[0]);return t.skeleton=e,t},getSkeletonOffsets:function(){var e=new h.Qb,t=new h.Qb,r=new h.Qb,n=new h.Qb,i=new h.Pb,o=new h.Pb;return function(a,s,l){(l=l||{}).hip=void 0!==l.hip?l.hip:\"hip\",l.names=l.names||{},s.isObject3D||(s=this.getHelperFromSkeleton(s));var c,u,p,d,f=Object.keys(l.names),m=Object.values(l.names),v=s.isObject3D?s.skeleton.bones:this.getBones(s),g=a.isObject3D?a.skeleton.bones:this.getBones(a),y=[];for(a.skeleton.pose(),d=0;d<g.length;++d)if(c=g[d],p=l.names[c.name]||c.name,(u=this.getBoneByName(p,v))&&p!==l.hip){var w=this.getNearestBone(c.parent,f),b=this.getNearestBone(u.parent,m);w.updateMatrixWorld(),b.updateMatrixWorld(),e.setFromMatrixPosition(w.matrixWorld),t.setFromMatrixPosition(c.matrixWorld),r.setFromMatrixPosition(b.matrixWorld),n.setFromMatrixPosition(u.matrixWorld),i.subVectors(new h.Pb(t.x,t.y),new h.Pb(e.x,e.y)).normalize(),o.subVectors(new h.Pb(n.x,n.y),new h.Pb(r.x,r.y)).normalize();var S=i.angle()-o.angle(),x=(new h.U).makeRotationFromEuler(new h.u(0,0,S));c.matrix.multiply(x),c.matrix.decompose(c.position,c.quaternion,c.scale),c.updateMatrixWorld(),y[p]=x}return y}}(),renameBones:function(e,t){for(var r=this.getBones(e),n=0;n<r.length;++n){var i=r[n];t[i.name]&&(i.name=t[i.name])}return this},getBones:function(e){return Array.isArray(e)?e:e.bones},getBoneByName:function(e,t){for(var r=0,n=this.getBones(t);r<n.length;r++)if(e===n[r].name)return n[r]},getNearestBone:function(e,t){for(;e.isBone;){if(-1!==t.indexOf(e.name))return e;e=e.parent}},findBoneTrackData:function(e,t){for(var r=/\\[(.*)\\]\\.(.*)/,n={name:e},i=0;i<t.length;++i){var o=r.exec(t[i].name);o&&e===o[1]&&(n[o[2]]=i)}return n},getEqualsBonesNames:function(e,t){var r=this.getBones(e),n=this.getBones(t),i=[];e:for(var o=0;o<r.length;o++)for(var a=r[o].name,s=0;s<n.length;s++)if(a===n[s].name){i.push(a);continue e}return i},clone:function(e){var t=new Map,r=new Map,n=e.clone();return function e(t,r,n){n(t,r);for(var i=0;i<t.children.length;i++)e(t.children[i],r.children[i],n)}(e,n,function(e,n){t.set(n,e),r.set(e,n)}),n.traverse(function(e){if(e.isSkinnedMesh){var n=e,i=t.get(e),o=i.skeleton.bones;n.skeleton=i.skeleton.clone(),n.bindMatrix.copy(i.bindMatrix),n.skeleton.bones=o.map(function(e){return r.get(e)}),n.bind(n.skeleton,n.bindMatrix)}}),n}};var _=function e(t){for(;t.children.length>0;)e(t.children[0]),t.remove(t.children[0]);t.geometry&&t.geometry.dispose&&t.geometry.dispose(),t.material&&t.material.dispose&&t.material.dispose(),t.texture&&t.texture.dispose&&t.texture.dispose()},G=_,j=function(e,t){t&&_(t),e&&e.remove(t)},k=function(e,t,r){var n=r.x,i=void 0===n?0:n,o=r.y,a=void 0===o?0:o,s=r.z,l=void 0===s?0:s,c=e.position.clone(),u=t.clone(),p=(new h.Qb).subVectors(c,u);e.position.copy(u),e.rotation.x+=i,e.rotation.y+=a,e.rotation.z+=l,p.applyAxisAngle(new h.Qb(1,0,0),i),p.applyAxisAngle(new h.Qb(0,1,0),a),p.applyAxisAngle(new h.Qb(0,0,1),l),e.position.add(p)},N=function(e){return e.model?e.model:e},B=function(e,t){if(e&&t){var r=e.model?e.model:e,n=t.model?t.model:t;N(r).add(N(n))}},z=function(e){return e.clone()},H=F.clone,W=function(e,t){return{originalLoader:e,load:function(r){return new Promise(function(n,i){e.load(r,n,t,i)})}}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.yawSpeed,r=void 0===t?.01:t,n=e.pitchSpeed,i=void 0===n?.01:n,o=e.zoomSpeed,a=void 0===o?.02:o;return function(e,t){var n=t.keyboardController,o=e.camera;if(o&&n){var s=n.w,l=n.a,c=n.s,u=n.d,p=n.space,d=n.control;if((s||l||c||u)&&(k(o,o.target,{y:(l?1:u?-1:0)*r,x:(s?1:c?-1:0)*i}),o.lookAt(o.target)),p||d){var f=(p?1:d?-1:0)*a;o.zoom+=f,o.updateProjectionMatrix()}}return e}},V=(r(16),function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(e)return!r||r.length<1?e:Array.isArray(e)?e.filter(function(e){return L.a.every(r,function(t){return t(e)})}):Object.keys(e).filter(function(t){return L.a.every(r,function(r){return r(e[t])})}).map(function(t){return e[t]})}),K=function(e,t,r,n,i){return(e-t)/(r-t)*(i-n)+n},Y=function(e,t,r){return e>t&&e<r},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";return\"\".concat(t).concat(++e)}},X=(window.screen,L.a.find,L.a.filter,function(e,t,r){return Math.max(Math.min(e,r),t)}),J=(L.a.once,L.a.memoize,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=new Audio(e),n=function(){return r.play()};return t?function(e,t,r){var n=0;return function(){var i=performance.now();return i-n>t?(n=i,e.apply(void 0,arguments)):L.a.isFunction(r)?r.apply(void 0,arguments):r}}(n,t):n}),q=function(e,t){for(var r=t.time,n=V(e,function(e){return e.particles}),i=0;i<n.length;i++)for(var o=n[i],a=Object.keys(o.particles),s=0;s<a.length;s++){var l=o.particles[a[s]],c=l.spawnOptions,u=l.options,p=l.beforeSpawn,d=r.delta/1e3*c.timeScale;if(l.tick+=d,l.tick<0&&(l.tick=0),d>0){p(o,e,l,t);for(var f=0;f<c.spawnRate*d;f++)l.emitter.spawnParticle(u)}l.emitter.update(l.tick)}return e},$=new h.y,ee=new h.U,te=function(e){var t=e.camera,r=Object.keys(e).filter(function(t){return e[t].removable});return t.updateMatrixWorld(),t.matrixWorldInverse.getInverse(t.matrixWorld),ee.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),$.setFromMatrix(ee),r.forEach(function(t){var r=e[t].removable;L.a.isFunction(r)&&!r($,e[t],e)||function(e,t){var r=e[t];r&&(r.model&&j(r.model.parent,r.model),r.light&&j(r.light.parent,r.light),r.particles&&Object.keys(r.particles).forEach(function(e){var t=r.particles[e].emitter;t&&j(t.parent,t)}),r.bodies&&r.bodies.forEach(function(e){return e.remove()}),delete e[t])}(e,t)}),e},re=function(e,t){for(var r=V(e,function(e){return e.rotation},function(e){return e.model}),n=0;n<r.length;n++){var i=r[n];void 0!==i.model.cellIndex?i.model.angle=L.a.isFunction(i.rotation)?i.rotation(i,e,t):i.model.angle+i.rotation:(i.model.rotation.z=i.rotation.z?L.a.isFunction(i.rotation.z)?i.rotation.z(i,e,t):i.model.rotation.z+i.rotation.z:i.model.rotation.z,i.model.rotation.x=i.rotation.x?L.a.isFunction(i.rotation.x)?i.rotation.x(i,e,t):i.model.rotation.x+i.rotation.x:i.model.rotation.x,i.model.rotation.y=i.rotation.y?L.a.isFunction(i.rotation.y)?i.rotation.y(i,e,t):i.model.rotation.y+i.rotation.y:i.model.rotation.y)}return e},ne=function(e,t){e.start||(e.start=t.time.current)},ie=function(e,t,r,n,i){var o=i.time;if(n.duration){var a=(o.current-n.start)/n.duration;a<=1?n.update(e,t,a,n,i):(n.complete&&n.complete(e,t,n,i),delete e.timelines[r])}n.while&&(!L.a.isFunction(n.while)||n.while(e,t,n,i)?n.update(e,t,n,i):(n.complete&&n.complete(e,t,n,i),delete e.timelines[r]))},oe=function(e,t){for(var r=V(e,function(e){return e.timelines}),n=0;n<r.length;n++)for(var i=r[n],o=Object.keys(i.timelines),a=0;a<o.length;a++){var s=o[a],l=i.timelines[s];l&&(ne(l,t),ie(i,e,s,l,t))}return e},ae=function(e,t){var r=e.hud;return r&&(r.gamepadController=t.gamepadController,r.keyboardController=t.keyboardController,r.mouseController=t.mouseController),e},se=r(11),le=function(e,t){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:.05);return function(r){if(r)return e.map(function(e){var n=r.axes[e];return Math.abs(n)>t?n:0})}}([e,t]);return function(e){var t=r(e)||[0,0],n=Object(se.a)(t,2),i=n[0],o=n[1];return{x:i,y:o,heading:i+o?Math.atan2(o,i):null}}},ce=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){if(t)return e.map(function(e){return t.buttons[e].pressed})}}([e]);return function(e){var r=t(e)||[!1];return Object(se.a)(r,1)[0]}},ue=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.05;return function(r){if(r)return e.map(function(e){var n=r.buttons[e];return n.pressed&&n.value>t?n.value:0})}}([e]);return function(e){var r=t(e)||[0];return Object(se.a)(r,1)[0]}},pe=le(0,1),de=le(2,3),fe=ce(0),he=ce(1),me=ue(6),ve=ue(7),ge={},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return function(t,r){if(!r.gamepadController){var n=navigator.getGamepads()[0]||navigator.getGamepads()[1]||navigator.getGamepads()[2]||navigator.getGamepads()[3],i={leftStick:pe(n),rightStick:de(n),button0:fe(n),button1:he(n),leftTrigger:me(n),rightTrigger:ve(n),vibrate:(o=n,function(e){o&&o.vibrationActuator&&o.vibrationActuator.playEffect(\"dual-rumble\",e)})};r.gamepadController=Object.assign({},i,{previous:ge}),ge=i}var o;return e(t,r)}},we=function(e,t,r){return e.find(function(e){return e.name===r&&-1!==t.indexOf(e.payload.key)})},be=function(e){var t=!1;return function(r){return we(r,e,\"onKeyDown\")&&(t=!0),we(r,e,\"onKeyUp\")&&(t=!1),t}},Se=be([\"w\",\"W\",\"ArrowUp\"]),xe=be([\"a\",\"A\",\"ArrowLeft\"]),Te=be([\"s\",\"S\",\"ArrowDown\"]),Re=be([\"d\",\"D\",\"ArrowRight\"]),Ae=be([\" \"]),Me=be([\"Control\"]),Ee={},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return function(t,r){if(!r.keyboardController){var n=r.input,i={w:Se(n),a:xe(n),s:Te(n),d:Re(n),space:Ae(n),control:Me(n)};r.keyboardController=Object.assign({},i,{previous:Ee}),Ee=i}return e(t,r)}},Le=function(e,t,r){return e.find(function(e){return e.name===r&&-1!==t.indexOf(e.payload.button)})},Ie=function(e){var t=!1;return function(r){return Le(r,e,\"onMouseDown\")&&(t=!0),Le(r,e,\"onMouseUp\")&&(t=!1),t}},Oe=Ie([0]),Pe=Ie([1]),De=Ie([2]),Ue=function(){var e={x:0,y:0};return function(t){var r=t.find(function(e){return\"onMouseMove\"===e.name});return r&&(e={x:r.payload.pageX,y:r.payload.pageY}),e}}(),Fe=function(){var e=0;return function(t){var r=t.find(function(e){return\"onWheel\"===e.name});return r&&(r.payload.deltaY<0?e--:e++),e}}(),_e={},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return function(t,r){if(!r.mouseController){var n=r.input,i={left:Oe(n),middle:Pe(n),right:De(n),position:Ue(n),wheel:Fe(n)};r.mouseController=Object.assign({},i,{previous:_e}),_e=i}return e(t,r)}},je=function(e,t){var r=e.world,n=V(e,function(e){return e.bodies&&e.model});r&&r.step();for(var i=0;i<n.length;i++){var o=n[i],a=o.model,s=o.bodies[0],l=o.collision;if(s.sleeping||(a.position.copy(s.getPosition()),a.quaternion.copy(s.getQuaternion())),l)for(var c=0;c<n.length;c++)if(i!==c){var u=n[c],p=u.bodies[0],d=r.getContact(s,p);d&&l(o,u,d,e,t)}}return e},ke=r(19),Ne=r.n(ke),Be=function(e){return function(){return e(\"box\")}}(Z(0)),ze=function(e){return function(){return e(\"cylinder\")}}(Z(0)),He=function(e,t){var r=t.gamepadController,n=t.mouseController,i=e.world,o=e.scene;return(r.button0&&!r.previous.button0||n.left&&!n.previous.left)&&(e[Be()]=function(e){var t=e.parent,r=e.world,n=e.dynamic,i=void 0===n||n,o=e.x,a=void 0===o?0:o,s=e.y,l=void 0===s?0:s,c=e.z,u=void 0===c?0:c,p=e.width,d=void 0===p?1.1:p,f=e.breadth,m=void 0===f?1.1:f,v=e.height,g=void 0===v?1.1:v,y=e.scale,w=void 0===y?1:y,b=e.color,S=void 0===b?59135:b,x=new h.i(d,g,m),T=new h.Z({color:S}),R=new h.V(x,T);R.position.x=a,R.position.y=l,R.position.z=u,R.scale.x=w,R.scale.y=w,R.scale.z=w,B(t,R);var A=J(Ne.a,640);return{model:R,bodies:[r.add({type:\"box\",size:[d*w,g*w,m*w],pos:[a,l,u],rot:[0,0,0],move:i,density:.1,friction:.9,restitution:.2,belongsTo:1,collidesWith:4294967295})],collision:function(e,t,r,n,i){var o=i.gamepadController;if(!r.close){A();var a=n.camera;a&&a.shake(),o&&o.vibrate({duration:300,strongMagnitude:.3})}},removable:function(e,t){return!e.intersectsObject(t.model)}}}({parent:o,world:i,y:5})),(r.button1&&!r.previous.button1||n.right&&!n.previous.right)&&(e[ze()]=function(e){var t=e.parent,r=e.world,n=e.dynamic,i=void 0===n||n,o=e.x,a=void 0===o?0:o,s=e.y,l=void 0===s?0:s,c=e.z,u=void 0===c?0:c,p=e.radius,d=void 0===p?.5:p,f=e.height,m=void 0===f?1.1:f,v=e.segments,g=void 0===v?32:v,y=e.scale,w=void 0===y?1:y,b=e.color,S=void 0===b?1041951:b,x=e.opacity,T=void 0===x?1:x,R=new h.p(d,d,m,g),A=new h.Z({color:S,transparent:T<1,opacity:T,flatShading:!0}),M=new h.V(R,A);return M.position.x=a,M.position.y=l,M.position.z=u,M.scale.x=w,M.scale.y=w,M.scale.z=w,B(t,M),{model:M,bodies:[r.add({type:\"cylinder\",size:[d*w,m*w],pos:[a,l,u],rot:[0,0,0],move:i,density:.1,friction:.9,restitution:.2,belongsTo:1,collidesWith:4294967295})],removable:function(e,t){return!e.intersectsObject(t.model)}}}({parent:o,world:i,y:5})),e},We=[ye(),Ce(),Ge(),Q({pitchSpeed:-.02,yawSpeed:.02}),q,te,re,oe,He,je,ae],Qe=r(3),Ve=r.n(Qe),Ke=r(4),Ye=r(12),Ze=function(){var e=Object(Ke.a)(Ve.a.mark(function e(t){var r,n,i,o,a,s,l,c,u,p,d,f,m,v,g,y,w;return Ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.parent,n=t.x,i=void 0===n?0:n,o=t.z,a=void 0===o?0:o,s=t.y,l=void 0===s?0:s,c=t.spriteSheet,u=t.rows,p=t.columns,d=t.actions,f=void 0===d?{}:d,e.t0=z,e.next=4,Promise.resolve(c);case 4:return e.t1=e.sent,(m=(0,e.t0)(e.t1)).needsUpdate=!0,m.repeat.set(1/p,1/u),v=new h.Eb({map:m,color:16777215}),(g=new h.Db(v)).position.x=i,g.position.y=l,g.position.z=a,B(r,g),y={},w={},Object.keys(f).forEach(function(e){y[e]=function(){if(!w.action||w.action.key!==e){var t=f[e],r=t.start,n=t.end,i=t.loop,o=void 0===i||i,a=t.speed,s=void 0===a?.25:a,l=t.update,c=t.scaleX,d=void 0===c?1:c,h=t.scaleY,v=void 0===h?1:h,y=t.flipX,b=void 0!==y&&y,S=t.flipY,x=void 0!==S&&S;n=n||r,g.scale.x=d,g.scale.y=v,m.repeat.x=Math.abs(m.repeat.x)*(b?-1:1),m.repeat.y=Math.abs(m.repeat.y)*(x?-1:1);var T=r.column,R=r.row,A=n.column,M=n.row;b&&(T++,A++),x&&(R++,M++);var E=1*s/Math.max(Math.abs(A-T),Math.abs(M-R),1);o&&(A++,M++),w.action={while:!0,counter:0,key:e,update:function(e,t,r,n){var i=o?r.counter%1:X(r.counter,0,1),a=Math.trunc(K(i,0,1,T,A)),s=Math.trunc(K(i,0,1,R,M));m.offset.x=a/p,m.offset.y=s/u,r.counter+=E,l&&l(e,t,{column:a,row:s},n)}}}}}),e.abrupt(\"return\",{model:g,actions:y,timelines:w});case 18:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Xe=r(20),Je=r.n(Xe),qe=W(new h.Gb).load(Je.a),$e=function(){var e=Object(Ke.a)(Ve.a.mark(function e(t){var r,n,i,o,a,s,l,c;return Ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.parent,n=t.x,i=void 0===n?0:n,o=t.y,a=void 0===o?0:o,s=t.z,l=void 0===s?0:s,e.next=3,Ze({parent:r,x:i,y:a,z:l,spriteSheet:qe,columns:16,rows:8,actions:{idle:{start:{row:2,column:0}},jump:{start:{row:0,column:0},end:{row:0,column:9},loop:!1},s:{start:{row:1,column:0},end:{row:1,column:12}},se:{start:{row:3,column:0},end:{row:3,column:15}},e:{start:{row:4,column:0},end:{row:4,column:13}},ne:{start:{row:6,column:0},end:{row:6,column:14}},n:{start:{row:7,column:1},end:{row:7,column:15}},nw:{start:{row:6,column:0},end:{row:6,column:14},flipX:!0},w:{start:{row:4,column:0},end:{row:4,column:13},flipX:!0},sw:{start:{row:3,column:0},end:{row:3,column:15},flipX:!0}}});case 3:return(c=e.sent).timelines.controls={while:!0,directions:[{heading:0,action:\"e\"},{heading:-45,action:\"ne\"},{heading:-90,action:\"n\"},{heading:-135,action:\"nw\"},{heading:-180,action:\"w\"},{heading:45,action:\"se\"},{heading:90,action:\"s\"},{heading:135,action:\"sw\"},{heading:180,action:\"w\"}],update:function(e,t,r,n){var i=r.directions,o=n.gamepadController;if(null!==o.leftStick.heading){var a=h.S.radToDeg(o.leftStick.heading),s=i.find(function(e){return Y(a,e.heading-25,e.heading+25)});e.actions[s.action]()}else e.actions.idle()}},e.abrupt(\"return\",c);case 6:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function et(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(p.a)(e);if(t){var i=Object(p.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var tt=function(e){Object(c.a)(r,e);var t=et(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:\"shouldComponentUpdate\",value:function(e){var t=this.props.keyboardController||{},r=e.keyboardController||{},n=this.props.gamepadController||{},i=e.gamepadController||{},o=this.props.mouseController||{},a=e.mouseController||{};return t.w!==r.w||t.a!==r.a||t.s!==r.s||t.d!==r.d||t.space!==r.space||t.control!==r.control||n.leftTrigger!==i.leftTrigger||n.rightTrigger!==i.rightTrigger||n.leftStick.x!==i.leftStick.x||n.leftStick.y!==i.leftStick.y||n.rightStick.x!==i.rightStick.x||n.rightStick.y!==i.rightStick.y||n.button0!==i.button0||n.button1!==i.button1||o.wheel!==a.wheel||o.left!==a.left||o.right!==a.right||o.middle!==a.middle||o.position.x!==a.position.x||o.position.y!==a.position.y}},{key:\"render\",value:function(){var e=this.props.keyboardController||{},t=e.w,r=e.a,n=e.s,o=e.d,a=e.space,s=e.control,l=this.props.gamepadController||{},c=l.button0,u=l.button1,p=l.leftTrigger,d=void 0===p?0:p,f=l.rightTrigger,h=void 0===f?0:f,m=l.leftStick,v=void 0===m?{x:0,y:0}:m,g=l.rightStick,y=void 0===g?{x:0,y:0}:g,w=this.props.mouseController||{},b=w.wheel,S=w.left,x=w.middle,T=w.right,R=w.position,A=void 0===R?{x:0,y:0}:R,M=\"cornflowerblue\";return i.a.createElement(\"div\",{style:rt.hud},i.a.createElement(\"h1\",null,i.a.createElement(\"span\",{style:{color:c?M:\"white\"}},\"B0\"),\"\\xa0\\xa0\",i.a.createElement(\"span\",{style:{color:u?M:\"white\"}},\"B1\"),\"\\xa0\\xa0\",i.a.createElement(\"span\",{style:{color:v.heading?M:\"white\"}},\"LS(\".concat(v.x.toFixed(2),\", \").concat(v.y.toFixed(2),\")\")),\"\\xa0\\xa0\",i.a.createElement(\"span\",{style:{color:d?M:\"white\"}},\"LT(\".concat(d.toFixed(2),\")\")),\"\\xa0\\xa0\",i.a.createElement(\"span\",{style:{color:y.heading?M:\"white\"}},\"RS(\".concat(y.x.toFixed(2),\", \").concat(y.y.toFixed(2),\")\")),\"\\xa0\\xa0\",i.a.createElement(\"span\",{style:{color:h?M:\"white\"}},\"RT(\".concat(h.toFixed(2),\")\")),\"\\xa0\\xa0\",i.a.createElement(\"span\",{style:{color:t?M:\"white\"}},\"W\"),i.a.createElement(\"span\",{style:{color:r?M:\"white\"}},\"A\"),i.a.createElement(\"span\",{style:{color:n?M:\"white\"}},\"S\"),i.a.createElement(\"span\",{style:{color:o?M:\"white\"}},\"D\"),\"\\xa0\\xa0\",i.a.createElement(\"span\",{style:{color:a?M:\"white\"}},\"SPACE\"),\"\\xa0\\xa0\",i.a.createElement(\"span\",{style:{color:s?M:\"white\"}},\"CONTROL\"),\"\\xa0\\xa0\",i.a.createElement(\"span\",null,\"MOUSE(\",i.a.createElement(\"span\",null,b),\"\\xa0\\xa0\",i.a.createElement(\"span\",{style:{color:S?M:\"white\"}},\"L\"),i.a.createElement(\"span\",{style:{color:x?M:\"white\"}},\"M\"),i.a.createElement(\"span\",{style:{color:T?M:\"white\"}},\"R\"),\"\\xa0\\xa0\",i.a.createElement(\"span\",null,\"\".concat(A.x,\", \").concat(A.y)),\")\")))}}]),r}(i.a.Component),rt={hud:{fontSize:10,color:\"white\",zIndex:100,marginTop:-100}},nt=function(e){var t=e.parent,r=e.world,n=e.items,i=void 0===n?[]:n,o=e.x,a=void 0===o?0:o,s=e.y,l=void 0===s?0:s,c=e.z,u=void 0===c?0:c,p=e.radius,d=void 0===p?4:p,f=e.height,m=void 0===f?.2:f,v=e.color,g=void 0===v?14540253:v,y=e.segments,w=void 0===y?32:y,b=e.opacity,S=void 0===b?1:b,x=new h.p(d,d+.1*d,m,w),T=new h.Z({color:g,transparent:S<1,opacity:S,flatShading:!0}),R=new h.V(x,T);R.position.x=a,R.position.y=l,R.position.z=u,i.forEach(function(e,t){e.model.position.z=d-1,k(e.model,R.position,{y:2*Math.PI/i.length*t}),B(R,e),e.bodies&&e.bodies[0].position.set(e.model.position.x,e.model.position.y,e.model.position.z)}),B(t,R);var A=r.add({type:\"cylinder\",size:[d,m],pos:[a,l,u],rot:[0,0,0],move:!0,density:.9,friction:.9,restitution:.2,belongsTo:1,collidesWith:4294967295}),M=r.add({type:\"cylinder\",size:[d,m],pos:[a,l,u],move:!1}),E=r.add({type:\"jointHinge\",body1:A,body2:M,axe1:[0,1,0],axe2:[0,1,0],pos1:[A.position.x,A.position.y,A.position.z],pos2:[M.position.x,M.position.y,M.position.z]});return{model:R,bodies:[A,M,E],timelines:{swipe:{while:!0,update:function(e,t,r,n){var i=n.gamepadController;i.rightTrigger?e.bodies[0].angularVelocity.set(0,i.rightTrigger,0):i.leftTrigger&&e.bodies[0].angularVelocity.set(0,-i.leftTrigger,0)}}}}},it=r(21),ot=function(){var e=Object(Ke.a)(Ve.a.mark(function e(t){var r,n,i,o,a,s,l,c,u,p,d,f,h,m;return Ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.parent,n=t.x,i=void 0===n?0:n,o=t.z,a=void 0===o?0:o,s=t.y,l=void 0===s?0:s,c=t.scale,u=void 0===c?1:c,p=t.mesh,d=t.morphTargets,f=void 0===d?{}:d,e.t0=H,e.next=4,Promise.resolve(p);case 4:return e.t1=e.sent,(h=(0,e.t0)(e.t1)).position.x=i,h.position.y=l,h.position.z=a,h.scale.x=u,h.scale.y=u,h.scale.z=u,B(r,h),m={},Object.keys(f).forEach(function(e){var t=f[e];m[e]=function(e){if(void 0===e||null===e)return h.morphTargetInfluences[t];h.morphTargetInfluences[t]=X(e,0,1)}}),e.abrupt(\"return\",{model:h,poses:m});case 16:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),at=r(23),st=r.n(at),lt=W(new it.a).load(st.a),ct=function(){var e=Object(Ke.a)(Ve.a.mark(function e(t){var r,n,i,o,a,s,l,c;return Ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.parent,n=t.x,i=void 0===n?0:n,o=t.y,a=void 0===o?0:o,s=t.z,l=void 0===s?0:s,e.next=3,ot({parent:r,x:i,y:a,z:l,mesh:lt,scale:.0035});case 3:return c=e.sent,e.abrupt(\"return\",c);case 5:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ut=function(e){h.fb.apply(this,arguments),e=e||{},this.PARTICLE_COUNT=e.maxParticles||1e6,this.PARTICLE_CONTAINERS=e.containerCount||1,this.PARTICLE_NOISE_TEXTURE=e.particleNoiseTex||null,this.PARTICLE_SPRITE_TEXTURE=e.particleSpriteTex||null,this.PARTICLES_PER_CONTAINER=Math.ceil(this.PARTICLE_COUNT/this.PARTICLE_CONTAINERS),this.PARTICLE_CURSOR=0,this.time=0,this.particleContainers=[],this.rand=[];var t,r={vertexShader:[\"uniform float uTime;\",\"uniform float uScale;\",\"uniform sampler2D tNoise;\",\"attribute vec3 positionStart;\",\"attribute float startTime;\",\"attribute vec3 velocity;\",\"attribute float turbulence;\",\"attribute vec3 color;\",\"attribute float size;\",\"attribute float lifeTime;\",\"varying vec4 vColor;\",\"varying float lifeLeft;\",\"void main() {\",\"\\tvColor = vec4( color, 1.0 );\",\"\\tvec3 newPosition;\",\"\\tvec3 v;\",\"\\tfloat timeElapsed = uTime - startTime;\",\"\\tlifeLeft = 1.0 - ( timeElapsed / lifeTime );\",\"\\tgl_PointSize = ( uScale * size ) * lifeLeft;\",\"\\tv.x = ( velocity.x - 0.5 ) * 3.0;\",\"\\tv.y = ( velocity.y - 0.5 ) * 3.0;\",\"\\tv.z = ( velocity.z - 0.5 ) * 3.0;\",\"\\tnewPosition = positionStart + ( v * 10.0 ) * timeElapsed;\",\"\\tvec3 noise = texture2D( tNoise, vec2( newPosition.x * 0.015 + ( uTime * 0.05 ), newPosition.y * 0.02 + ( uTime * 0.015 ) ) ).rgb;\",\"\\tvec3 noiseVel = ( noise.rgb - 0.5 ) * 30.0;\",\"\\tnewPosition = mix( newPosition, newPosition + vec3( noiseVel * ( turbulence * 5.0 ) ), ( timeElapsed / lifeTime ) );\",\"\\tif( v.y > 0. && v.y < .05 ) {\",\"\\t\\tlifeLeft = 0.0;\",\"\\t}\",\"\\tif( v.x < - 1.45 ) {\",\"\\t\\tlifeLeft = 0.0;\",\"\\t}\",\"\\tif( timeElapsed > 0.0 ) {\",\"\\t\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 1.0 );\",\"\\t} else {\",\"\\t\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\"\\t\\tlifeLeft = 0.0;\",\"\\t\\tgl_PointSize = 0.;\",\"\\t}\",\"}\"].join(\"\\n\"),fragmentShader:[\"float scaleLinear( float value, vec2 valueDomain ) {\",\"\\treturn ( value - valueDomain.x ) / ( valueDomain.y - valueDomain.x );\",\"}\",\"float scaleLinear( float value, vec2 valueDomain, vec2 valueRange ) {\",\"\\treturn mix( valueRange.x, valueRange.y, scaleLinear( value, valueDomain ) );\",\"}\",\"varying vec4 vColor;\",\"varying float lifeLeft;\",\"uniform sampler2D tSprite;\",\"void main() {\",\"\\tfloat alpha = 0.;\",\"\\tif( lifeLeft > 0.995 ) {\",\"\\t\\talpha = scaleLinear( lifeLeft, vec2( 1.0, 0.995 ), vec2( 0.0, 1.0 ) );\",\"\\t} else {\",\"\\t\\talpha = lifeLeft * 0.75;\",\"\\t}\",\"\\tvec4 tex = texture2D( tSprite, gl_PointCoord );\",\"\\tgl_FragColor = vec4( vColor.rgb * tex.a, alpha * tex.a );\",\"}\"].join(\"\\n\")};for(t=1e5;t>0;t--)this.rand.push(Math.random()-.5);this.random=function(){return++t>=this.rand.length?this.rand[t=1]:this.rand[t]};var n=new h.Gb;this.particleNoiseTex=this.PARTICLE_NOISE_TEXTURE||n.load(\"textures/perlin-512.png\"),this.particleNoiseTex.wrapS=this.particleNoiseTex.wrapT=h.vb,this.particleSpriteTex=this.PARTICLE_SPRITE_TEXTURE||n.load(\"textures/particle2.png\"),this.particleSpriteTex.wrapS=this.particleSpriteTex.wrapT=h.vb,this.particleShaderMat=new h.yb({transparent:!0,depthWrite:!1,uniforms:{uTime:{value:0},uScale:{value:1},tNoise:{value:this.particleNoiseTex},tSprite:{value:this.particleSpriteTex}},blending:h.a,vertexShader:r.vertexShader,fragmentShader:r.fragmentShader}),this.particleShaderMat.defaultAttributeValues.particlePositionsStartTime=[0,0,0,0],this.particleShaderMat.defaultAttributeValues.particleVelColSizeLife=[0,0,0,0],this.init=function(){for(var e=0;e<this.PARTICLE_CONTAINERS;e++){var t=new pt(this.PARTICLES_PER_CONTAINER,this);this.particleContainers.push(t),this.add(t)}},this.spawnParticle=function(e){this.PARTICLE_CURSOR++,this.PARTICLE_CURSOR>=this.PARTICLE_COUNT&&(this.PARTICLE_CURSOR=1),this.particleContainers[Math.floor(this.PARTICLE_CURSOR/this.PARTICLES_PER_CONTAINER)].spawnParticle(e)},this.update=function(e){for(var t=0;t<this.PARTICLE_CONTAINERS;t++)this.particleContainers[t].update(e)},this.dispose=function(){this.particleShaderMat.dispose(),this.particleNoiseTex.dispose(),this.particleSpriteTex.dispose();for(var e=0;e<this.PARTICLE_CONTAINERS;e++)this.particleContainers[e].dispose()},this.init()};(ut.prototype=Object.create(h.fb.prototype)).constructor=ut;var pt=function(e,t){h.fb.apply(this,arguments),this.PARTICLE_COUNT=e||1e5,this.PARTICLE_CURSOR=0,this.time=0,this.offset=0,this.count=0,this.DPR=window.devicePixelRatio,this.GPUParticleSystem=t,this.particleUpdate=!1,this.particleShaderGeo=new h.k,this.particleShaderGeo.addAttribute(\"position\",new h.j(new Float32Array(3*this.PARTICLE_COUNT),3).setDynamic(!0)),this.particleShaderGeo.addAttribute(\"positionStart\",new h.j(new Float32Array(3*this.PARTICLE_COUNT),3).setDynamic(!0)),this.particleShaderGeo.addAttribute(\"startTime\",new h.j(new Float32Array(this.PARTICLE_COUNT),1).setDynamic(!0)),this.particleShaderGeo.addAttribute(\"velocity\",new h.j(new Float32Array(3*this.PARTICLE_COUNT),3).setDynamic(!0)),this.particleShaderGeo.addAttribute(\"turbulence\",new h.j(new Float32Array(this.PARTICLE_COUNT),1).setDynamic(!0)),this.particleShaderGeo.addAttribute(\"color\",new h.j(new Float32Array(3*this.PARTICLE_COUNT),3).setDynamic(!0)),this.particleShaderGeo.addAttribute(\"size\",new h.j(new Float32Array(this.PARTICLE_COUNT),1).setDynamic(!0)),this.particleShaderGeo.addAttribute(\"lifeTime\",new h.j(new Float32Array(this.PARTICLE_COUNT),1).setDynamic(!0)),this.particleShaderMat=this.GPUParticleSystem.particleShaderMat;var r=new h.Qb,n=new h.Qb,i=new h.m;this.spawnParticle=function(e){var o=this.particleShaderGeo.getAttribute(\"positionStart\"),a=this.particleShaderGeo.getAttribute(\"startTime\"),s=this.particleShaderGeo.getAttribute(\"velocity\"),l=this.particleShaderGeo.getAttribute(\"turbulence\"),c=this.particleShaderGeo.getAttribute(\"color\"),u=this.particleShaderGeo.getAttribute(\"size\"),p=this.particleShaderGeo.getAttribute(\"lifeTime\");r=void 0!==(e=e||{}).position?r.copy(e.position):r.set(0,0,0),n=void 0!==e.velocity?n.copy(e.velocity):n.set(0,0,0),i=void 0!==e.color?i.set(e.color):i.set(16777215);var d=void 0!==e.positionRandomness?e.positionRandomness:0,f=void 0!==e.velocityRandomness?e.velocityRandomness:0,m=void 0!==e.colorRandomness?e.colorRandomness:1,v=void 0!==e.turbulence?e.turbulence:1,g=void 0!==e.lifetime?e.lifetime:5,y=void 0!==e.size?e.size:10,w=void 0!==e.sizeRandomness?e.sizeRandomness:0,b=void 0!==e.smoothPosition&&e.smoothPosition;void 0!==this.DPR&&(y*=this.DPR);var S=this.PARTICLE_CURSOR;o.array[3*S+0]=r.x+t.random()*d,o.array[3*S+1]=r.y+t.random()*d,o.array[3*S+2]=r.z+t.random()*d,!0===b&&(o.array[3*S+0]+=-n.x*t.random(),o.array[3*S+1]+=-n.y*t.random(),o.array[3*S+2]+=-n.z*t.random());var x=n.x+t.random()*f,T=n.y+t.random()*f,R=n.z+t.random()*f;x=h.S.clamp((x- -2)/4,0,1),T=h.S.clamp((T- -2)/4,0,1),R=h.S.clamp((R- -2)/4,0,1),s.array[3*S+0]=x,s.array[3*S+1]=T,s.array[3*S+2]=R,i.r=h.S.clamp(i.r+t.random()*m,0,1),i.g=h.S.clamp(i.g+t.random()*m,0,1),i.b=h.S.clamp(i.b+t.random()*m,0,1),c.array[3*S+0]=i.r,c.array[3*S+1]=i.g,c.array[3*S+2]=i.b,l.array[S]=v,u.array[S]=y+t.random()*w,p.array[S]=g,a.array[S]=this.time+.02*t.random(),0===this.offset&&(this.offset=this.PARTICLE_CURSOR),this.count++,this.PARTICLE_CURSOR++,this.PARTICLE_CURSOR>=this.PARTICLE_COUNT&&(this.PARTICLE_CURSOR=0),this.particleUpdate=!0},this.init=function(){this.particleSystem=new h.kb(this.particleShaderGeo,this.particleShaderMat),this.particleSystem.frustumCulled=!1,this.add(this.particleSystem)},this.update=function(e){this.time=e,this.particleShaderMat.uniforms.uTime.value=e,this.geometryUpdate()},this.geometryUpdate=function(){if(!0===this.particleUpdate){this.particleUpdate=!1;var e=this.particleShaderGeo.getAttribute(\"positionStart\"),t=this.particleShaderGeo.getAttribute(\"startTime\"),r=this.particleShaderGeo.getAttribute(\"velocity\"),n=this.particleShaderGeo.getAttribute(\"turbulence\"),i=this.particleShaderGeo.getAttribute(\"color\"),o=this.particleShaderGeo.getAttribute(\"size\"),a=this.particleShaderGeo.getAttribute(\"lifeTime\");this.offset+this.count<this.PARTICLE_COUNT?(e.updateRange.offset=this.offset*e.itemSize,t.updateRange.offset=this.offset*t.itemSize,r.updateRange.offset=this.offset*r.itemSize,n.updateRange.offset=this.offset*n.itemSize,i.updateRange.offset=this.offset*i.itemSize,o.updateRange.offset=this.offset*o.itemSize,a.updateRange.offset=this.offset*a.itemSize,e.updateRange.count=this.count*e.itemSize,t.updateRange.count=this.count*t.itemSize,r.updateRange.count=this.count*r.itemSize,n.updateRange.count=this.count*n.itemSize,i.updateRange.count=this.count*i.itemSize,o.updateRange.count=this.count*o.itemSize,a.updateRange.count=this.count*a.itemSize):(e.updateRange.offset=0,t.updateRange.offset=0,r.updateRange.offset=0,n.updateRange.offset=0,i.updateRange.offset=0,o.updateRange.offset=0,a.updateRange.offset=0,e.updateRange.count=-1,t.updateRange.count=-1,r.updateRange.count=-1,n.updateRange.count=-1,i.updateRange.count=-1,o.updateRange.count=-1,a.updateRange.count=-1),e.needsUpdate=!0,t.needsUpdate=!0,r.needsUpdate=!0,n.needsUpdate=!0,i.needsUpdate=!0,o.needsUpdate=!0,a.needsUpdate=!0,this.offset=0,this.count=0}},this.dispose=function(){this.particleShaderGeo.dispose()},this.init()};pt.prototype=Object.create(h.fb.prototype),pt.prototype.constructor=pt;var dt=ut,ft=r(24),ht=r.n(ft),mt=W(new h.Gb).load(ht.a),vt=function(){var e=Object(Ke.a)(Ve.a.mark(function e(t){var r,n,i,o,a,s,l,c,u,p,d,f;return Ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.maxParticles,n=void 0===r?250:r,i=t.noiseTexture,o=t.particleTexture,a=t.parent,s=t.options,l=void 0===s?{}:s,c=t.spawnOptions,u=void 0===c?{}:c,p=t.beforeSpawn,d=void 0===p?function(){}:p,e.t0=dt,e.t1=n,e.next=5,Promise.resolve(i||mt);case 5:return e.t2=e.sent,e.next=8,Promise.resolve(o);case 8:return e.t3=e.sent,e.t4={maxParticles:e.t1,particleNoiseTex:e.t2,particleSpriteTex:e.t3},f=new e.t0(e.t4),B(a,f),e.abrupt(\"return\",{emitter:f,options:l,spawnOptions:u,beforeSpawn:d,tick:0});case 13:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),gt=r(25),yt=r.n(gt),wt=W(new h.Gb).load(yt.a),bt=function(){var e=Object(Ke.a)(Ve.a.mark(function e(t){var r,n,i,o,a,s,l,c,u,p,d,f,m,v,g,y,w,b;return Ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.parent,n=t.x,i=void 0===n?0:n,o=t.y,a=void 0===o?0:o,s=t.z,l=void 0===s?0:s,c=t.height,u=void 0===c?.5:c,p=t.radius,d=void 0===p?.5:p,f=t.verticalSpeed,m=void 0===f?.01:f,v=t.horizontalSpeed,g=void 0===v?.3:v,y=t.color,w=void 0===y?16777215:y,e.next=3,vt({parent:r,particleTexture:wt,maxParticles:250,options:{position:new h.Qb(i,a,l),positionRandomness:0,velocity:new h.Qb,velocityRandomness:0,color:w,colorRandomness:0,turbulence:0,lifetime:12,size:10,sizeRandomness:0,verticalSpeed:m,theta:0},spawnOptions:{spawnRate:20,timeScale:1},beforeSpawn:function(e,t,r){var n=r.options;n.theta+=g,n.position.x=i+Math.cos(n.theta)*d,n.position.y+=n.verticalSpeed,n.position.z=l+Math.sin(n.theta)*d,Math.abs(n.position.y-a)>u&&(n.verticalSpeed*=-1)}});case 3:return b=e.sent,e.abrupt(\"return\",{model:b.emitter,particles:{swirl:b}});case 5:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),St=r(26),xt=function e(){this._parser=e.parse};(xt.prototype=Object.create(h.n.prototype)).constructor=xt,xt.parse=function(e,t){var r={mipmaps:[],width:0,height:0,format:null,mipmapCount:1};function n(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}function i(e,t,r,n){for(var i=r*n*4,o=new Uint8Array(e,t,i),a=new Uint8Array(i),s=0,l=0,c=0;c<n;c++)for(var u=0;u<r;u++){var p=o[l],d=o[++l],f=o[++l],h=o[++l];l++,a[s]=f,a[++s]=d,a[++s]=p,a[++s]=h,s++}return a}var o,a=n(\"DXT1\"),s=n(\"DXT3\"),l=n(\"DXT5\"),c=n(\"ETC1\"),u=new Int32Array(e,0,31);if(542327876!==u[0])return console.error(\"THREE.DDSLoader.parse: Invalid magic number in DDS header.\"),r;if(4&!u[20])return console.error(\"THREE.DDSLoader.parse: Unsupported format, must contain a FourCC code.\"),r;var p,d=u[21],f=!1;switch(d){case a:o=8,r.format=h.ub;break;case s:o=16,r.format=h.qb;break;case l:o=16,r.format=h.rb;break;case c:o=8,r.format=h.tb;break;default:if(!(32===u[22]&&16711680&u[23]&&65280&u[24]&&255&u[25]&&4278190080&u[26]))return console.error(\"THREE.DDSLoader.parse: Unsupported FourCC code \",(p=d,String.fromCharCode(255&p,p>>8&255,p>>16&255,p>>24&255))),r;f=!0,o=64,r.format=h.pb}r.mipmapCount=1,131072&u[2]&&!1!==t&&(r.mipmapCount=Math.max(1,u[7]));var m=u[28];if(r.isCubemap=!!(512&m),r.isCubemap&&(!(1024&m)||!(2048&m)||!(4096&m)||!(8192&m)||!(16384&m)||!(32768&m)))return console.error(\"THREE.DDSLoader.parse: Incomplete cubemap faces\"),r;r.width=u[4],r.height=u[3];for(var v=u[1]+4,g=r.isCubemap?6:1,y=0;y<g;y++)for(var w=r.width,b=r.height,S=null,x=null,T=0;T<r.mipmapCount;T++){f?x=(S=i(e,v,w,b)).length:(x=Math.max(4,w)/4*Math.max(4,b)/4*o,S=new Uint8Array(e,v,x));var R={data:S,width:w,height:b};r.mipmaps.push(R),v+=x,w=Math.max(w>>1,1),b=Math.max(b>>1,1)}return r};var Tt=xt,Rt=function(){function e(e){this.manager=void 0!==e?e:h.q,this.dracoLoader=null}function t(){var e={};return{get:function(t){return e[t]},add:function(t,r){e[t]=r},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype={constructor:e,crossOrigin:\"Anonymous\",load:function(e,t,r,n){var i=this,o=void 0!==this.path?this.path:h.O.extractUrlBase(e),a=new h.v(i.manager);a.setResponseType(\"arraybuffer\"),a.load(e,function(e){try{i.parse(e,o,t,n)}catch(r){if(void 0===n)throw r;n(r)}},r,n)},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setDRACOLoader:function(e){return this.dracoLoader=e,this},parse:function(e,t,s,l){var d,f={};if(\"string\"===typeof e)d=e;else if(h.O.decodeText(new Uint8Array(e,0,4))===a){try{f[r.KHR_BINARY_GLTF]=new c(e)}catch(v){return void(l&&l(v))}d=f[r.KHR_BINARY_GLTF].content}else d=h.O.decodeText(new Uint8Array(e));var m=JSON.parse(d);void 0===m.asset||m.asset.version[0]<2?l&&l(new Error(\"THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead.\")):(m.extensionsUsed&&(m.extensionsUsed.indexOf(r.KHR_LIGHTS)>=0&&(f[r.KHR_LIGHTS]=new i(m)),m.extensionsUsed.indexOf(r.KHR_MATERIALS_UNLIT)>=0&&(f[r.KHR_MATERIALS_UNLIT]=new o(m)),m.extensionsUsed.indexOf(r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS)>=0&&(f[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]=new p),m.extensionsUsed.indexOf(r.KHR_DRACO_MESH_COMPRESSION)>=0&&(f[r.KHR_DRACO_MESH_COMPRESSION]=new u(this.dracoLoader)),m.extensionsUsed.indexOf(r.MSFT_TEXTURE_DDS)>=0&&(f[r.MSFT_TEXTURE_DDS]=new n)),new j(m,f,{path:t||this.path||\"\",crossOrigin:this.crossOrigin,manager:this.manager}).parse(function(e,t,r,n,i){s({scene:e,scenes:t,cameras:r,animations:n,asset:i})},l))}};var r={KHR_BINARY_GLTF:\"KHR_binary_glTF\",KHR_DRACO_MESH_COMPRESSION:\"KHR_draco_mesh_compression\",KHR_LIGHTS:\"KHR_lights\",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\"KHR_materials_pbrSpecularGlossiness\",KHR_MATERIALS_UNLIT:\"KHR_materials_unlit\",MSFT_TEXTURE_DDS:\"MSFT_texture_dds\"};function n(){if(!Tt)throw new Error(\"THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader\");this.name=r.MSFT_TEXTURE_DDS,this.ddsLoader=new Tt}function i(e){this.name=r.KHR_LIGHTS,this.lights={};var t=(e.extensions&&e.extensions[r.KHR_LIGHTS]||{}).lights||{};for(var n in t){var i,o=t[n],a=(new h.m).fromArray(o.color);switch(o.type){case\"directional\":(i=new h.r(a)).target.position.set(0,0,1),i.add(i.target);break;case\"point\":i=new h.jb(a);break;case\"spot\":i=new h.Cb(a),o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,i.angle=o.spot.outerConeAngle,i.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,i.target.position.set(0,0,1),i.add(i.target);break;case\"ambient\":i=new h.c(a)}i&&(i.decay=2,void 0!==o.intensity&&(i.intensity=o.intensity),i.name=o.name||\"light_\"+n,this.lights[n]=i)}}function o(e){this.name=r.KHR_MATERIALS_UNLIT}o.prototype.getMaterialType=function(e){return h.W},o.prototype.extendParams=function(e,t,r){var n=[];e.color=new h.m(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var o=i.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}void 0!==i.baseColorTexture&&n.push(r.assignTexture(e,\"map\",i.baseColorTexture.index))}return Promise.all(n)};var a=\"glTF\",s=12,l={JSON:1313821514,BIN:5130562};function c(e){this.name=r.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,s);if(this.header={magic:h.O.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==a)throw new Error(\"THREE.GLTFLoader: Unsupported glTF-Binary header.\");if(this.header.version<2)throw new Error(\"THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.\");for(var n=new DataView(e,s),i=0;i<n.byteLength;){var o=n.getUint32(i,!0);i+=4;var c=n.getUint32(i,!0);if(i+=4,c===l.JSON){var u=new Uint8Array(e,s+i,o);this.content=h.O.decodeText(u)}else if(c===l.BIN){var p=s+i;this.body=e.slice(p,p+o)}i+=o}if(null===this.content)throw new Error(\"THREE.GLTFLoader: JSON content not found.\")}function u(e){if(!e)throw new Error(\"THREE.GLTFLoader: No DRACOLoader instance provided.\");this.name=r.KHR_DRACO_MESH_COMPRESSION,this.dracoLoader=e}function p(){return{name:r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:[\"color\",\"map\",\"lightMap\",\"lightMapIntensity\",\"aoMap\",\"aoMapIntensity\",\"emissive\",\"emissiveIntensity\",\"emissiveMap\",\"bumpMap\",\"bumpScale\",\"normalMap\",\"displacementMap\",\"displacementScale\",\"displacementBias\",\"specularMap\",\"specular\",\"glossinessMap\",\"glossiness\",\"alphaMap\",\"envMap\",\"envMapIntensity\",\"refractionRatio\"],getMaterialType:function(){return h.yb},extendParams:function(e,t,r){var n=t.extensions[this.name],i=h.xb.standard,o=h.Kb.clone(i.uniforms),a=[\"#ifdef USE_SPECULARMAP\",\"\\tuniform sampler2D specularMap;\",\"#endif\"].join(\"\\n\"),s=[\"#ifdef USE_GLOSSINESSMAP\",\"\\tuniform sampler2D glossinessMap;\",\"#endif\"].join(\"\\n\"),l=[\"vec3 specularFactor = specular;\",\"#ifdef USE_SPECULARMAP\",\"\\tvec4 texelSpecular = texture2D( specularMap, vUv );\",\"\\ttexelSpecular = sRGBToLinear( texelSpecular );\",\"\\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture\",\"\\tspecularFactor *= texelSpecular.rgb;\",\"#endif\"].join(\"\\n\"),c=[\"float glossinessFactor = glossiness;\",\"#ifdef USE_GLOSSINESSMAP\",\"\\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );\",\"\\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture\",\"\\tglossinessFactor *= texelGlossiness.a;\",\"#endif\"].join(\"\\n\"),u=[\"PhysicalMaterial material;\",\"material.diffuseColor = diffuseColor.rgb;\",\"material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );\",\"material.specularColor = specularFactor.rgb;\"].join(\"\\n\"),p=i.fragmentShader.replace(\"#include <specularmap_fragment>\",\"\").replace(\"uniform float roughness;\",\"uniform vec3 specular;\").replace(\"uniform float metalness;\",\"uniform float glossiness;\").replace(\"#include <roughnessmap_pars_fragment>\",a).replace(\"#include <metalnessmap_pars_fragment>\",s).replace(\"#include <roughnessmap_fragment>\",l).replace(\"#include <metalnessmap_fragment>\",c).replace(\"#include <lights_physical_fragment>\",u);delete o.roughness,delete o.metalness,delete o.roughnessMap,delete o.metalnessMap,o.specular={value:(new h.m).setHex(1118481)},o.glossiness={value:.5},o.specularMap={value:null},o.glossinessMap={value:null},e.vertexShader=i.vertexShader,e.fragmentShader=p,e.uniforms=o,e.defines={STANDARD:\"\"},e.color=new h.m(1,1,1),e.opacity=1;var d=[];if(Array.isArray(n.diffuseFactor)){var f=n.diffuseFactor;e.color.fromArray(f),e.opacity=f[3]}if(void 0!==n.diffuseTexture&&d.push(r.assignTexture(e,\"map\",n.diffuseTexture.index)),e.emissive=new h.m(0,0,0),e.glossiness=void 0!==n.glossinessFactor?n.glossinessFactor:1,e.specular=new h.m(1,1,1),Array.isArray(n.specularFactor)&&e.specular.fromArray(n.specularFactor),void 0!==n.specularGlossinessTexture){var m=n.specularGlossinessTexture.index;d.push(r.assignTexture(e,\"glossinessMap\",m)),d.push(r.assignTexture(e,\"specularMap\",m))}return Promise.all(d)},createMaterial:function(e){var t=new h.yb({defines:e.defines,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,fog:!0,lights:!0,opacity:e.opacity,transparent:e.transparent});return t.isGLTFSpecularGlossinessMaterial=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t.extensions.derivatives=!0,t},cloneMaterial:function(e){var t=e.clone();t.isGLTFSpecularGlossinessMaterial=!0;for(var r=this.specularGlossinessParams,n=0,i=r.length;n<i;n++)t[r[n]]=e[r[n]];return t},refreshUniforms:function(e,t,r,n,i,o){if(!0===i.isGLTFSpecularGlossinessMaterial){var a,s,l,c=i.uniforms,u=i.defines;if(c.opacity.value=i.opacity,c.diffuse.value.copy(i.color),c.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),c.map.value=i.map,c.specularMap.value=i.specularMap,c.alphaMap.value=i.alphaMap,c.lightMap.value=i.lightMap,c.lightMapIntensity.value=i.lightMapIntensity,c.aoMap.value=i.aoMap,c.aoMapIntensity.value=i.aoMapIntensity,i.map?a=i.map:i.specularMap?a=i.specularMap:i.displacementMap?a=i.displacementMap:i.normalMap?a=i.normalMap:i.bumpMap?a=i.bumpMap:i.glossinessMap?a=i.glossinessMap:i.alphaMap?a=i.alphaMap:i.emissiveMap&&(a=i.emissiveMap),void 0!==a)if(a.isWebGLRenderTarget&&(a=a.texture),void 0!==a.matrix){if(!0===a.matrixAutoUpdate){s=a.offset,l=a.repeat;var p=a.rotation,d=a.center;a.matrix.setUvTransform(s.x,s.y,l.x,l.y,p,d.x,d.y)}c.uvTransform.value.copy(a.matrix)}else s=a.offset,l=a.repeat,c.offsetRepeat.value.set(s.x,s.y,l.x,l.y);c.envMap.value=i.envMap,c.envMapIntensity.value=i.envMapIntensity,c.flipEnvMap.value=i.envMap&&i.envMap.isCubeTexture?-1:1,c.refractionRatio.value=i.refractionRatio,c.specular.value.copy(i.specular),c.glossiness.value=i.glossiness,c.glossinessMap.value=i.glossinessMap,c.emissiveMap.value=i.emissiveMap,c.bumpMap.value=i.bumpMap,c.normalMap.value=i.normalMap,c.displacementMap.value=i.displacementMap,c.displacementScale.value=i.displacementScale,c.displacementBias.value=i.displacementBias,null!==c.glossinessMap.value&&void 0===u.USE_GLOSSINESSMAP&&(u.USE_GLOSSINESSMAP=\"\",u.USE_ROUGHNESSMAP=\"\"),null===c.glossinessMap.value&&void 0!==u.USE_GLOSSINESSMAP&&(delete u.USE_GLOSSINESSMAP,delete u.USE_ROUGHNESSMAP)}}}}function d(e,t,r,n){h.C.call(this,e,t,r,n)}u.prototype.decodePrimitive=function(e,t){var r=this.dracoLoader,n=e.extensions[this.name].bufferView,i=e.extensions[this.name].attributes,o={};for(var a in i)a in E&&(o[E[a]]=i[a]);return t.getDependency(\"bufferView\",n).then(function(e){return new Promise(function(t){r.decodeDracoFile(e,t,o)})})},d.prototype=Object.create(h.C.prototype),d.prototype.constructor=d,d.prototype.interpolate_=function(e,t,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=2*a,l=3*a,c=n-t,u=(r-t)/c,p=u*u,d=p*u,f=e*l,h=f-l,m=2*d-3*p+1,v=d-2*p+u,g=-2*d+3*p,y=d-p,w=0;w!==a;w++){var b=o[h+w+a],S=o[h+w+s]*c,x=o[f+w+a],T=o[f+w]*c;i[w]=m*b+v*S+g*x+y*T}return i};var f=0,m=1,v=2,g=3,y=4,w=5,b=6,S={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},x={9728:h.bb,9729:h.K,9984:h.db,9985:h.M,9986:h.cb,9987:h.L},T={33071:h.l,33648:h.ab,10497:h.vb},R={6406:h.b,6407:h.sb,6408:h.pb,6409:h.Q,6410:h.P},A={5121:h.Lb,32819:h.Mb,32820:h.Nb,33635:h.Ob},M={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},E={POSITION:\"position\",NORMAL:\"normal\",TEXCOORD_0:\"uv\",TEXCOORD0:\"uv\",TEXCOORD:\"uv\",TEXCOORD_1:\"uv2\",COLOR_0:\"color\",COLOR0:\"color\",COLOR:\"color\",WEIGHTS_0:\"skinWeight\",WEIGHT:\"skinWeight\",JOINTS_0:\"skinIndex\",JOINT:\"skinIndex\"},C={scale:\"scale\",translation:\"position\",rotation:\"quaternion\",weights:\"morphTargetInfluences\"},L={CUBICSPLINE:h.F,LINEAR:h.E,STEP:h.D},I=\"OPAQUE\",O=\"MASK\",P=\"BLEND\";function D(e,t){return\"string\"!==typeof e||\"\"===e?\"\":/^(https?:)?\\/\\//i.test(e)?e:/^data:.*,.*$/i.test(e)?e:/^blob:.*$/i.test(e)?e:t+e}function U(e,t,r,n){for(var i=e.geometry,o=r.targets,a=!1,s=!1,l=null,c=0,u=o.length;c<u&&(void 0!==(l=o[c]).POSITION&&(a=!0),void 0!==l.NORMAL&&(s=!0),!a||!s);c++);if(a||s){for(var p=[],d=[],f=0,h=o.length;f<h;f++){l=o[f];var m=\"morphTarget\"+f;if(a){if(void 0!==l.POSITION){var v=G(n[l.POSITION]);v.name=m;for(var g=i.attributes.position,y=0,w=v.count;y<w;y++)v.setXYZ(y,v.getX(y)+g.getX(y),v.getY(y)+g.getY(y),v.getZ(y)+g.getZ(y))}else v=i.attributes.position;p.push(v)}if(s){var b;if(void 0!==l.NORMAL){(b=G(n[l.NORMAL])).name=m;for(var S=i.attributes.normal,x=0,T=b.count;x<T;x++)b.setXYZ(x,b.getX(x)+S.getX(x),b.getY(x)+S.getY(x),b.getZ(x)+S.getZ(x))}else b=i.attributes.normal;d.push(b)}}if(a&&(i.morphAttributes.position=p),s&&(i.morphAttributes.normal=d),e.updateMorphTargets(),void 0!==t.weights)for(var R=0,A=t.weights.length;R<A;R++)e.morphTargetInfluences[R]=t.weights[R];if(t.extras&&Array.isArray(t.extras.targetNames)){var M=t.extras.targetNames;if(e.morphTargetInfluences.length===M.length){e.morphTargetDictionary={};for(var E=0,C=M.length;E<C;E++)e.morphTargetDictionary[M[E]]=E}else console.warn(\"THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.\")}}}function F(e,t){if(e.indices!==t.indices)return!1;var r=e.attributes||{},n=t.attributes||{},i=Object.keys(r),o=Object.keys(n);if(i.length!==o.length)return!1;for(var a=0,s=i.length;a<s;a++){var l=i[a];if(r[l]!==n[l])return!1}return!0}function _(e,t){for(var r=0,n=e.length;r<n;r++){var i=e[r];if(F(i.primitive,t))return i.promise}return null}function G(e){if(e.isInterleavedBufferAttribute){for(var t=e.count,r=e.itemSize,n=e.array.slice(0,t*r),i=0;i<t;++i)n[i]=e.getX(i),r>=2&&(n[i+1]=e.getY(i)),r>=3&&(n[i+2]=e.getZ(i)),r>=4&&(n[i+3]=e.getW(i));return new h.j(n,r,e.normalized)}return e.clone()}function j(e,r,n){this.json=e||{},this.extensions=r||{},this.options=n||{},this.cache=new t,this.primitiveCache=[],this.textureLoader=new h.Gb(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new h.v(this.options.manager),this.fileLoader.setResponseType(\"arraybuffer\")}function k(e,t,r){var n=t.attributes;for(var i in n){var o=E[i],a=r[n[i]];o&&(o in e.attributes||e.addAttribute(o,a))}void 0===t.indices||e.index||e.setIndex(r[t.indices])}return j.prototype.parse=function(e,t){var r=this.json;this.cache.removeAll(),this.markDefs(),this.getMultiDependencies([\"scene\",\"animation\",\"camera\"]).then(function(t){var n=t.scenes||[],i=n[r.scene||0],o=t.animations||[],a=r.asset,s=t.cameras||[];e(i,n,s,o,a)}).catch(t)},j.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[],n={},i={},o=0,a=t.length;o<a;o++)for(var s=t[o].joints,l=0,c=s.length;l<c;l++)e[s[l]].isBone=!0;for(var u=0,p=e.length;u<p;u++){var d=e[u];void 0!==d.mesh&&(void 0===n[d.mesh]&&(n[d.mesh]=i[d.mesh]=0),n[d.mesh]++,void 0!==d.skin&&(r[d.mesh].isSkinnedMesh=!0))}this.json.meshReferences=n,this.json.meshUses=i},j.prototype.getDependency=function(e,t){var r=e+\":\"+t,n=this.cache.get(r);if(!n){switch(e){case\"scene\":n=this.loadScene(t);break;case\"node\":n=this.loadNode(t);break;case\"mesh\":n=this.loadMesh(t);break;case\"accessor\":n=this.loadAccessor(t);break;case\"bufferView\":n=this.loadBufferView(t);break;case\"buffer\":n=this.loadBuffer(t);break;case\"material\":n=this.loadMaterial(t);break;case\"texture\":n=this.loadTexture(t);break;case\"skin\":n=this.loadSkin(t);break;case\"animation\":n=this.loadAnimation(t);break;case\"camera\":n=this.loadCamera(t);break;default:throw new Error(\"Unknown type: \"+e)}this.cache.add(r,n)}return n},j.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var r=this,n=this.json[e+(\"mesh\"===e?\"es\":\"s\")]||[];t=Promise.all(n.map(function(t,n){return r.getDependency(e,n)})),this.cache.add(e,t)}return t},j.prototype.getMultiDependencies=function(e){for(var t={},r=[],n=0,i=e.length;n<i;n++){var o=e[n],a=this.getDependencies(o);a=a.then(function(e,r){t[e]=r}.bind(this,o+(\"mesh\"===o?\"es\":\"s\"))),r.push(a)}return Promise.all(r).then(function(){return t})},j.prototype.loadBuffer=function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&\"arraybuffer\"!==t.type)throw new Error(\"THREE.GLTFLoader: \"+t.type+\" buffer type is not supported.\");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[r.KHR_BINARY_GLTF].body);var i=this.options;return new Promise(function(e,r){n.load(D(t.uri,i.path),e,void 0,function(){r(new Error('THREE.GLTFLoader: Failed to load buffer \"'+t.uri+'\".'))})})},j.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency(\"buffer\",t.buffer).then(function(e){var r=t.byteLength||0,n=t.byteOffset||0;return e.slice(n,n+r)})},j.prototype.loadAccessor=function(e){var t=this,r=this.json,n=this.json.accessors[e];if(void 0===n.bufferView&&void 0===n.sparse)return null;var i=[];return void 0!==n.bufferView?i.push(this.getDependency(\"bufferView\",n.bufferView)):i.push(null),void 0!==n.sparse&&(i.push(this.getDependency(\"bufferView\",n.sparse.indices.bufferView)),i.push(this.getDependency(\"bufferView\",n.sparse.values.bufferView))),Promise.all(i).then(function(e){var i,o,a=e[0],s=M[n.type],l=S[n.componentType],c=l.BYTES_PER_ELEMENT,u=c*s,p=n.byteOffset||0,d=r.bufferViews[n.bufferView].byteStride,f=!0===n.normalized;if(d&&d!==u){var m=\"InterleavedBuffer:\"+n.bufferView+\":\"+n.componentType,v=t.cache.get(m);v||(i=new l(a),v=new h.A(i,d/c),t.cache.add(m,v)),o=new h.B(v,s,p/c,f)}else i=null===a?new l(n.count*s):new l(a,p,n.count*s),o=new h.j(i,s,f);if(void 0!==n.sparse){var g=M.SCALAR,y=S[n.sparse.indices.componentType],w=n.sparse.indices.byteOffset||0,b=n.sparse.values.byteOffset||0,x=new y(e[1],w,n.sparse.count*g),T=new l(e[2],b,n.sparse.count*s);null!==a&&o.setArray(o.array.slice());for(var R=0,A=x.length;R<A;R++){var E=x[R];if(o.setX(E,T[R*s]),s>=2&&o.setY(E,T[R*s+1]),s>=3&&o.setZ(E,T[R*s+2]),s>=4&&o.setW(E,T[R*s+3]),s>=5)throw new Error(\"THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.\")}}return o})},j.prototype.loadTexture=function(e){var t,n=this,i=this.json,o=this.options,a=this.textureLoader,s=window.URL||window.webkitURL,l=i.textures[e],c=l.extensions||{},u=(t=c[r.MSFT_TEXTURE_DDS]?i.images[c[r.MSFT_TEXTURE_DDS].source]:i.images[l.source]).uri,p=!1;return void 0!==t.bufferView&&(u=n.getDependency(\"bufferView\",t.bufferView).then(function(e){p=!0;var r=new Blob([e],{type:t.mimeType});return u=s.createObjectURL(r)})),Promise.resolve(u).then(function(e){var t=h.N.Handlers.get(e);return t||(t=c[r.MSFT_TEXTURE_DDS]?n.extensions[r.MSFT_TEXTURE_DDS].ddsLoader:a),new Promise(function(r,n){t.load(D(e,o.path),r,void 0,n)})}).then(function(e){!0===p&&s.revokeObjectURL(u),e.flipY=!1,void 0!==l.name&&(e.name=l.name),c[r.MSFT_TEXTURE_DDS]||(e.format=void 0!==l.format?R[l.format]:h.pb),void 0!==l.internalFormat&&e.format!==R[l.internalFormat]&&console.warn(\"THREE.GLTFLoader: Three.js does not support texture internalFormat which is different from texture format. internalFormat will be forced to be the same value as format.\"),e.type=void 0!==l.type?A[l.type]:h.Lb;var t=(i.samplers||{})[l.sampler]||{};return e.magFilter=x[t.magFilter]||h.K,e.minFilter=x[t.minFilter]||h.L,e.wrapS=T[t.wrapS]||h.vb,e.wrapT=T[t.wrapT]||h.vb,e})},j.prototype.assignTexture=function(e,t,r){return this.getDependency(\"texture\",r).then(function(r){e[t]=r})},j.prototype.loadMaterial=function(e){var t,n=this.extensions,i=this.json.materials[e],o={},a=i.extensions||{},s=[];if(a[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var l=n[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=l.getMaterialType(i),s.push(l.extendParams(o,i,this))}else if(a[r.KHR_MATERIALS_UNLIT]){var c=n[r.KHR_MATERIALS_UNLIT];t=c.getMaterialType(i),s.push(c.extendParams(o,i,this))}else{t=h.Z;var u=i.pbrMetallicRoughness||{};if(o.color=new h.m(1,1,1),o.opacity=1,Array.isArray(u.baseColorFactor)){var p=u.baseColorFactor;o.color.fromArray(p),o.opacity=p[3]}if(void 0!==u.baseColorTexture&&s.push(this.assignTexture(o,\"map\",u.baseColorTexture.index)),o.metalness=void 0!==u.metallicFactor?u.metallicFactor:1,o.roughness=void 0!==u.roughnessFactor?u.roughnessFactor:1,void 0!==u.metallicRoughnessTexture){var d=u.metallicRoughnessTexture.index;s.push(this.assignTexture(o,\"metalnessMap\",d)),s.push(this.assignTexture(o,\"roughnessMap\",d))}}!0===i.doubleSided&&(o.side=h.s);var f=i.alphaMode||I;return f===P?o.transparent=!0:(o.transparent=!1,f===O&&(o.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&t!==h.W&&(s.push(this.assignTexture(o,\"normalMap\",i.normalTexture.index)),o.normalScale=new h.Pb(1,1),void 0!==i.normalTexture.scale&&o.normalScale.set(i.normalTexture.scale,i.normalTexture.scale)),void 0!==i.occlusionTexture&&t!==h.W&&(s.push(this.assignTexture(o,\"aoMap\",i.occlusionTexture.index)),void 0!==i.occlusionTexture.strength&&(o.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&t!==h.W&&(o.emissive=(new h.m).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&t!==h.W&&s.push(this.assignTexture(o,\"emissiveMap\",i.emissiveTexture.index)),Promise.all(s).then(function(){var e;return e=t===h.yb?n[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(o):new t(o),void 0!==i.name&&(e.name=i.name),e.normalScale&&(e.normalScale.y=-e.normalScale.y),e.map&&(e.map.encoding=h.Wb),e.emissiveMap&&(e.emissiveMap.encoding=h.Wb),i.extras&&(e.userData=i.extras),e})},j.prototype.loadGeometries=function(e){var t=this,n=this.extensions,i=this.primitiveCache;return this.getDependencies(\"accessor\").then(function(o){function a(e){return k(e,p,o),e}for(var s=[],l=null,c=0,u=e.length;c<u;c++){var p=e[c],d=_(i,p);if(d)s.push(d);else if(p.extensions&&p.extensions[r.KHR_DRACO_MESH_COMPRESSION])l=n[r.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(p,t).then(a),i.push({primitive:p,promise:l}),s.push(l);else{var f=new h.k;k(f,p,o),l=Promise.resolve(f),i.push({primitive:p,promise:l}),s.push(l)}}return Promise.all(s)})},j.prototype.loadMesh=function(e){var t=this,n=this.extensions,i=this.json.meshes[e];return this.getMultiDependencies([\"accessor\",\"material\"]).then(function(o){var a=new h.z,s=i.primitives;return t.loadGeometries(s).then(function(l){for(var c=0,u=s.length;c<u;c++){var p=s[c],d=l[c],S=void 0===p.material?new h.Z({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:h.x}):o.materials[p.material];S.aoMap&&void 0===d.attributes.uv2&&void 0!==d.attributes.uv&&(console.log(\"THREE.GLTFLoader: Duplicating UVs to support aoMap.\"),d.addAttribute(\"uv2\",new h.j(d.attributes.uv.array,2)));var x,T,R=void 0!==d.attributes.color,A=void 0===d.attributes.normal,M=!0===i.isSkinnedMesh,E=void 0!==p.targets;if(R||A||M||E)if(S.isGLTFSpecularGlossinessMaterial)S=n[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(S);else S=S.clone();if(R&&(S.vertexColors=h.Tb,S.needsUpdate=!0),A&&(S.flatShading=!0),p.mode===y||p.mode===w||p.mode===b||void 0===p.mode)M?(x=new h.Bb(d,S),S.skinning=!0):x=new h.V(d,S),p.mode===w?x.drawMode=h.Ib:p.mode===b&&(x.drawMode=h.Hb);else if(p.mode===m||p.mode===g||p.mode===v){T=\"LineBasicMaterial:\"+S.uuid;var C=t.cache.get(T);C||(C=new h.H,h.R.prototype.copy.call(C,S),C.color.copy(S.color),C.lights=!1,t.cache.add(T,C)),S=C,x=p.mode===m?new h.J(d,S):p.mode===g?new h.G(d,S):new h.I(d,S)}else{if(p.mode!==f)throw new Error(\"THREE.GLTFLoader: Primitive mode unsupported: \"+p.mode);T=\"PointsMaterial:\"+S.uuid;var L=t.cache.get(T);L||(L=new h.lb,h.R.prototype.copy.call(L,S),L.color.copy(S.color),L.map=S.map,L.lights=!1,t.cache.add(T,L)),S=L,x=new h.kb(d,S)}if(x.name=i.name||\"mesh_\"+e,E&&(U(x,i,p,o.accessors),S.morphTargets=!0,void 0!==x.geometry.morphAttributes.normal&&(S.morphNormals=!0)),void 0!==i.extras&&(x.userData=i.extras),void 0!==p.extras&&(x.geometry.userData=p.extras),!0===S.isGLTFSpecularGlossinessMaterial&&(x.onBeforeRender=n[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms),!(s.length>1))return x;x.name+=\"_\"+c,a.add(x)}return a})})},j.prototype.loadCamera=function(e){var t,r=this.json.cameras[e],n=r[r.type];if(n)return\"perspective\"===r.type?t=new h.hb(h.S.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):\"orthographic\"===r.type&&(t=new h.gb(n.xmag/-2,n.xmag/2,n.ymag/2,n.ymag/-2,n.znear,n.zfar)),void 0!==r.name&&(t.name=r.name),r.extras&&(t.userData=r.extras),Promise.resolve(t);console.warn(\"THREE.GLTFLoader: Missing camera parameters.\")},j.prototype.loadSkin=function(e){var t=this.json.skins[e],r={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(r):this.getDependency(\"accessor\",t.inverseBindMatrices).then(function(e){return r.inverseBindMatrices=e,r})},j.prototype.loadAnimation=function(e){var t=this.json.animations[e];return this.getMultiDependencies([\"accessor\",\"node\"]).then(function(r){var n=[];function i(e){!0===e.isMesh&&!0===e.material.morphTargets&&S.push(e.name?e.name:e.uuid)}for(var o=0,a=t.channels.length;o<a;o++){var s,l=t.channels[o],c=t.samplers[l.sampler];if(c){var u=l.target;s=void 0!==u.node?u.node:u.id;var p=void 0!==t.parameters?t.parameters[c.input]:c.input,f=void 0!==t.parameters?t.parameters[c.output]:c.output,m=r.accessors[p],v=r.accessors[f],g=r.nodes[s];if(g){var y;switch(g.updateMatrix(),g.matrixAutoUpdate=!0,C[u.path]){case C.weights:y=h.eb;break;case C.rotation:y=h.ob;break;case C.position:case C.scale:default:y=h.Sb}var w=g.name?g.name:g.uuid,b=void 0!==c.interpolation?L[c.interpolation]:h.E,S=[];C[u.path]===C.weights?g.traverse(i):S.push(w);for(var x=0,T=S.length;x<T;x++){var R=new y(S[x]+\".\"+C[u.path],h.f.arraySlice(m.array,0),h.f.arraySlice(v.array,0),b);\"CUBICSPLINE\"===c.interpolation&&(R.createInterpolant=function(e){return new d(this.times,this.values,this.getValueSize()/3,e)},R.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),n.push(R)}}}}return s=void 0!==t.name?t.name:\"animation_\"+e,new h.d(s,void 0,n)})},j.prototype.loadNode=function(e){var t=this.extensions,n=this.json.meshReferences,i=this.json.meshUses,o=this.json.nodes[e];return this.getMultiDependencies([\"mesh\",\"skin\",\"camera\",\"light\"]).then(function(e){var a;if(!0===o.isBone)a=new h.g;else if(void 0!==o.mesh){var s=e.meshes[o.mesh];if(a=s.clone(),!0===s.isGroup)for(var l=0,c=s.children.length;l<c;l++){var u=s.children[l];u.material&&!0===u.material.isGLTFSpecularGlossinessMaterial&&(a.children[l].onBeforeRender=u.onBeforeRender)}else s.material&&!0===s.material.isGLTFSpecularGlossinessMaterial&&(a.onBeforeRender=s.onBeforeRender);n[o.mesh]>1&&(a.name+=\"_instance_\"+i[o.mesh]++)}else if(void 0!==o.camera)a=e.cameras[o.camera];else if(o.extensions&&o.extensions[r.KHR_LIGHTS]&&void 0!==o.extensions[r.KHR_LIGHTS].light){a=t[r.KHR_LIGHTS].lights[o.extensions[r.KHR_LIGHTS].light]}else a=new h.fb;if(void 0!==o.name&&(a.name=h.mb.sanitizeNodeName(o.name)),o.extras&&(a.userData=o.extras),void 0!==o.matrix){var p=new h.U;p.fromArray(o.matrix),a.applyMatrix(p)}else void 0!==o.translation&&a.position.fromArray(o.translation),void 0!==o.rotation&&a.quaternion.fromArray(o.rotation),void 0!==o.scale&&a.scale.fromArray(o.scale);return a})},j.prototype.loadScene=function(){function e(t,r,n,i,o){var a=i[t],s=n.nodes[t];if(void 0!==s.skin)for(var l=!0===a.isGroup?a.children:[a],c=0,u=l.length;c<u;c++){for(var p=l[c],d=o[s.skin],f=[],m=[],v=0,g=d.joints.length;v<g;v++){var y=d.joints[v],w=i[y];if(w){f.push(w);var b=new h.U;void 0!==d.inverseBindMatrices&&b.fromArray(d.inverseBindMatrices.array,16*v),m.push(b)}else console.warn('THREE.GLTFLoader: Joint \"%s\" could not be found.',y)}p.bind(new h.zb(f,m),p.matrixWorld)}if(r.add(a),s.children)for(var S=s.children,x=0,T=S.length;x<T;x++){e(S[x],a,n,i,o)}}return function(t){var n=this.json,i=this.extensions,o=this.json.scenes[t];return this.getMultiDependencies([\"node\",\"skin\"]).then(function(t){var a=new h.wb;void 0!==o.name&&(a.name=o.name),o.extras&&(a.userData=o.extras);for(var s=o.nodes||[],l=0,c=s.length;l<c;l++)e(s[l],a,n,t.nodes,t.skins);if(o.extensions&&o.extensions[r.KHR_LIGHTS]&&void 0!==o.extensions[r.KHR_LIGHTS].light){var u=i[r.KHR_LIGHTS].lights;a.add(u[o.extensions[r.KHR_LIGHTS].light])}return a})}}(),e}(),At=r(27),Mt=r.n(At),Et=W(new Rt).load(Mt.a).then(function(e){return function e(t){if(t){if(t.isMesh)return t;if(t.children&&t.children.length)for(var r=0;r<t.children.length;r++){var n=e(t.children[r]);if(n&&n.isMesh)return n}}}(e.scene)}),Ct=function(){var e=Object(Ke.a)(Ve.a.mark(function e(t){var r,n,i,o,a,s,l,c,u;return Ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.parent,n=t.x,i=void 0===n?0:n,o=t.y,a=void 0===o?0:o,s=t.z,l=void 0===s?0:s,e.next=3,ot({parent:r,x:i,y:a,z:l,mesh:Et,morphTargets:{rudderLeft:0,rudderRight:1,leftFlapUp:2,leftFlapDown:3,rightFlapUp:4,rightFlapDown:5}});case 3:return c=e.sent,(u={}).controls={while:!0,directions:[{heading:0,pose:\"rudderRight\"},{heading:-60,pose:\"leftFlapDown\"},{heading:-120,pose:\"leftFlapUp\"},{heading:-180,pose:\"rudderLeft\"},{heading:60,pose:\"rightFlapUp\"},{heading:120,pose:\"rightFlapDown\"},{heading:180,pose:\"rudderLeft\"}],update:function(e,t,r,n){var i=r.directions,o=n.gamepadController,a=null;if(null!==o.leftStick.heading){var s=h.S.radToDeg(o.leftStick.heading),l=i.find(function(e){return Y(s,e.heading-30,e.heading+30)});l&&(a=l.pose)}i.forEach(function(t){var r=e.poses[t.pose],n=r();r(n+(t.pose===a?.01:-.01))})}},e.abrupt(\"return\",Object(St.a)({},c,{timelines:u}));case 7:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Lt=r(28),It=new h.wb,Ot=function(){var e=new h.hb(90,window.innerWidth/window.innerHeight,1,1e3),t=e.lookAt;return e.lookAt=function(r){t.apply(e,[r]),e.target=r},e.timelines={},e.shake=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400;e.timelines.shake||(e.timelines.shake={duration:t,startPos:e.position.clone(),seed:Date.now(),update:function(e,t,r,n){var i=n.seed,o=n.startPos;e.position.x=o.x+K(Object(Ye.noise)(i+r),0,1,-1.25,1.25),e.position.y=o.y+K(Object(Ye.noise)(i+250+r),0,1,-1.25,1.25)}})},e.resize=function(t,r,n){e.aspect=t/r,e.updateProjectionMatrix()},e}(),Pt=new Lt.a({timestep:1/60,iterations:8,broadphase:2,worldscale:1,random:!0,info:!1,gravity:[0,-9.8,0]}),Dt=Object(Ke.a)(Ve.a.mark(function e(){var t,r,n,o,a,s,l,c,u;return Ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return G(It),Pt.clear(),t=new h.c(16777215,1),(r=new h.r(16777215,.95)).position.set(50,50,50),It.add(t),It.add(r),Ot.position.set(0,2,6),Ot.lookAt(new h.Qb(0,0,0)),e.next=11,$e({y:1});case 11:return n=e.sent,e.next=14,ct({y:1});case 14:return o=e.sent,e.next=17,bt({y:1});case 17:return a=e.sent,e.next=20,Ct({y:1});case 20:return s=e.sent,l=nt({parent:It,world:Pt,items:[o,n,a,s]}),c={renderer:i.a.createElement(tt,null)},u={scene:It,camera:Ot,world:Pt,droid:o,cuphead:n,portal:a,jet:s,turntable:l,hud:c},e.abrupt(\"return\",u);case 25:case\"end\":return e.stop()}},e)})),Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pixelSize,r=void 0===t?5:t,n=e.borderSize,i=void 0===n?1:n,o=e.lightenFactor,a=void 0===o?1.8:o,s=e.softenFactor,l=void 0===s?.75:s,c=e.darkenFactor,u=void 0===c?.5:c,p=e.resolution;return{uniforms:{tDiffuse:{value:null},pixelSize:{value:r},borderFraction:{value:i/r},lightenFactor:{value:a},softenFactor:{value:l},darkenFactor:{value:u},resolution:{value:void 0===p?new h.Pb(window.innerWidth,window.innerHeight):p}},vertexShader:\"\\n\\t\\t\\tvarying highp vec2 vUv;\\n\\n\\t\\t\\tvoid main() {\\n\\t\\t\\t\\tvUv = uv;\\n\\t\\t\\t\\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n\\t\\t\\t}\",fragmentShader:\"\\n\\t\\t\\tuniform sampler2D tDiffuse;\\n\\t\\t\\tuniform float pixelSize;\\n\\t\\t\\tuniform float borderFraction;\\n\\t\\t\\tuniform float lightenFactor;\\n\\t\\t\\tuniform float softenFactor;\\n\\t\\t\\tuniform float darkenFactor;\\n\\t\\t\\tuniform vec2 resolution;\\n\\n\\t\\t\\tvarying highp vec2 vUv;\\n\\n\\t\\t\\tvoid main(){\\n\\t\\t\\t\\tvec2 dxy = pixelSize / resolution;\\n\\t\\t\\t\\tvec2 pixel = vUv / dxy;\\n\\t\\t\\t\\tvec2 fraction = fract(pixel);\\n\\t\\t\\t\\tvec2 coord = dxy * floor(pixel);\\n\\t\\t\\t\\tvec3 color = texture2D(tDiffuse, coord).xyz;\\n\\n\\t\\t\\t\\tif (fraction.y > (1.0 - borderFraction))\\n\\t\\t\\t\\t\\tcolor = color * lightenFactor;\\n\\n\\t\\t\\t\\tif (fraction.x < borderFraction)\\n\\t\\t\\t\\t\\tcolor = color * softenFactor;\\n\\n\\t\\t\\t\\tif (fraction.y < borderFraction)\\n\\t\\t\\t\\t\\tcolor = color * darkenFactor;\\n\\n\\t\\t\\t\\tgl_FragColor = vec4(color, 1);\\n\\t\\t\\t}\"}};r(15);function Ft(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(p.a)(e);if(t){var i=Object(p.a)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var _t=function(e){Object(c.a)(r,e);var t=Ft(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:\"render\",value:function(){return i.a.createElement(d.GameEngine,{className:\"game\",systems:We,entities:Dt(),renderer:U(new w(Ut()))})}}]),r}(i.a.Component),Gt=Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function jt(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){\"installed\"===r.state&&(navigator.serviceWorker.controller?(console.log(\"New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA.\"),t&&t.onUpdate&&t.onUpdate(e)):(console.log(\"Content is cached for offline use.\"),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error(\"Error during service worker registration:\",e)})}a.a.render(i.a.createElement(_t,null),document.getElementById(\"root\")),function(e){if(\"serviceWorker\"in navigator){if(new URL(\"\",window.location.href).origin!==window.location.origin)return;window.addEventListener(\"load\",function(){var t=\"\".concat(\"\",\"/service-worker.js\");Gt?(function(e,t){fetch(e).then(function(r){var n=r.headers.get(\"content-type\");404===r.status||null!=n&&-1===n.indexOf(\"javascript\")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):jt(e,t)}).catch(function(){console.log(\"No internet connection found. App is running in offline mode.\")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log(\"This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA\")})):jt(t,e)})}}()}],[[31,1,2]]]);","extractedComments":[]}